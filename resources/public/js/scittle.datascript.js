globalThis.datascript = {};(function(){
'use strict';var $1=function(a,b,c,d,e){this.Ne=a;this.Ii=b;this.Ki=c;this.we=d;this.jb=e;this.G=2147484416;this.J=0},b2=function(a,b,c){var d=a.Ne,e=a.Ii,f=a.Ki,g=a.we;a=a.jb;var h=f.g?f.g(b,null):f.call(null,b,null);if($APP.p(h))return new $1(d,$APP.Vi.j($APP.zm.g(e,h),g,b),$APP.Vi.j(f,b,g),g+1,a);b=new $1($APP.Vi.j(d,b,c),$APP.Vi.j(e,g,b),$APP.Vi.j(f,b,g),g+1,a);return a2.h?a2.h(b):a2.call(null,b)},a2=function(a){if($APP.de(a.Ne)>a.jb){var b=a.Ne,c=a.Ii,d=a.Ki,e=a.we;a=a.jb;var f=$APP.y(c),g=$APP.C.j(f,
0,null);f=$APP.C.j(f,1,null);return new $1($APP.zm.g(b,f),$APP.zm.g(c,g),$APP.zm.g(d,f),e,a)}return a},c2=function(a,b,c){if(null!=a&&null!=a.Ei)a=a.Ei(a,b,c);else{var d=c2[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=c2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("ICache.-get",a);}return a},e2=function(){var a=$APP.Kg(new $1($APP.fg,$APP.ry(),$APP.fg,0,100));if("undefined"===typeof datascript||"undefined"===typeof Pya||"undefined"===typeof d2)d2=
function(b,c,d){this.jb=b;this.Xf=c;this.rk=d;this.G=393216;this.J=0},d2.prototype.W=function(b,c){return new d2(this.jb,this.Xf,c)},d2.prototype.U=function(){return this.rk},d2.prototype.Ei=function(b,c,d){b=$APP.Te.j($APP.r(this.Xf),c,null);return null==b?(d=d.B?d.B():d.call(null),$APP.id(this.Xf,$APP.Vi.j($APP.r(this.Xf),c,d)),d):b},d2.Mc=!0,d2.Ac="datascript.lru/t_datascript$lru38227",d2.Vc=function(b){return $APP.Lc(b,"datascript.lru/t_datascript$lru38227")};return new d2(100,a,$APP.fg)},Qya=
function(a){return $APP.df.j(function(b,c){b.push(c);return b},[],a)},f2=function(a){return a instanceof Array},g2=function(a,b,c,d){for(var e=0,f=$APP.qf(c);;)if(e<=f){c=e+f>>>1;var g=b[c];0>(a.g?a.g(g,d):a.call(null,g,d))?e=c+1:f=c-1}else return e},h2=function(a,b,c,d){for(var e=0,f=$APP.qf(c);;)if(e<=f){c=e+f>>>1;var g=b[c];0<(a.g?a.g(g,d):a.call(null,g,d))?f=c-1:e=c+1}else return e},i2=function(a,b,c){var d=b.length,e=g2(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.g?a.g(b,c):a.call(null,b,c));return d?
e:-1},j2=function(a,b,c){var d=b.length;a=g2(a,b,d-1,c);return a===d?-1:a},k2=function(a,b,c,d,e,f){var g=f.length,h=d-b,n=h+g,k=Array(h+g+(c-e));d-=b;for(var t=0;;)if(t<d)k[t+0]=a[t+b],t+=1;else break;b=g-0;for(g=0;;)if(g<b)k[g+h]=f[g+0],g+=1;else break;c-=e;for(f=0;;)if(f<c)k[f+n]=a[f+e],f+=1;else break;return k},l2=function(a,b,c,d){return k2(a,0,a.length,b,c,d)},m2=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,g=Array(f);e=Array(e-f);if(c<=f){for(var h=c-0,n=0;;)if(n<h)g[n+0]=a[n+0],n+=
1;else break;a=f-c;for(h=0;;)if(h<a)g[h+c]=b[h+0],h+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{h=f-0;for(n=0;;)if(n<h)g[n+0]=a[n+0],n+=1;else break;h=c-f;for(n=0;;)if(n<h)e[n+0]=a[n+f],n+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[g,e]},n2=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var g=b[f+c],h=e[f+0];if(0!==(a.g?a.g(g,h):a.call(null,g,h)))return!1;f+=1}else return f},o2=function(a,b){return $APP.p(a)?$APP.p(b)?
[a,b]:[a]:[b]},p2=function(a,b,c){return $APP.p(a)?$APP.p(b)?$APP.p(c)?[a,b,c]:[a,b]:$APP.p(c)?[a,c]:[a]:$APP.p(b)?$APP.p(c)?[b,c]:[b]:[c]},q2=function(a){if(null!=a&&null!=a.Ih)a=a.Ih(a);else{var b=q2[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=q2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("INode.node-lim-key",a);}return a},r2=function(a){if(null!=a&&null!=a.Li)a=a.keys.length;else{var b=r2[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);
else if(b=r2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("INode.node-len",a);}return a},s2=function(a,b){if(null!=a&&null!=a.Kh)a=a.Kh(a,b);else{var c=s2[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=s2._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("INode.node-merge",a);}return a},t2=function(a,b){if(null!=a&&null!=a.Lh)a=a.Lh(a,b);else{var c=t2[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=t2._,null!=c)a=
c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("INode.node-merge-n-split",a);}return a},u2=function(a,b,c){if(null!=a&&null!=a.Jh)a=a.Jh(a,b,c);else{var d=u2[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=u2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("INode.node-lookup",a);}return a},v2=function(a,b,c){if(null!=a&&null!=a.Gh)a=a.Gh(a,b,c);else{var d=v2[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=v2._,
null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("INode.node-conj",a);}return a},w2=function(a,b,c,d,e,f){if(null!=a&&null!=a.Hh)a=a.Hh(a,b,c,d,e,f);else{var g=w2[$APP.ma(null==a?null:a)];if(null!=g)a=g.ua?g.ua(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f);else if(g=w2._,null!=g)a=g.ua?g.ua(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f);else throw $APP.Bb("INode.node-disj",a);}return a},x2=function(a,b,c,d){if($APP.p(b))return[a];if(16<r2(a))return p2(c,a,d);if($APP.p($APP.p(c)?16>=r2(c):c))return o2(s2(c,
a),d);if($APP.p($APP.p(d)?16>=r2(d):d))return o2(c,s2(a,d));if($APP.p($APP.p(c)?null==d||r2(c)<r2(d):c))return a=t2(c,a),p2(a[0],a[1],d);a=t2(a,d);return p2(c,a[0],a[1])},y2=function(a,b){this.keys=a;this.Pb=b},z2=function(a){this.keys=a},A2=function(a,b,c,d,e,f){this.root=a;this.shift=b;this.M=c;this.Ic=d;this.K=e;this.Lc=f;this.G=2297303311;this.J=8332},D2=function(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Pb[B2&b>>>c],c-=C2;else return a.keys},E2=function(a,b,c,d){return new A2(b,c,d,a.Ic,a.K,
null)},G2=function(a,b){return F2(a.root,b,a.shift)},H2=function(a,b){for(var c=0;;)if(0<b)c|=a.Pb.length-1<<b,b-=C2,a=a.Pb,a=a[a.length-1];else return c|a.keys.length-1<<0},J2=function(a,b){return I2(a.root,b,a.shift)},L2=function(a){if(0<r2(a.root)){var b=H2(a.root,a.shift)+1;return K2.j?K2.j(a,0,b):K2.call(null,a,0,b)}return null},M2=function(a,b,c){this.H=a;this.kb=b;this.end=c;this.G=524306;this.J=0},N2=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.G=2309488832;
this.J=1536},K2=function(a,b,c){return new N2(a,b,c,D2(a,b),B2&b>>>0)},O2=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.G=2308964544;this.J=0},P2=function(a,b,c){return new O2(a,b,c,D2(a,c),B2&c>>>0)},Q2=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,g=a.shift;;){var h=r2(e);if(0===g){var n=e.keys;n=g2(d,n,h-1,b);b=h===n?-1:f|n<<0;break a}n=e.keys;n=g2(d,n,h-2,b);f|=n<<g;g-=C2;e=e.Pb[n]}if(0>b)return null;a:if(null==c)c=H2(a.root,a.shift)+1;else for(e=
a.root,f=0,g=a.shift;;){n=r2(e);if(0===g){h=e.keys;n=h2(d,h,n-1,c);c=f|n<<0;break a}h=e.keys;n=h2(d,h,n-2,c);f|=n<<g;g-=C2;e=e.Pb[n]}return c>b?new N2(a,b,c,D2(a,b),B2&b>>>0):null},R2=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.h?a.h(f):a.call(null,f);b[e]=f;d+=1}else break;return b},S2=function(a){var b=a.length,c=$APP.Sc($APP.ch);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){$APP.bh.g(c,a.slice(d));break}else 40<=e?($APP.bh.g(c,a.slice(d,d+24)),d+=24):(e>>>=1,$APP.bh.g(c,a.slice(d,
d+e)),d+=e)}return $APP.ef($APP.Uc(c))},T2=function(a,b,c){b=v2(a.root,c,b);return null==b?a:1===b.length?E2(a,b[0],a.shift,a.M+1):E2(a,new y2(b.map(q2),b),a.shift+C2,a.M+1)},U2=function(a,b,c){b=w2(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof y2&&1===b.Pb.length?E2(a,b.Pb[0],a.shift-C2,a.M-1):E2(a,b,a.shift,a.M-1)},V2=function(a,b,c){return Q2(a,b,c,a.Ic)},W2=function(a,b){for(var c=R2(function(g){return new z2(g)},S2(b)),d=c,e=0;;){var f=$APP.de(d);switch(f){case 0:return new A2(new z2([]),
0,0,a,null,null);case 1:return new A2($APP.y(d),e,b.length,a,null,null);default:d=R2(function(){return function(g){return new y2(g.map(q2),g)}}(d,e,f,c),S2(d)),e+=C2}}},X2=function(a){return new A2(new z2([]),0,0,a,null,null)},Y2=function(a){return"string"!==typeof a&&($APP.Me(a)||f2(a))},Rya=function(a,b,c){return $APP.y($APP.df.j(function(d,e){var f=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Td(e)?$APP.Sd(new $APP.M(null,2,5,$APP.O,[e,d],null)):new $APP.M(null,
2,5,$APP.O,[e,d+1],null)},new $APP.M(null,2,5,$APP.O,[b,0],null),c))},Z2=function(a,b){return $APP.yd(a,b)},$2=function(a){if(null!=a&&null!=a.Za)a=a.Za(a);else{var b=$2[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=$2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IDatom.datom-tx",a);}return a},a3=function(a){if(null!=a&&null!=a.Wc)a=a.Wc(a);else{var b=a3[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=a3._,null!=b)a=b.h?b.h(a):b.call(null,
a);else throw $APP.Bb("IDatom.datom-added",a);}return a},b3=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Lc=f;this.G=2162164496;this.J=0},c3=function(a){return a instanceof b3},d3=function(a){return Z2(Z2($APP.xd(a.e),$APP.xd(a.a)),$APP.xd(a.v))},e3=function(a,b){return a.e===b.e&&$APP.A.g(a.a,b.a)&&$APP.A.g(a.v,b.v)},f3=function(a){return new $APP.G(null,a.e,new $APP.G(null,a.a,new $APP.G(null,a.v,new $APP.G(null,a.Za(null),new $APP.G(null,a.Wc(null),null,1,null),2,
null),3,null),4,null),5,null)},i3=function(a,b,c){return $APP.A.g(g3,b)?a.v:$APP.A.g("e",b)?a.e:$APP.A.g($APP.ID,b)?a.Wc(null):$APP.A.g("v",b)?a.v:$APP.A.g($APP.SG,b)?a.e:$APP.A.g("a",b)?a.a:$APP.A.g(Sya,b)?a.Za(null):$APP.A.g("added",b)?a.Wc(null):$APP.A.g("tx",b)?a.Za(null):$APP.A.g(h3,b)?a.a:c},l3=function(a){switch(arguments.length){case 2:return j3(arguments[0],arguments[1]);case 3:return k3(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));
}},j3=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Za(null);case 4:return a.Wc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.q.h(b)].join(""));}},k3=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Za(null);case 4:return a.Wc(null);default:return c}},n3=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "e":return m3.N(c,a.a,a.v,a.Za(null),a.Wc(null));case "a":return m3.N(a.e,
c,a.v,a.Za(null),a.Wc(null));case "v":return m3.N(a.e,a.a,c,a.Za(null),a.Wc(null));case "tx":return m3.N(a.e,a.a,a.v,c,a.Wc(null));case "added":return m3.N(a.e,a.a,a.v,a.Za(null),c);default:throw new Tya(["invalid key for #datascript/Datom: ",$APP.q.h(b)].join(""));}},o3=function(a){return $APP.Dg.g(m3,a)},p3=function(a,b){return null==a?0:null==b?0:$APP.Ye(a,b)},q3=function(a,b){return $APP.Za($APP.Db($APP.Ab(a)),$APP.Db($APP.Ab(b)))},r3=function(a,b){try{return $APP.A.g(a,b)?0:(null!=a?a.J&2048||
$APP.wd===a.Bd||(a.J?0:$APP.zb($APP.Zc,a)):$APP.zb($APP.Zc,a))?$APP.$c(a,b):$APP.Ab(a)===$APP.Ab(b)?"number"===typeof a||"string"===typeof a||$APP.tb(a)||!0===a||!1===a?$APP.Za(a,b):$APP.xd(a)-$APP.xd(b):q3(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Ab(a)===$APP.Ab(b))throw c;return q3(a,b)}throw d;}},s3=function(a,b){return null==a?0:null==b?0:r3(a,b)},t3=function(a,b){var c=a.e-b.e;return 0===c?(c=p3(a.a,b.a),0===c?(c=s3(a.v,b.v),0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},u3=function(a,
b){var c=p3(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=s3(a.v,b.v),0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},v3=function(a,b){var c=p3(a.a,b.a);return 0===c?(c=s3(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},w3=function(a,b){return a instanceof $APP.H?$APP.$c(a,b):$APP.Za(a,b)},x3=function(a,b){var c=a.e-b.e;return 0===c?(c=w3(a.a,b.a),0===c?(a=r3(a.v,b.v),0===a?0:a):c):c},y3=function(a,b){var c=a.e-b.e;return 0===c?(c=w3(a.a,b.a),0===c?(c=r3(a.v,b.v),0===c?
(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},z3=function(a,b){var c=w3(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=r3(a.v,b.v),0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},A3=function(a,b){var c=w3(a.a,b.a);return 0===c?(c=r3(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},B3=function(){},C3=function(a,b){if(null!=a&&null!=a.wh)a=a.wh(a,b);else{var c=C3[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=C3._,null!=c)a=c.g?c.g(a,b):c.call(null,
a,b);else throw $APP.Bb("ISearch.-search",a);}return a},D3=function(a,b){return $APP.y(C3(a,b))},E3=function(a,b,c){if(null!=a&&null!=a.th)a=a.th(a,b,c);else{var d=E3[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=E3._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IIndexAccess.-datoms",a);}return a},F3=function(a,b,c){if(null!=a&&null!=a.vh)a=a.vh(a,b,c);else{var d=F3[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=
F3._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IIndexAccess.-seek-datoms",a);}return a},G3=function(a,b,c,d){if(null!=a&&null!=a.uh)a=a.uh(a,b,c,d);else{var e=G3[$APP.ma(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=G3._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Bb("IIndexAccess.-index-range",a);}return a},J3=function(a,b,c){if($APP.A.g(b,H3)&&(b=$APP.y(c),null!=b&&!$APP.p(I3.g?I3.g(a,b):I3.call(null,a,b))))throw $APP.Jm.g(["Attribute ",
$APP.ck.l($APP.D([b]))," should be marked as :db/index true"].join(""),new $APP.m(null,3,[$APP.dE,Uya,Vya,H3,Wya,c],null));},K3=function(){},L3=function(a){if(null!=a&&null!=a.sh)a=a.sh(a);else{var b=L3[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=L3._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IDB.-schema",a);}return a},M3=function(a,b){if(null!=a&&null!=a.rh)a=a.rh(a,b);else{var c=M3[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=
M3._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IDB.-attrs-by",a);}return a},N3=function(a,b,c,d,e,f,g,h,n,k,t,v,x){this.cc=a;this.Kb=b;this.hc=c;this.Zb=d;this.vc=e;this.wc=f;this.mc=g;this.lc=h;this.kc=n;this.hash=k;this.s=t;this.o=v;this.C=x;this.G=2230716170;this.J=139264},X3=function(a){var b=$APP.zm.l(a,O3,$APP.D([P3,Q3,H3,R3,S3,T3,U3,V3,W3]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new N3(O3.h(a),P3.h(a),Q3.h(a),H3.h(a),R3.h(a),S3.h(a),T3.h(a),U3.h(a),V3.h(a),W3.h(a),null,
$APP.hg(b),null)},Y3=function(a,b,c,d,e,f){this.oc=a;this.Jc=b;this.hash=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},Z3=function(a){return a instanceof Y3?a.oc:a},Xya=function(a,b){switch(b instanceof $APP.H?b.P:null){case "db.unique/identity":return new $APP.M(null,3,5,$APP.O,[$3,a4,b4],null);case "db.unique/value":return new $APP.M(null,3,5,$APP.O,[$3,c4,b4],null);case "db.cardinality/many":return new $APP.M(null,1,5,$APP.O,[d4],null);case "db.type/ref":return new $APP.M(null,
2,5,$APP.O,[e4,b4],null);default:return $APP.A.g(f4,a)&&!0===b?new $APP.M(null,1,5,$APP.O,[f4],null):$APP.A.g(b4,a)&&!0===b?new $APP.M(null,1,5,$APP.O,[b4],null):$APP.A.g(g4,a)?new $APP.M(null,2,5,$APP.O,[h4,b4],null):$APP.ch}},Yya=function(a,b){return $APP.df.j(function(c,d){return Rya(function(e,f,g){return $APP.Vn.N(e,f,$APP.Vi,d,g)},c,g4.h($APP.Te.g(a,d)))},$APP.fg,h4.h(b))},j4=function(a){var b=$APP.lf(function(c,d,e){return $APP.lf(function(f,g,h){return $APP.df.j(function(n,k){return $APP.Vn.F(n,
k,Zya,d)},f,Xya(g,h))},c,e)},$APP.fg,a);return $APP.Vi.j(b,i4,Yya(a,b))},m4=function(a,b,c,d){if(null!=c&&!$APP.Ve(d,c))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([$APP.eg([a,$APP.eg([b,c])])])),", expected one of ",$APP.q.h(d)].join(""),new $APP.m(null,4,[$APP.dE,k4,l4,a,$APP.DF,b,$APP.qE,c],null));},q4=function(a){for(var b=$APP.w(a),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),g=$APP.C.j(f,0,null),h=$APP.C.j(f,1,null),n=f4.g(h,!1);m4(g,f4,f4.h(h),new $APP.$i(null,new $APP.m(null,
2,[!0,null,!1,null],null),null));if($APP.p(function(){var T=n;return $APP.p(T)?$APP.Ui.g(n4.h(h),e4):T}()))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([g])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.m(null,3,[$APP.dE,k4,l4,g,$APP.DF,f4],null));m4(g,$3,$3.h(h),new $APP.$i(null,new $APP.m(null,2,[a4,null,c4,null],null),null));m4(g,n4,n4.h(h),new $APP.$i(null,new $APP.m(null,2,[h4,null,e4,null],null),null));m4(g,o4,o4.h(h),new $APP.$i(null,
new $APP.m(null,2,[d4,null,p4,null],null),null));if($APP.A.g(h4,n4.h(h))&&!$APP.Ve(h,g4))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([g])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.m(null,3,[$APP.dE,k4,l4,g,$APP.DF,n4],null));if($APP.Ve(h,g4)){f=new $APP.m(null,3,[$APP.dE,k4,l4,g,$APP.DF,g4],null);if($APP.A.g(d4,o4.h(h)))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var k=
g4.h(h);if(!$APP.Ce(k))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.ck.l($APP.D([k]))].join(""),f);if($APP.ye(k))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t be empty"].join(""),f);k=$APP.w(k);for(var t=null,v=0,x=0;;)if(x<v){var B=t.ga(null,x),F=$APP.Vi.j(f,$APP.qE,B);if($APP.Ve($APP.Te.g(a,B),g4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([B]))].join(""),
F);if($APP.A.g(d4,o4.h($APP.Te.g(a,B))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([B]))].join(""),F);x+=1}else if(k=$APP.w(k)){if($APP.Ge(k))v=$APP.bd(k),k=$APP.cd(k),t=v,v=$APP.de(v);else{t=$APP.y(k);v=$APP.Vi.j(f,$APP.qE,t);if($APP.Ve($APP.Te.g(a,t),g4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([t]))].join(""),v);if($APP.A.g(d4,o4.h($APP.Te.g(a,
t))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([t]))].join(""),v);k=$APP.z(k);t=null;v=0}x=0}else break}e+=1}else if(g=$APP.w(b)){b=g;if($APP.Ge(b))c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.de(c),c=g;else{c=$APP.y(b);g=$APP.C.j(c,0,null);h=$APP.C.j(c,1,null);var P=f4.g(h,!1);m4(g,f4,f4.h(h),new $APP.$i(null,new $APP.m(null,2,[!0,null,!1,null],null),null));if($APP.p(function(){var T=P;return $APP.p(T)?$APP.Ui.g(n4.h(h),e4):
T}()))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([g])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.m(null,3,[$APP.dE,k4,l4,g,$APP.DF,f4],null));m4(g,$3,$3.h(h),new $APP.$i(null,new $APP.m(null,2,[a4,null,c4,null],null),null));m4(g,n4,n4.h(h),new $APP.$i(null,new $APP.m(null,2,[h4,null,e4,null],null),null));m4(g,o4,o4.h(h),new $APP.$i(null,new $APP.m(null,2,[d4,null,p4,null],null),null));if($APP.A.g(h4,n4.h(h))&&!$APP.Ve(h,g4))throw $APP.Jm.g(["Bad attribute specification for ",
$APP.ck.l($APP.D([g])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.m(null,3,[$APP.dE,k4,l4,g,$APP.DF,n4],null));if($APP.Ve(h,g4)){c=new $APP.m(null,3,[$APP.dE,k4,l4,g,$APP.DF,g4],null);if($APP.A.g(d4,o4.h(h)))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=g4.h(h);if(!$APP.Ce(d))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.ck.l($APP.D([d]))].join(""),
c);if($APP.ye(d))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.w(d);e=null;for(k=f=0;;)if(k<f){t=e.ga(null,k);v=$APP.Vi.j(c,$APP.qE,t);if($APP.Ve($APP.Te.g(a,t),g4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([t]))].join(""),v);if($APP.A.g(d4,o4.h($APP.Te.g(a,t))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([t]))].join(""),
v);k+=1}else if(d=$APP.w(d)){if($APP.Ge(d))f=$APP.bd(d),d=$APP.cd(d),e=f,f=$APP.de(f);else{e=$APP.y(d);f=$APP.Vi.j(c,$APP.qE,e);if($APP.Ve($APP.Te.g(a,e),g4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([e]))].join(""),f);if($APP.A.g(d4,o4.h($APP.Te.g(a,e))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([e]))].join(""),f);d=$APP.z(d);e=null;f=0}k=0}else break}b=
$APP.z(b);c=null;d=0}e=0}else return null},$ya=function(a){var b=$APP.SG.h,c=m3.F(536870911,null,null,2147483647),d=m3.F(0,null,null,536870912);a=Q2(a,d,c,a.Ic);a=null==a?null:$APP.Fc(a);b=b.call($APP.SG,$APP.y(a));return $APP.p(b)?b:0},r4=function(a){var b=$APP.r(a.hash);return 0===b?$APP.Ig(a.hash,Z2($APP.xd(a.cc),$APP.xd(a.Kb))):b},s4=function(a){var b=$APP.r(a.hash);(function(){var c=E3(a,P3,$APP.ch);return $APP.p(c)?c:$APP.aj})();return 0===b?(b=function(){var c=E3(a,P3,$APP.ch);return $APP.p(c)?
c:$APP.aj}(),$APP.Ig(a.hash,Z2($APP.xd(L3(a)),$APP.Nd(b)))):b},t4=function(a,b){var c;if(c=b instanceof N3||b instanceof Y3)if(c=$APP.A.g(L3(a),L3(b)))a:for(a=E3(a,P3,$APP.ch),c=E3(b,P3,$APP.ch),b=$APP.w(a),a=$APP.w(c);;){if(null==b){c=null==a;break a}if($APP.A.g($APP.y(b),$APP.y(a)))b=$APP.z(b),a=$APP.z(a);else{c=!1;break a}}return c},u4=function(a,b,c){$APP.Lc(b,"#datascript/DB {");$APP.Lc(b,":schema ");$APP.Dj(L3(a),b,c);$APP.Lc(b,", :datoms ");$APP.Aj(b,function(d,e,f){return $APP.Aj(e,$APP.Dj,
"["," ","]",f,new $APP.M(null,4,5,$APP.O,[d.e,d.a,d.v,$2(d)],null))},"["," ","]",c,E3(a,P3,$APP.ch));return $APP.Lc(b,"}")},x4=function(a){var b=$APP.gg(a);a=$APP.Te.g(b,O3);b=$APP.Te.g(b,v4);return w4.g($APP.Ej.g(function(c){var d=$APP.C.j(c,0,null),e=$APP.C.j(c,1,null),f=$APP.C.j(c,2,null);c=$APP.C.j(c,3,null);return m3.F(d,e,f,c)},b),a)},D4=function(a,b,c,d,e,f,g){if($APP.p(c)){var h=new $APP.G(null,aza,new $APP.G(null,y4,new $APP.G(null,b,new $APP.G(null,c,new $APP.G(null,d,new $APP.G(null,e,
null,1,null),2,null),3,null),4,null),5,null),6,null);z4.g?z4.g(c,h):z4.call(null,c,h)}return m3.F(function(){var n=A4.g?A4.g(a,b):A4.call(null,a,b);return $APP.p(n)?n:f}(),c,$APP.p(function(){var n=null!=d;return n?B4.g?B4.g(a,c):B4.call(null,a,c):n}())?C4.g?C4.g(a,d):C4.call(null,a,d):d,function(){var n=A4.g?A4.g(a,e):A4.call(null,a,e);return $APP.p(n)?n:g}())},E4=function(a,b,c,d,e){var f=$APP.C.j(c,0,null),g=$APP.C.j(c,1,null),h=$APP.C.j(c,2,null);c=$APP.C.j(c,3,null);b=b instanceof $APP.H?b.P:
null;switch(b){case "eavt":return D4(a,f,g,h,c,d,e);case "aevt":return D4(a,g,f,h,c,d,e);case "avet":return D4(a,h,f,g,c,d,e);default:throw Error(["No matching clause: ",$APP.q.h(b)].join(""));}},F4=function(a,b,c,d,e,f,g,h){this.hd=a;this.gd=b;this.ld=c;this.jd=d;this.md=e;this.s=f;this.o=g;this.C=h;this.G=2230716170;this.J=139264},L4=function(a){var b=$APP.zm.l(a,G4,$APP.D([H4,I4,J4,K4]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new F4(G4.h(a),H4.h(a),I4.h(a),J4.h(a),K4.h(a),null,$APP.hg(b),null)},
M4=function(a,b,c){return $APP.Ve(M3(a,c),b)},N4=function(a,b){return M4(a,b,d4)},B4=function(a,b){return M4(a,b,e4)},I3=function(a,b){return M4(a,b,b4)},R4=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Jm.g(["Highest supported entity id is ",$APP.ck.l($APP.D([2147483647])),", got ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.dE,O4,$APP.qE,b],null));return b}if($APP.Ce(b)){var c=b,d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);if($APP.Ui.g($APP.de(b),2))throw $APP.Jm.g(["Lookup ref should contain 2 elements: ",
$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.dE,bza,O4,b],null));if(M4(a,d,$3))return null==c?null:$APP.SG.h($APP.y(E3(a,H3,b)));throw $APP.Jm.g(["Lookup ref attribute should be marked as :db/unique: ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.dE,cza,O4,b],null));}if($APP.tb(b))b=$APP.D(b);else{if(b instanceof $APP.H)return $APP.SG.h($APP.y(E3(a,H3,new $APP.M(null,2,5,$APP.O,[P4,b],null))));throw $APP.Jm.g(["Expected number or lookup ref for entity id, got ",$APP.ck.l($APP.D([b]))].join(""),
new $APP.m(null,2,[$APP.dE,Q4,O4,b],null));}}},C4=function(a,b){a=R4(a,b);if($APP.p(a))return a;throw $APP.Jm.g(["Nothing found for entity id ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.dE,dza,O4,b],null));},A4=function(a,b){return $APP.p(b)?C4(a,b):null},z4=function(a,b){if(a instanceof $APP.H||"string"===typeof a)return null;throw $APP.Jm.g(["Bad entity attribute ",$APP.ck.l($APP.D([a]))," at ",$APP.ck.l($APP.D([b])),", expected keyword or string"].join(""),new $APP.m(null,3,[$APP.dE,
S4,l4,a,T4,b],null));},U4=function(a,b){if(null==a)throw $APP.Jm.g(["Cannot store nil as a value at ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,3,[$APP.dE,S4,$APP.qE,a,T4,b],null));return null},V4=function(a){return $APP.er.g(a,new $APP.M(null,2,5,$APP.O,[G4,S3],null))+1},X4=function(a){return $APP.A.g(a,W4)||$APP.A.g(a,":db/current-tx")||$APP.A.g(a,"datomic.tx")||$APP.A.g(a,"datascript.tx")},Y4=function(a){return"number"===typeof a&&0>a||"string"===typeof a},Z4=function(a,b){return b>R3.h(a)&&
536870912>b?$APP.Vi.j(a,R3,b):a},$4=function(a,b,c){var d=X4(b)?$APP.Vn.N(a,J4,$APP.Vi,b,c):a;d=Y4(b)?$APP.Vn.N(d,J4,$APP.Vi,b,c):d;if(b=!Y4(b))a=H4.h(a),b=c>R3.h(a)&&536870912>c;a=b?$APP.Vn.N(d,J4,$APP.Vi,c,c):d;return $APP.Vn.F(a,H4,Z4,c)},eza=function(a,b,c,d,e){return $APP.lf(function(f,g,h){var n=$APP.Te.g(f,g);$APP.p(n)||(n=g3.h($APP.y(E3(c,P3,new $APP.M(null,2,5,$APP.O,[d,g],null)))),n=$APP.p(n)?n:$APP.ff($APP.oo.g($APP.de(g4.h($APP.Te.g(L3(c),g))),null)));h=$APP.Vi.j(n,h,e);return $APP.Vi.j(f,
g,h)},a,b)},b5=function(a,b){var c=H4.h(a),d=h3.h(b),e=$APP.Vn.F,f=$APP.Vi.j;var g=b.Wc(null);g=$APP.p(g)?M4(c,b.a,$3):g;if($APP.p(g)&&(g=$APP.hg(E3(c,H3,new $APP.M(null,2,5,$APP.O,[b.a,b.v],null))),null!=g))throw $APP.Jm.g(["Cannot add ",$APP.ck.l($APP.D([b]))," because of unique constraint: ",$APP.ck.l($APP.D([g]))].join(""),new $APP.m(null,3,[$APP.dE,fza,l4,b.a,gza,b],null));g=I3(c,b.a);if($APP.p(b.Wc(null))){var h=$APP.Vn.N(c,P3,T2,b,y3);h=$APP.Vn.N(h,Q3,T2,b,z3);g=g?$APP.Vn.N(h,H3,T2,b,A3):h;
g=Z4(g,b.e);g=$APP.Vi.j(g,W3,$APP.gk.h(0))}else if(h=D3(c,new $APP.M(null,3,5,$APP.O,[b.e,b.a,b.v],null)),null==h)g=c;else{var n=$APP.Vn.N(c,P3,U2,h,y3);n=$APP.Vn.N(n,Q3,U2,h,z3);g=g?$APP.Vn.N(n,H3,U2,h,A3):n;g=$APP.Vi.j(g,W3,$APP.gk.h(0))}a=e.call($APP.Vn,f.call($APP.Vi,a,H4,g),I4,$APP.Cf,b);return M4(c,d,i4)?(e=$APP.SG.h(b),b=$APP.p(a3(b))?g3.h(b):null,f=$APP.Te.g(a5.h(a),e),f=$APP.p(f)?f:$APP.fg,d=$APP.Te.g(M3(c,i4),d),c=eza(f,d,c,e,b),$APP.Vn.N(a,a5,$APP.Vi,e,c)):a},c5=function(a){if(a instanceof
$APP.H)return $APP.A.g("_",$APP.C.g($APP.gj(a),0));if("string"===typeof a)return $APP.Oe($APP.sj(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Jm.g(["Bad attribute type: ",$APP.ck.l($APP.D([a])),", expected keyword or string"].join(""),new $APP.m(null,2,[$APP.dE,S4,l4,a],null));},d5=function(a){if(a instanceof $APP.H)return c5(a)?$APP.Fj.g($APP.If(a),$APP.wj.g($APP.gj(a),1)):$APP.Fj.g($APP.If(a),["_",$APP.gj(a)].join(""));if("string"===typeof a){var b=$APP.sj(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.C.j(b,0,
null);a=$APP.C.j(b,1,null);b=$APP.C.j(b,2,null);return $APP.A.g("_",$APP.C.g(b,0))?$APP.p(a)?[$APP.q.h(a),"/",$APP.wj.g(b,1)].join(""):$APP.wj.g(b,1):$APP.p(a)?[$APP.q.h(a),"/_",$APP.q.h(b)].join(""):["_",$APP.q.h(b)].join("")}throw $APP.Jm.g(["Bad attribute type: ",$APP.ck.l($APP.D([a])),", expected keyword or string"].join(""),new $APP.m(null,2,[$APP.dE,S4,l4,a],null));},hza=function(a,b){function c(f,g){return $APP.df.j(function(h,n){var k=d(f,n);return null==k?$APP.Vn.F(h,0,$APP.Cf,n):$APP.Vn.N(h,
1,$APP.Vi,n,k)},new $APP.M(null,2,5,$APP.O,[$APP.ch,$APP.fg],null),g)}function d(f,g){return $APP.SG.h($APP.y(E3(a,H3,new $APP.M(null,2,5,$APP.O,[f,g],null))))}var e=$APP.hg(M3(a,a4));return null==e?new $APP.M(null,2,5,$APP.O,[b,null],null):$APP.lf(function(f,g,h){var n=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);if($APP.Ve(e,g)){if(N4(a,g)&&(f2(h)||$APP.ze(h)&&!$APP.De(h))){var k=c(g,h);h=$APP.C.j(k,0,null);k=$APP.C.j(k,1,null);return new $APP.M(null,2,5,$APP.O,[$APP.ye(h)?n:$APP.Vi.j(n,g,h),$APP.ye(k)?
f:$APP.Vi.j(f,g,k)],null)}k=d(g,h);return null==k?new $APP.M(null,2,5,$APP.O,[$APP.Vi.j(n,g,h),f],null):new $APP.M(null,2,5,$APP.O,[n,$APP.Vi.j(f,g,$APP.eg([h,k]))],null)}return new $APP.M(null,2,5,$APP.O,[$APP.Vi.j(n,g,h),f],null)},new $APP.M(null,2,5,$APP.O,[$APP.fg,$APP.fg],null),b)},iza=function(a,b){var c=$APP.lf(function(g,h,n){return $APP.lf(function(k,t,v){return $APP.Vi.j(k,v,new $APP.M(null,2,5,$APP.O,[h,t],null))},g,n)},$APP.fg,b);if(2<=$APP.de(c)){b=$APP.y(c);a=$APP.C.j(b,0,null);var d=
$APP.C.j(b,1,null);b=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);var e=$APP.ie(c);c=$APP.C.j(e,0,null);var f=$APP.C.j(e,1,null);e=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);throw $APP.Jm.g(["Conflicting upserts: ",$APP.ck.l($APP.D([new $APP.M(null,2,5,$APP.O,[b,d],null)]))," resolves to ",$APP.ck.l($APP.D([a])),", but ",$APP.ck.l($APP.D([new $APP.M(null,2,5,$APP.O,[e,f],null)]))," resolves to ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.dE,e5,f5,new $APP.M(null,3,5,$APP.O,[a,b,d],null),g5,
new $APP.M(null,3,5,$APP.O,[c,e,f],null)],null));}d=$APP.y(c);b=$APP.C.j(d,0,null);c=$APP.C.j(d,1,null);d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);a=h5.h(a);if(null!=b&&null!=a&&!Y4(a)&&$APP.Ui.g(b,a))throw $APP.Jm.g(["Conflicting upsert: ",$APP.ck.l($APP.D([new $APP.M(null,2,5,$APP.O,[d,c],null)]))," resolves to ",$APP.ck.l($APP.D([b])),", but entity already has :db/id ",$APP.ck.l($APP.D([a]))].join(""),new $APP.m(null,3,[$APP.dE,e5,f5,new $APP.M(null,3,5,$APP.O,[b,d,c],null),g5,new $APP.m(null,1,
[h5,a],null)],null));return b},jza=function(a,b,c){return c5(b)||N4(a,b)?f2(c)||$APP.ze(c)&&!$APP.De(c)?$APP.A.g($APP.de(c),2)&&M4(a,$APP.y(c),a4)?new $APP.M(null,1,5,$APP.O,[c],null):c:new $APP.M(null,1,5,$APP.O,[c],null):new $APP.M(null,1,5,$APP.O,[c],null)},j5=function(a,b){var c=h5.h(b),d=$APP.Dg.g($APP.S,$APP.df.j(function(e,f){var g=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);return $APP.Vn.F(e,M4(a,g,h4)?1:0,$APP.Cf,new $APP.M(null,2,5,$APP.O,[g,f],null))},new $APP.M(null,2,5,$APP.O,[$APP.ch,$APP.ch],
null),b));return function g(f){return new $APP.Nf(null,function(){for(var h=f;;){var n=$APP.w(h);if(n){var k=n,t=$APP.y(k),v=$APP.C.j(t,0,null),x=$APP.C.j(t,1,null);if($APP.Ui.g(v,h5)){var B=z4(v,$APP.eg([h5,c,v,x])),F=c5(v),P=F?d5(v):v;if(F&&!B4(a,P))throw $APP.Jm.g(["Bad attribute ",$APP.ck.l($APP.D([v])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.m(null,3,[$APP.dE,S4,l4,v,T4,$APP.eg([h5,c,v,x])],null));if(n=$APP.w(function(T,Z,ba,ca,ia,oa,la,K,
E,Q,I,N){return function ja(ha){return new $APP.Nf(null,function(ra,sa,va,ya,Ca,Na,Ua,Ia,Ka,db,nb){return function(){for(;;){var Cb=$APP.w(ha);if(Cb){if($APP.Ge(Cb)){var Rb=$APP.bd(Cb),$b=$APP.de(Rb),kc=$APP.Qf($b);a:for(var Ad=0;;)if(Ad<$b){var oc=$APP.qe(Rb,Ad);$APP.Uf(kc,B4(a,ya)&&$APP.De(oc)?$APP.Vi.j(oc,d5(Ua),nb):va?new $APP.M(null,4,5,$APP.O,[i5,oc,ya,nb],null):new $APP.M(null,4,5,$APP.O,[i5,nb,ya,oc],null));Ad+=1}else{Rb=!0;break a}return Rb?$APP.Tf($APP.Vf(kc),ja($APP.cd(Cb))):$APP.Tf($APP.Vf(kc),
null)}kc=$APP.y(Cb);return $APP.Gf(B4(a,ya)&&$APP.De(kc)?$APP.Vi.j(kc,d5(Ua),nb):va?new $APP.M(null,4,5,$APP.O,[i5,kc,ya,nb],null):new $APP.M(null,4,5,$APP.O,[i5,nb,ya,kc],null),ja($APP.Id(Cb)))}return null}}}(T,Z,ba,ca,ia,oa,la,K,E,Q,I,N),null,null)}}(h,B,F,P,null,t,v,x,k,n,c,d)(jza(a,v,x))))return $APP.S.g(n,g($APP.Id(h)))}h=$APP.Id(h)}else return null}},null,null)}(d)},m5=function(a,b){$APP.C.j(b,0,null);var c=$APP.C.j(b,1,null),d=$APP.C.j(b,2,null),e=$APP.C.j(b,3,null),f=$APP.C.j(b,4,null);z4(d,
b);U4(e,b);b=$APP.p(f)?f:V4(a);f=H4.h(a);c=C4(f,c);e=B4(f,d)?C4(f,e):e;var g=m3.F(c,d,e,b);f=N4(f,d)?D3(f,new $APP.M(null,3,5,$APP.O,[c,d,e],null)):D3(f,new $APP.M(null,2,5,$APP.O,[c,d],null));return null==f?b5(a,g):$APP.A.g(f.v,e)?$APP.Vn.F(a,k5,l5,g):b5(b5(a,m3.N(c,d,f.v,b,!1)),g)},n5=function(a,b){var c=V4(a);return b5(a,m3.N(b.e,b.a,b.v,c,!1))},p5=function(a,b){return $APP.Th.j($APP.aj,$APP.Iq.g($APP.$g.h(function(c){return M4(a,c.a,f4)}),$APP.Ej.h(function(c){return new $APP.M(null,2,5,$APP.O,
[o5,c.v],null)})),b)},r5=function(a,b,c,d,e){if($APP.Ve(J4.h(a),d))throw $APP.Jm.g(["Conflicting upsert: ",$APP.ck.l($APP.D([d]))," resolves both to ",$APP.ck.l($APP.D([e]))," and ",$APP.ck.l($APP.D([$APP.er.g(a,new $APP.M(null,2,5,$APP.O,[J4,d],null))]))].join(""),new $APP.m(null,1,[$APP.dE,e5],null));b=$APP.Vi.j(J4.h(b),d,e);a=$APP.Vi.j(a,J4,b);return q5.g?q5.g(a,c):q5.call(null,a,c)},kza=function(a){var b=H4.h(a);L3(b);M3(b,i4);return $APP.lf(function(c,d,e){return $APP.lf(function(f,g,h){h=$APP.yg($APP.sb,
h)?null:h;var n=g3.h($APP.y(E3(b,P3,new $APP.M(null,2,5,$APP.O,[d,g],null))));return $APP.A.g(h,n)?f:null==h?$APP.Cf.g(f,$APP.te(new $APP.M(null,4,5,$APP.O,[s5,d,g,n],null),new $APP.m(null,1,[t5,!0],null))):$APP.Cf.g(f,$APP.te(new $APP.M(null,4,5,$APP.O,[i5,d,g,h],null),new $APP.m(null,1,[t5,!0],null)))},c,e)},$APP.ch,a5.h(a))},lza=function(a){var b=u5.h(a);b=$APP.df.j(function(c,d){return $APP.p(a3(d))?$APP.zm.g(c,$APP.SG.h(d)):c},b,$APP.S.g(I4.h(a),k5.h(a)));if($APP.ye(b))return $APP.zm.l(a,u5,
$APP.D([k5]));throw $APP.Jm.g(["Tempids used only as value in transaction: ",$APP.ck.l($APP.D([$APP.tl.h($APP.Si(b))]))].join(""),new $APP.m(null,2,[$APP.dE,S4,J4,b],null));},q5=function(a,b){if(null!=b&&!$APP.Ce(b))throw $APP.Jm.g(["Bad transaction data ",$APP.ck.l($APP.D([b])),", expected sequential collection"].join(""),new $APP.m(null,2,[$APP.dE,S4,I4,b],null));for(var c=!$APP.ye(M3(H4.h(a),h4)),d=c?$APP.no.g(b,$APP.oo.h(v5)):b,e=a,f=d;;){if($APP.ye(f))return $APP.Vn.N($APP.Vn.N(lza(e),J4,$APP.Vi,
W4,V4(e)),H4,$APP.Vn,S3,$APP.Qd);var g=f,h=$APP.w(g),n=$APP.y(h),k=$APP.z(h),t=n,v=k;if(null==t)f=v;else if($APP.A.g(v5,t))if($APP.Ve(e,a5)){var x=$APP.zm.g(e,a5);v=$APP.S.g(kza(e),v);e=x;f=v}else f=v;else{var B=H4.h(e),F=J4.h(e);if($APP.De(t)){var P=h5.h(t);if(X4(P))x=V4(e),e=$4(e,P,x),f=v=$APP.Gf($APP.Vi.j(t,h5,x),v);else if($APP.Ce(P))x=C4(B,P),f=v=$APP.Gf($APP.Vi.j(t,h5,x),v);else{var T=hza(B,t);x=$APP.C.j(T,0,null);T=$APP.C.j(T,1,null);var Z=iza(x,T);if(null!=Z){if(Y4(P)&&$APP.Ve(F,P)&&$APP.Ui.g(Z,
$APP.Te.g(F,P)))return r5(a,e,b,P,Z);e=$APP.Vn.F($4(e,P,Z),k5,l5,m3.F(Z,null,null,536870912));f=v=$APP.S.g(j5(B,$APP.Vi.j(x,h5,Z)),v)}else if("number"===typeof P||null==P||"string"===typeof P)x=null==P?R3.h(B)+1:Y4(P)?function(){var ya=$APP.Te.g(F,P);return $APP.p(ya)?ya:R3.h(B)+1}():P,t=$APP.Vi.j(t,h5,x),e=$4(e,P,x),f=v=$APP.S.g(j5(B,t),v);else throw $APP.Jm.g(["Expected number, string or lookup ref for :db/id, got ",$APP.ck.l($APP.D([P]))].join(""),new $APP.m(null,2,[$APP.dE,Q4,mza,t],null));}}else if($APP.Ce(t)){var ba=
t;T=$APP.C.j(ba,0,null);var ca=$APP.C.j(ba,1,null);x=$APP.C.j(ba,2,null);var ia=$APP.C.j(ba,3,null);if($APP.A.g(T,w5)){x=$APP.w(t);t=$APP.y(x);x=$APP.z(x);var oa=t;t=$APP.y(x);x=$APP.z(x);f=v=$APP.S.g($APP.Dg.j(t,B,x),v)}else if(T instanceof $APP.H&&$APP.vb(x5.h?x5.h(T):x5.call(null,T))){oa=R4(B,T);if(null==oa)throw $APP.Jm.g(["Can’t find entity for transaction fn ",$APP.ck.l($APP.D([T]))].join(""),new $APP.m(null,3,[$APP.dE,S4,$APP.SF,w5,I4,t],null));ca=g3.h(D3(B,new $APP.M(null,2,5,$APP.O,[oa,nza],
null)));x=$APP.z(t);if($APP.re(ca))f=v=$APP.S.g($APP.Dg.j(ca,B,x),v);else throw $APP.Jm.g(["Entity ",$APP.ck.l($APP.D([T]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.m(null,3,[$APP.dE,S4,$APP.SF,w5,I4,t],null));}else{if(Y4(ca)&&$APP.Ui.g(T,i5))throw $APP.Jm.g(["Can't use tempid in '",$APP.ck.l($APP.D([t])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.m(null,2,[$APP.dE,S4,$APP.xB,t],null));if($APP.A.g(T,y5)||$APP.A.g(T,z5)){var la=t;oa=$APP.C.j(la,0,null);
var K=$APP.C.j(la,1,null),E=$APP.C.j(la,2,null),Q=$APP.C.j(la,3,null),I=$APP.C.j(la,4,null),N=C4(B,K),fa=z4(E,t),ha=B4(B,E)?C4(B,Q):Q,ja=B4(B,E)?C4(B,I):I,ra=U4(ja,t),sa=$APP.ff(C3(B,new $APP.M(null,2,5,$APP.O,[N,E],null)));if(N4(B,E))if($APP.p($APP.zg(function(ya,Ca,Na,Ua,Ia,Ka,db,nb,Cb,Rb,$b){return function(kc){return $APP.A.g(kc.v,$b)}}(e,f,la,oa,K,E,Q,I,N,fa,ha,ja,ra,sa,ba,T,ca,x,ia,B,F,g,h,n,k,t,v,a,c,d),sa)))e=m5(e,new $APP.M(null,4,5,$APP.O,[i5,N,E,ja],null)),f=v;else throw $APP.Jm.g([":db.fn/cas failed on datom [",
$APP.ck.l($APP.D([N]))," ",$APP.ck.l($APP.D([E]))," ",$APP.ck.l($APP.D([$APP.Ej.g(g3,sa)])),"], expected ",$APP.ck.l($APP.D([ha]))].join(""),new $APP.m(null,4,[$APP.dE,A5,B5,sa,C5,ha,D5,ja],null));else if(T=g3.h($APP.y(sa)),$APP.A.g(T,ha))e=m5(e,new $APP.M(null,4,5,$APP.O,[i5,N,E,ja],null)),f=v;else throw $APP.Jm.g([":db.fn/cas failed on datom [",$APP.ck.l($APP.D([N]))," ",$APP.ck.l($APP.D([E]))," ",$APP.ck.l($APP.D([T])),"], expected ",$APP.ck.l($APP.D([ha]))].join(""),new $APP.m(null,4,[$APP.dE,
A5,B5,$APP.y(sa),C5,ha,D5,ja],null));}else if(X4(ca))t=$4(e,ca,V4(e)),v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[T,V4(e),x,ia],null),v),e=t,f=v;else if(B4(B,x)&&X4(ia))t=$4(e,ia,V4(e)),v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[T,ca,x,V4(e)],null),v),e=t,f=v;else if(B4(B,x)&&Y4(ia))oa=$APP.Te.g(F,ia),null==oa?(t=R3.h(B)+1,e=$APP.Vn.N($4(e,ia,t),u5,$APP.Vi,t,ia),f=v=f):(t=oa,e=$APP.Vn.N(e,u5,$APP.Vi,t,ia),f=v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[T,ca,x,t],null),v));else if(Y4(ca)){Z=M4(B,x,a4)?$APP.SG.h($APP.y(E3(B,
H3,new $APP.M(null,2,5,$APP.O,[x,ia],null)))):null;var va=$APP.Te.g(F,ca);if($APP.p(function(){var ya=Z;return $APP.p(ya)?(ya=va,$APP.p(ya)?$APP.Ui.g(Z,va):ya):ya}()))return r5(a,e,b,ca,Z);t=function(){var ya=Z;if($APP.p(ya))return ya;ya=va;return $APP.p(ya)?ya:R3.h(B)+1}();e=$4(e,ca,t);f=v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[T,t,x,ia],null),v)}else if($APP.vb(t5.h($APP.ve(t)))&&M4(B,x,h4))if(K=$APP.er.g(B,new $APP.M(null,3,5,$APP.O,[O3,x,g4],null)),$APP.A.g($APP.de(K),$APP.de(ia))&&$APP.yg($APP.wb,
ia)&&$APP.yg(function(ya,Ca,Na,Ua,Ia,Ka,db,nb,Cb){return function(Rb){var $b=$APP.C.j(Rb,0,null);Rb=$APP.C.j(Rb,1,null);$b=g3.h($APP.y(E3(Cb,P3,new $APP.M(null,2,5,$APP.O,[Ka,$b],null))));return $APP.A.g(Rb,$b)}}(e,f,K,ba,T,ca,x,ia,B,F,g,h,n,k,t,v,a,c,d),$APP.Ej.j($APP.hy,K,ia)))f=v;else throw $APP.Jm.g(["Can’t modify tuple attrs directly: ",$APP.ck.l($APP.D([t]))].join(""),new $APP.m(null,2,[$APP.dE,S4,I4,t],null));else if($APP.A.g(T,i5))e=m5(e,t),f=v;else if($APP.A.g(T,s5)&&null!=ia)oa=R4(B,ca),
null==oa?f=v:(K=oa,T=B4(B,x)?C4(B,ia):ia,z4(x,t),U4(T,t),x=D3(B,new $APP.M(null,3,5,$APP.O,[K,x,T],null)),null==x?f=v:(e=n5(e,x),f=v));else if($APP.A.g(T,E5)||$APP.A.g(T,s5))oa=R4(B,ca),null==oa?f=v:(K=oa,oa=z4(x,t),sa=$APP.ff(C3(B,new $APP.M(null,2,5,$APP.O,[K,x],null))),e=$APP.df.j(n5,e,sa),f=v=$APP.S.g(p5(B,sa),v));else if($APP.A.g(T,o5)||$APP.A.g(T,F5))oa=R4(B,ca),null==oa?f=v:(K=oa,sa=$APP.ff(C3(B,new $APP.M(null,1,5,$APP.O,[K],null))),x=$APP.ff($APP.Yg.l(function(ya,Ca,Na,Ua,Ia,Ka,db,nb,Cb,
Rb,$b){return function(kc){return C3($b,new $APP.M(null,3,5,$APP.O,[null,kc,Ua],null))}}(e,f,sa,K,oa,ba,T,ca,x,ia,B,F,g,h,n,k,t,v,a,c,d),$APP.D([M3(B,e4)]))),e=$APP.df.j(n5,e,$APP.S.g(sa,x)),f=v=$APP.S.g(p5(B,sa),v));else throw $APP.Jm.g(["Unknown operation at ",$APP.ck.l($APP.D([t])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.m(null,3,[$APP.dE,S4,$APP.SF,T,I4,t],null));}}else if(c3(t))T=t,ca=$APP.C.j(T,0,null),x=$APP.C.j(T,1,null),ia=$APP.C.j(T,2,null),t=$APP.C.j(T,3,null),T=$APP.C.j(T,4,null),$APP.p(T)?(e=m5(e,new $APP.M(null,5,5,$APP.O,[i5,ca,x,ia,t],null)),f=v):f=v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[s5,ca,x,ia],null),v);else throw $APP.Jm.g(["Bad entity type at ",$APP.ck.l($APP.D([t])),", expected map or vector"].join(""),new $APP.m(null,2,[$APP.dE,S4,I4,t],null));}}},H5=function(a,b){b="number"===typeof b||
$APP.Ce(b)||b instanceof $APP.H?R4(a,b):null;if($APP.p(b)){var c=$APP.Kg(!1),d=$APP.Kg($APP.fg);return G5.F?G5.F(a,b,c,d):G5.call(null,a,b,c,d)}return null},I5=function(a,b,c){return N4(a,b)?B4(a,b)?$APP.df.j(function(d,e){return $APP.Cf.g(d,H5(a,g3.h(e)))},$APP.aj,c):$APP.df.j(function(d,e){return $APP.Cf.g(d,g3.h(e))},$APP.aj,c):B4(a,b)?H5(a,g3.h($APP.y(c))):g3.h($APP.y(c))},J5=function(a,b,c,d){b=$APP.hg(C3(a,new $APP.M(null,3,5,$APP.O,[null,c,b],null)));return $APP.p(b)?M4(a,c,f4)?H5(a,$APP.SG.h($APP.y(b))):
$APP.df.j(function(e,f){return $APP.Cf.g(e,H5(a,$APP.SG.h(f)))},$APP.aj,b):d},K5=function(a){return $APP.p(a)?$APP.ef(a):null},M5=function(a){L5.h?L5.h(a):L5.call(null,a);return function d(c){return new $APP.Nf(null,function(){for(;;){var e=$APP.w(c);if(e){if($APP.Ge(e)){var f=$APP.bd(e),g=$APP.de(f),h=$APP.Qf(g);a:for(var n=0;;)if(n<g){var k=$APP.qe(f,n),t=$APP.C.j(k,0,null);k=$APP.C.j(k,1,null);$APP.Uf(h,N4(a.db,t)?new $APP.M(null,2,5,$APP.O,[t,K5(k)],null):new $APP.M(null,2,5,$APP.O,[t,k],null));
n+=1}else{f=!0;break a}return f?$APP.Tf($APP.Vf(h),d($APP.cd(e))):$APP.Tf($APP.Vf(h),null)}f=$APP.y(e);h=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);return $APP.Gf(N4(a.db,h)?new $APP.M(null,2,5,$APP.O,[h,K5(f)],null):new $APP.M(null,2,5,$APP.O,[h,f],null),d($APP.Id(e)))}return null}},null,null)}($APP.r(a.cache))},N5=function(a,b,c,d){this.db=a;this.eid=b;this.Yh=c;this.cache=d;this.G=2162164483;this.J=0},G5=function(a,b,c,d){return new N5(a,b,c,d)},O5=function(a,b){return b instanceof N5&&$APP.A.g(a.eid,
b.eid)},R5=function(a){switch(arguments.length){case 2:return P5(arguments[0],arguments[1]);case 3:return Q5(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}},P5=function(a,b){return Q5(a,b,null)},Q5=function(a,b,c){if($APP.A.g(b,h5))return a.eid;if(c5(b))return J5(a.db,a.eid,d5(b),c);var d=$APP.r(a.cache);d=d.h?d.h(b):d.call(null,b);if(null==d){if($APP.p($APP.r(a.Yh)))return c;d=$APP.hg(C3(a.db,new $APP.M(null,2,5,$APP.O,[a.eid,
b],null)));if(null==d)return c;c=I5(a.db,b,d);$APP.Lg(a.cache,$APP.Vi.j($APP.r(a.cache),b,c));return c}return d},oza=function(a,b){return $APP.lf(function(c,d,e){return $APP.Vi.j(c,d,M4(a,d,f4)?N4(a,d)?$APP.ej($APP.Ej.g(L5,e)):L5.h?L5.h(e):L5.call(null,e):e)},$APP.fg,b)},pza=function(a,b){return $APP.df.j(function(c,d){var e=h3.h($APP.y(d));return $APP.Vi.j(c,e,I5(a,e,d))},$APP.fg,$APP.zy.g(h3,b))},L5=function(a){if(!$APP.p($APP.r(a.Yh))){var b=$APP.hg(C3(a.db,new $APP.M(null,1,5,$APP.O,[a.eid],null)));
$APP.p(b)&&($APP.Lg(a.cache,oza(a.db,pza(a.db,b))),$APP.id(a.Yh,!0))}return a},S5=function(a){return $APP.df.j($APP.yx,0,a)},T5=function(a){return S5(a)/$APP.de(a)},U5=function(a){var b=T5(a);return S5(function(){return function e(d){return new $APP.Nf(null,function(){for(;;){var f=$APP.w(d);if(f){if($APP.Ge(f)){var g=$APP.bd(f),h=$APP.de(g),n=$APP.Qf(h);a:for(var k=0;;)if(k<h){var t=$APP.qe(g,k)-b;n.add(t*t);k+=1}else{g=!0;break a}return g?$APP.Tf($APP.Vf(n),e($APP.cd(f))):$APP.Tf($APP.Vf(n),null)}n=
$APP.y(f)-b;return $APP.Gf(n*n,e($APP.Id(f)))}return null}},null,null)}(a)}())/$APP.de(a)},V5=function(a,b,c,d,e,f,g,h,n,k,t,v,x,B,F){this.as=a;this.qc=b;this.jb=c;this.name=d;this.pattern=e;this.Wb=f;this.Xb=g;this.bc=h;this.lb=n;this.Vb=k;this.Yb=t;this.Tb=v;this.s=x;this.o=B;this.C=F;this.G=2230716170;this.J=139264},e6=function(a){var b=$APP.zm.l(a,$APP.vo,$APP.D([$APP.In,W5,$APP.V,X5,Y5,Z5,$5,a6,b6,c6,d6]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new V5($APP.vo.h(a),$APP.In.h(a),W5.h(a),$APP.V.h(a),
X5.h(a),Y5.h(a),Z5.h(a),$5.h(a),a6.h(a),b6.h(a),c6.h(a),d6.h(a),null,$APP.hg(b),null)},f6=function(a,b,c,d,e,f,g,h){this.ma=a;this.Oc=b;this.Zc=c;this.Kc=d;this.fc=e;this.s=f;this.o=g;this.C=h;this.G=2230716170;this.J=139264},l6=function(a){var b=$APP.zm.l(a,g6,$APP.D([h6,i6,j6,k6]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new f6(g6.h(a),h6.h(a),i6.h(a),j6.h(a),k6.h(a),null,$APP.hg(b),null)},o6=function(a,b,c){if($APP.p(a))return null;throw $APP.Jm.g(["Expected ",$APP.q.h(b),", got: ",$APP.ck.l($APP.D([c]))].join(""),
new $APP.m(null,2,[$APP.dE,m6,n6,c],null));},q6=function(a,b){var c=c5(b),d=c?d5(b):b,e=B4(a,d),f=M4(a,d,f4);a=N4(a,d);if(c){o6(e,"reverse attribute having :db.type/ref",b);var g=!0}else g=null;return e6($APP.yi([a6,W5,$5,$APP.V,$APP.vo,d6,c6,b6,X5],[$APP.mf,a?1E3:null,g,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?p6:f?qza:p6:null]))},r6=function(a,b,c){o6("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);o6(N4(a,$APP.V.h(b)),"limit attribute having :db.cardinality/many",$APP.V.h(b))},rza=
function(a,b){var c=function(){var d=$APP.y(b);return s6.g?s6.g(a,d):s6.call(null,a,d)}();if(null==c)return null;o6($APP.Bg($APP.de($APP.z(b))),"even number of opts",b);return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);switch(f instanceof $APP.H?f.P:null){case "as":return $APP.Vi.j(d,$APP.vo,e);case "limit":return r6(a,d,e),$APP.Vi.j(d,W5,e);case "default":return $APP.Vi.j(d,$APP.In,e);case "xform":f=$APP.Vi.j;var g=$APP.re(e)?e:null;if($APP.p(g))e=g;else if(g=$APP.Te.g(t6,
e),$APP.p(g))e=g;else throw $APP.Jm.g(["Can't resolve symbol ",$APP.ck.l($APP.D([e]))].join(""),new $APP.m(null,2,[$APP.dE,m6,n6,e],null));return f.call($APP.Vi,d,a6,e);default:return o6(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.Lq.g(2,$APP.z(b)))},s6=function(a,b){var c;!(c=b instanceof $APP.H)&&(c="string"===typeof b)&&(c=new $APP.$i(null,new $APP.m(null,2,["limit",null,"default",null],null),null),c=c.h?c.h(b):c.call(null,b),c=$APP.vb(c));if(c)return q6(a,b);if($APP.Ce(b)){c=rza(a,b);
if($APP.p(c))return c;c=$APP.y(b);var d=new $APP.$i(null,new $APP.m(null,2,[sza,null,"limit",null],null),null);c=d.h?d.h(c):d.call(null,c);$APP.p(c)?(o6($APP.A.g($APP.de(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),c=$APP.C.j(b,2,null),d=s6.g?s6.g(a,d):s6.call(null,a,d),r6(a,d,c),c=$APP.Vi.j(d,W5,c)):c=null;if($APP.p(c))return c;c=$APP.y(b);d=new $APP.$i(null,new $APP.m(null,2,[$APP.eG,null,"default",null],null),null);c=d.h?d.h(c):d.call(null,c);$APP.p(c)?
(o6($APP.A.g($APP.de(b),3),"['default attr-name any-value]",b),$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),c=$APP.C.j(b,2,null),a=s6.g?s6.g(a,d):s6.call(null,a,d),a=$APP.Vi.j(a,$APP.In,c)):a=null;return $APP.p(a)?a:o6(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null},tza=function(a,b){return $APP.zg(function(c){var d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);return $APP.p(a.h?a.h(d):a.call(null,d))?c:null},$APP.Ej.j($APP.hy,b,$APP.Xn.B()))},
u6=function(a,b){var c=$APP.p($5.h(b))?j6:g6,d=tza(function(e){return $APP.A.g($APP.vo.h(e),$APP.vo.h(b))},$APP.Te.g(a,c));return null==d?$APP.Vn.F(a,c,$APP.Cf,b):$APP.Vn.N(a,c,$APP.Vi,d,b)},x6=function(a,b){o6($APP.Ce(b),"pattern to be sequential?",b);for(var c=l6(new $APP.m(null,3,[g6,$APP.ch,j6,$APP.ch,k6,null],null));;){if($APP.ye(b)){var d=c.ma,e=function(){return function(h){h=h.name;var n=new $APP.$i(null,new $APP.m(null,2,[h5,null,":db/id",null],null),null);return n.h?n.h(h):n.call(null,h)}}(b,
c,d);b=function(){return function(h){h=$APP.V.h(h);return h instanceof $APP.H?h:$APP.A.g(":",$APP.wj.j(h,0,1))?$APP.Fj.h($APP.wj.g(h,1)):$APP.Fj.h(h)}}(b,c,d,e);d=$APP.p(function(){var h=c.fc;return $APP.p(h)?$APP.vb($APP.zg(e,c.ma)):h}())?$APP.Cf.g(d,v6):d;d=$APP.Lt.h($APP.vx.g(b,d));var f=$APP.gt.g(e,d),g=$APP.y(f);f=$APP.oe(f);return l6(new $APP.m(null,5,[g6,d,h6,g,i6,f,j6,$APP.Lt.h($APP.vx.g(b,c.Kc)),k6,c.fc],null))}g=$APP.y(b);if($APP.A.g($APP.dC,g)||$APP.A.g("*",g)||$APP.A.g(uza,g))b=$APP.z(b),
c=d=$APP.Vi.j(c,k6,!0);else if($APP.De(g))d=$APP.lf(function(){return function(h,n,k){var t=s6(a,n);o6(null!=t,"attr-name | attr-expr",n);o6(B4(a,$APP.V.h(t)),"attribute having :db.type/ref",n);$APP.A.g(w6,k)||$APP.A.g("...",k)?n=$APP.Vi.l(t,X5,null,$APP.D([Z5,!0,Y5,null])):"number"===typeof k?(o6(0<k,"(positive-num | ...)",$APP.eg([n,k])),n=$APP.Vi.l(t,X5,null,$APP.D([Z5,!0,Y5,k]))):n=$APP.Vi.j(t,X5,x6.g?x6.g(a,k):x6.call(null,a,k));return u6(h,n)}}(b,c,g),c,g),b=$APP.z(b),c=d;else{d=s6(a,g);if(null==
d)return o6(!1,"attr-name | attr-expr | map-spec | *",g);b=$APP.z(b);c=d=u6(c,d)}}},y6=function(a){return null==a?null:$APP.Sb(a)},z6=function(a){return null==a?null:$APP.Vb(a)},A6=function(a,b){return null==a?new $APP.G(null,b,null,1,null):$APP.Ob(a,b)},B6=function(a,b,c,d,e){this.db=a;this.Td=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},C6=function(a,b,c,d,e){a=a.Td;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))},D6=function(a,b){if(null!=a&&null!=a.lg)a=a.lg(a,b);else{var c=
D6[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=D6._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IFrame.-merge",a);}return a},E6=function(a,b){if(null!=a&&null!=a.yf)a=a.yf(a,b);else{var c=E6[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=E6._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IFrame.-run",a);}return a},F6=function(a,b,c,d,e){this.value=a;this.ra=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;
this.J=139264},G6=function(a,b,c,d,e,f){this.ia=a;this.ea=b;this.ra=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},H6=function(a,b,c,d,e,f,g,h,n){this.oa=a;this.sa=b;this.ia=c;this.pattern=d;this.ea=e;this.ra=f;this.s=g;this.o=h;this.C=n;this.G=2230716170;this.J=139264},I6=function(a,b,c,d,e,f,g,h,n,k,t){this.oa=a;this.sa=b;this.ia=c;this.pattern=d;this.ea=e;this.ma=f;this.ra=g;this.id=h;this.s=n;this.o=k;this.C=t;this.G=2230716170;this.J=139264},J6=function(a,b,c,d,e,f,g,h,n,k){this.oa=
a;this.sa=b;this.ia=c;this.pattern=d;this.ea=e;this.ma=f;this.id=g;this.s=h;this.o=n;this.C=k;this.G=2230716170;this.J=139264},K6=function(a,b,c,d,e,f,g){return new J6(a,b,c,d,e,f,g,null,null,null)},M6=function(a,b,c,d,e,f){var g=e.Xb;$APP.p(g)||(g=e.Tb,g=$APP.p(g)?e.pattern.fc:g);if($APP.vb(g))return d=e.pattern,L6.N?L6.N(a,b,c,d,f):L6.call(null,a,b,c,d,f);if($APP.p(b.h?b.h(f):b.call(null,f)))return new F6(new $APP.m(null,1,[h5,f],null),null,null,null,null);g=c.h?c.h(e):c.call(null,e);if($APP.p($APP.p(g)?
0>=g:g))return new F6(null,null,null,null,null);b=$APP.Cf.g(b,f);c=$APP.p(g)?$APP.Vn.j(c,e,$APP.nf):$APP.p(e.Wb)?$APP.Vi.j(c,e,e.Wb-1):c;d=$APP.p(e.Xb)?d:e.pattern;return L6.N?L6.N(a,b,c,d,f):L6.call(null,a,b,c,d,f)},L6=function(a,b,c,d,e){var f=a.db,g=$APP.p(function(){var h=d.fc;return $APP.p(h)?f instanceof N3:h}())?V2(f.Kb,m3.F(e,null,null,536870912),m3.F(e,null,null,2147483647)):$APP.p(d.fc)?C3(f,new $APP.M(null,1,5,$APP.O,[e],null)):null==d.Oc?null:function(){var h=d.Oc.name,n=d.Zc.name;return f instanceof
N3?V2(f.Kb,m3.F(e,h,null,536870912),m3.F(e,n,null,2147483647)):F3(f,P3,new $APP.M(null,1,5,$APP.O,[e],null))}();$APP.p(d.fc)&&C6(a,vza,e,null,null);return new I6(b,c,$APP.Sc($APP.fg),d,y6(d.ma),z6(d.ma),g,e,null,null,null)},N6=function(a,b){var c=$APP.gg(a);a=$APP.Te.g(c,T4);c=$APP.Te.g(c,X5);b=R4(a.db,b);if(null==b)return null;for(c=new $APP.G(null,L6(a,$APP.aj,$APP.fg,c,b),null,1,null);;){b=y6(c);var d=z6(c);if(b instanceof F6){if(null==d)return b.value;c=y6(d);d=z6(d);c=A6(d,D6(c,b))}else c=$APP.df.j(A6,
d,E6(b,a))}},P6=function(a,b,c){c=$APP.gg(c);c=$APP.Te.g(c,O6);return new $APP.m(null,2,[X5,c2(Z3(a).lc,b,function(){return x6(a,b)}),T4,new B6(a,c,null,null,null)],null)},Q6=function(a,b){return $APP.tb(a)?a[b]:$APP.C.g(a,b)},R6=function(a,b){return $APP.De(a)?a.h?a.h(b):a.call(null,b):a[b]},S6=function(a,b){var c=Array($APP.de(b));$APP.df.j(function(d,e){c[d]=a.h?a.h(e):a.call(null,e);return d+1},0,b);return c},T6=function(a,b){var c=Array($APP.de(b));$APP.df.j(function(d,e){c[d]=a.g?a.g(d,e):a.call(null,
d,e);return d+1},0,b);return c},wza=function(a,b){return null==b.a?-1:0>=$APP.Ye(a.a,b.a)?-1:1},xza=function(a){if($APP.ye(Q3.h(a)))return $APP.ch;for(var b=$APP.Sc(new $APP.M(null,1,5,$APP.O,[h3.h($APP.y(Q3.h(a)))],null));;){var c=$APP.C.g(b,$APP.de(b)-1),d=m3.j(0,c,null),e=m3.j(2147483647,null,null);c=h3;var f=c.h,g=Q3.h(a);d=Q2(g,d,e,wza);c=f.call(c,$APP.y(d));if(null!=c)b=$APP.bh.g(b,c);else return $APP.Uc(b)}},yza=function(a){return 0==a.lastIndexOf(":",0)?$APP.Fj.h($APP.wj.g(a,1)):a},U6=function(a,
b){b=$APP.gg(b);var c=$APP.Te.j(b,zza,$APP.ck),d=$APP.Te.j(b,Aza,$APP.q),e=xza(a),f=$APP.Th.g($APP.fg,$APP.Ej.j($APP.hy,e,$APP.Xn.B())),g=$APP.Kg($APP.Sc($APP.ch)),h=$APP.Kg($APP.Sc($APP.fg));b=T6(function(v,x){x.idx=v|0;v=x.e;var B=x.a;B=f.h?f.h(B):f.call(null,B);var F=x.v;if("string"!==typeof F)if("number"===typeof F)F=Infinity===F?[2]:-Infinity===F?[3]:$APP.p(isNaN(F))?[4]:F;else if(!$APP.Ke(F))if(F instanceof $APP.H){var P=$APP.Te.g($APP.r(h),F);$APP.p(P)?F=P:(P=g.Hc(null,$APP.bh.g(g.Ha(null),
F)),P=$APP.de(P)-1,h.Hc(null,$APP.Wh.j(h.Ha(null),F,P)),F=P);F=[0,F]}else F=[1,c.h?c.h(F):c.call(null,F)];return[v,B,F,x.tx-536870912]},P3.h(a));var n=T6(function(v,x){return x.idx},Q3.h(a)),k=T6(function(v,x){return x.idx},H3.h(a)),t=function(){var v=O3.h(a);return c.h?c.h(v):c.call(null,v)}();e=S6(d,e);d=S6(d,$APP.Uc($APP.r(g)));return{count:$APP.de(P3.h(a)),tx0:536870912,"max-eid":R3.h(a),"max-tx":S3.h(a),schema:t,attrs:e,keywords:d,eavt:b,aevt:n,avet:k}},V6=function(){},W6=function(a,b,c){if(null!=
a&&null!=a.hb)a=a.hb(a,b,c);else{var d=W6[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=W6._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("ITraversable.-collect",a);}return a},X6=function(a,b){if(null!=a&&null!=a.ib)a=a.ib(a,b);else{var c=X6[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=X6._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("ITraversable.-collect-vars",a);}return a},Y6=function(a,b){return $APP.Ce(a)&&
$APP.A.g($APP.de(a),b)},Z6=function(a,b){return $APP.Ce(b)?$APP.df.j(function(c,d){d=a.h?a.h(d):a.call(null,d);return $APP.p(d)?$APP.Cf.g(c,d):$APP.Sd(null)},$APP.ch,b):null},a7=function(a,b){return $6(a,b,$APP.ch)},$6=function(a,b,c){return $APP.p(a.h?a.h(b):a.call(null,b))?$APP.Cf.g(c,b):(null!=b?$APP.wd===b.gb||(b.qd?0:$APP.zb(V6,b)):$APP.zb(V6,b))?W6(b,a,c):Y2(b)?$APP.df.j(function(d,e){return $6(a,e,d)},c,b):c},b7=function(a){var b=$APP.ye(a);return b?b:$APP.Dg.g($APP.qp,a)},c7=function(a,b){return $APP.te(a,
new $APP.m(null,1,[$APP.xm,b],null))},d7=function(a){var b=$APP.xm.h($APP.ve(a));return $APP.p(b)?b:a},e7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;this.J=139264},f7=function(a,b,c,d){this.Ba=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},g7=function(a,b,c,d){this.Ba=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},h7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;this.J=139264},i7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;
this.J=139264},j7=function(a,b,c,d){this.value=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},k7=function(a,b,c,d){this.Ba=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},l7=function(a){return a instanceof $APP.u&&$APP.A.g($APP.y($APP.gj(a)),"?")?new f7(a,null,null,null):null},m7=function(a){var b=l7(a);if($APP.p(b))return b;throw $APP.Jm.g(["Cannot parse var, expected symbol starting with ?, got: ",$APP.ck.l($APP.D([a]))].join(""),new $APP.m(null,2,[$APP.dE,Bza,$APP.FB,
a],null));},n7=function(a){return a instanceof $APP.u&&$APP.A.g($APP.y($APP.gj(a)),"$")?new g7(a,null,null,null):null},o7=function(a){return a instanceof $APP.u&&$APP.A.g($APP.y($APP.gj(a)),"?")?null:new j7(a,null,null,null)},p7=function(a){return a instanceof $APP.u&&$APP.vb(l7(a))&&$APP.vb(n7(a))&&$APP.vb($APP.A.g($APP.cC,a)?new i7(null,null,null):null)&&$APP.vb($APP.A.g($APP.kC,a)?new e7(null,null,null):null)?new k7(a,null,null,null):null},q7=function(a){return $APP.p(p7(a))?new f7(a,null,null,
null):null},r7=function(a){var b=l7(a);if($APP.p(b))return b;b=n7(a);return $APP.p(b)?b:o7(a)},s7=function(a,b,c,d,e){this.required=a;this.td=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},u7=function(a){if($APP.Ce(a)){var b=$APP.Ce($APP.y(a))?new $APP.M(null,2,5,$APP.O,[$APP.y(a),$APP.z(a)],null):new $APP.M(null,2,5,$APP.O,[null,a],null),c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=Z6(m7,c);b=Z6(m7,b);if($APP.ye(c)&&$APP.ye(b))throw $APP.Jm.g("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new $APP.m(null,2,[$APP.dE,t7,$APP.FB,a],null));if(!$APP.p(b7($APP.S.g(c,b))))throw $APP.Jm.g("Rule variables should be distinct",new $APP.m(null,2,[$APP.dE,t7,$APP.FB,a],null));return new s7(c,b,null,null,null)}throw $APP.Jm.g("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.m(null,2,[$APP.dE,t7,$APP.FB,a],null));},x7=function(a){return $APP.S.g($APP.p(v7.h(a))?new $APP.M(null,1,5,$APP.O,[$APP.Gq.g($APP.yn,v7.h(a))],null):null,$APP.Gq.g($APP.yn,w7.h(a)))},y7=
function(a){return new $APP.M(null,2,5,$APP.O,[$APP.de(v7.h(a)),$APP.de(w7.h(a))],null)},z7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;this.J=139264},A7=function(a,b,c,d){this.Gb=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},B7=function(a,b,c,d){this.ic=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},C7=function(a,b,c,d){this.Db=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},D7=function(a){return $APP.A.g($APP.kC,a)?c7(new z7(null,null,
null),a):null},Cza=function(a){var b=D7(a);return $APP.p(b)?b:E7.h?E7.h(a):E7.call(null,a)},G7=function(a){var b=Z6(Cza,a);if($APP.p(b)){if($APP.ye(b))throw $APP.Jm.g("Tuple binding cannot be empty",new $APP.m(null,2,[$APP.dE,F7,$APP.FB,a],null));return c7(new B7(b,null,null,null),a)}return null},E7=function(a){a:{if(Y6(a,2)&&$APP.A.g($APP.ie(a),w6)){var b=$APP.y(a);b=E7.h?E7.h(b):E7.call(null,b);if($APP.p(b)){b=c7(new C7(b,null,null,null),a);break a}throw $APP.Jm.g("Cannot parse collection binding",
new $APP.m(null,2,[$APP.dE,F7,$APP.FB,a],null));}b=null}if($APP.p(b))return b;b=Y6(a,1)&&$APP.Ce($APP.y(a))?c7(new C7(G7($APP.y(a)),null,null,null),a):null;if($APP.p(b))return b;b=G7(a);if($APP.p(b))return b;b=D7(a);if($APP.p(b))return b;b=l7(a);b=$APP.p(b)?c7(new A7(b,null,null,null),a):null;if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.m(null,2,[$APP.dE,F7,$APP.FB,a],null));},H7=function(a){if(null!=a&&null!=a.kg)a=
a.kg(a);else{var b=H7[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=H7._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IFindVars.-find-vars",a);}return a},I7=function(a,b,c,d,e){this.da=a;this.ta=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},J7=function(a,b,c,d,e,f){this.source=a;this.Gb=b;this.pattern=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},K7=function(a){if(null!=a&&null!=a.xf)a=a.xf(a);else{var b=K7[$APP.ma(null==a?null:
a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=K7._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IFindElements.find-elements",a);}return a},L7=function(a,b,c,d){this.elements=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},M7=function(a,b,c,d){this.element=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},N7=function(a,b,c,d){this.element=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},O7=function(a,b,c,d){this.elements=a;this.s=b;this.o=c;
this.C=d;this.G=2230716170;this.J=139264},P7=function(a){return a instanceof I7},Q7=function(a){return a instanceof J7},U7=function(a){var b=l7(a);if($APP.p(b))return b;a:{if($APP.Ce(a)&&$APP.A.g($APP.y(a),R7)){if(3<=$APP.de(a)&&4>=$APP.de(a)){var c=(b=$APP.A.g($APP.de(a),4))?$APP.C.g(a,1):S7;b=b?$APP.ne(a):$APP.z(a);var d=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=n7(c);d=l7(d);var e=l7(b);$APP.p(e)?b=e:(e=q7(b),b=$APP.p(e)?e:o7(b));if($APP.p($APP.p(c)?$APP.p(d)?b:d:c)){b=new J7(c,d,b,null,null,null);
break a}}throw $APP.Jm.g("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new $APP.m(null,2,[$APP.dE,T7,n6,a],null));}b=null}if($APP.p(b))return b;a:{if($APP.Ce(a)&&$APP.A.g($APP.y(a),Dza)){if(3<=$APP.de(a)&&(b=$APP.w(a),$APP.y(b),c=$APP.z(b),b=$APP.y(c),c=$APP.z(c),b=l7(b),c=Z6(r7,c),$APP.p($APP.p(b)?c:b))){b=new I7(b,c,null,null,null);break a}throw $APP.Jm.g("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.m(null,
2,[$APP.dE,T7,n6,a],null));}b=null}$APP.p(b)?a=b:$APP.Ce(a)&&2<=$APP.de(a)?(b=$APP.w(a),a=$APP.y(b),b=$APP.z(b),a=p7(a),b=Z6(r7,b),a=$APP.p($APP.p(a)?b:a)?new I7(a,b,null,null,null):null):a=null;return a},Eza=function(a){var b=Z6(U7,a);b=null==b?null:new L7(b,null,null,null);if($APP.p(b))return b;a:{if($APP.Ce(a)&&$APP.A.g($APP.de(a),1)&&(b=$APP.y(a),$APP.Ce(b)&&$APP.A.g($APP.de(b),2)&&$APP.A.g($APP.ie(b),w6))){b=U7($APP.y(b));b=null==b?null:new M7(b,null,null,null);break a}b=null}if($APP.p(b))return b;
$APP.Ce(a)&&$APP.A.g($APP.de(a),2)&&$APP.A.g($APP.ie(a),$APP.jl)?(b=U7($APP.y(a)),b=null==b?null:new N7(b,null,null,null)):b=null;if($APP.p(b))return b;$APP.Ce(a)&&$APP.A.g($APP.de(a),1)?(b=$APP.y(a),b=Z6(U7,b),b=null==b?null:new O7(b,null,null,null)):b=null;if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.m(null,2,[$APP.dE,T7,n6,a],null));},V7=function(a,b,c,d,e){this.type=a;this.xd=b;this.s=c;this.o=d;this.C=e;this.G=
2230716170;this.J=139264},W7=function(a,b){if(!$APP.ye(b)&&$APP.yg($APP.zd,b))switch(a instanceof $APP.H?a.P:null){case "keys":return new V7(a,$APP.Gq.g($APP.Fj,b),null,null,null);case "syms":return new V7(a,$APP.ff(b),null,null,null);case "strs":return new V7(a,$APP.Gq.g($APP.q,b),null,null,null);default:return null}else return null},Fza=function(a){var b=n7(a);$APP.p(b)||(b=$APP.A.g($APP.cC,a)?new i7(null,null,null):null,b=$APP.p(b)?b:q7(a));return $APP.p(b)?c7(new A7(b,null,null,null),a):E7(a)},
Hza=function(a){var b=Z6(Fza,a);if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.m(null,2,[$APP.dE,Gza,$APP.FB,a],null));},X7=function(a,b,c,d,e){this.source=a;this.pattern=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},Y7=function(a,b,c,d,e){this.da=a;this.ta=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},Z7=function(a,b,c,d,e,f){this.da=a;this.ta=b;this.Db=
c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},$7=function(a,b,c,d,e,f){this.source=a;this.name=b;this.ta=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},a8=function(a,b,c,d,e,f){this.source=a;this.Hb=b;this.xa=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},b8=function(a,b,c,d,e,f){this.source=a;this.ad=b;this.xa=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},c8=function(a,b,c,d){this.xa=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=
139264},d8=function(a){var b=$APP.A.g($APP.kC,a)?new e7(null,null,null):null;if($APP.p(b))return b;b=l7(a);return $APP.p(b)?b:o7(a)},e8=function(a){if($APP.Ce(a)){var b=n7($APP.y(a));return $APP.p(b)?new $APP.M(null,2,5,$APP.O,[b,$APP.z(a)],null):new $APP.M(null,2,5,$APP.O,[new h7(null,null,null),a],null)}return null},f8=function(a){if($APP.Ce(a)){var b=$APP.w(a);a=$APP.y(b);b=$APP.z(b);b=null==b?$APP.ch:b;var c=p7(a);a=$APP.p(c)?c:l7(a);b=Z6(r7,b);return $APP.p($APP.p(a)?b:a)?new $APP.M(null,2,5,
$APP.O,[a,b],null):null}return null},h8=function(a,b,c){if($APP.ye(a)&&$APP.ye(b))throw $APP.Jm.g("Join variables should not be empty",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,c],null));},j8=function(a,b){h8(null,i8.h(a),b);return a},l8=function(a,b){var c=$APP.gg(a);c=$APP.Te.g(c,k8);var d=$APP.gg(c);c=$APP.Te.g(d,v7);d=$APP.Te.g(d,w7);h8(c,d,b);return a},n8=function(a){if($APP.Ce(a)&&$APP.A.g($APP.Fu,$APP.y(a))){var b=$APP.z(a);b=m8.h?m8.h(b):m8.call(null,b);if($APP.p($APP.hg(b)))return new c8(b,null,
null,null);throw $APP.Jm.g("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));}return null},q8=function(a){a:{var b=e8(a);if($APP.p(b)){var c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);var d=$APP.w(b);b=$APP.y(d);d=$APP.z(d);if($APP.A.g($APP.kD,b)){b=m8.h?m8.h(d):m8.call(null,d);if($APP.p(b)){c=j8(c7(new a8(c,$APP.ff($APP.uy.h(o8($APP.ch,b))),b,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",
new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));}}c=null}if($APP.p(c))return c;a:{b=e8(a);if($APP.p(b)){c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);d=$APP.w(b);b=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);if($APP.A.g(p8,b)){b=Z6(l7,d);d=m8.h?m8.h(e):m8.call(null,e);if($APP.p($APP.p(b)?d:b)){c=j8(c7(new a8(c,b,d,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));}}c=
null}if($APP.p(c))return c;a:{b=e8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),d=$APP.w(b),b=$APP.y(d),d=$APP.z(d),$APP.A.g($APP.Lu,b))){b=Z6($APP.ay.g(n8,q8),d);if($APP.p(b)){c=l8(c7(new b8(c,new s7(null,$APP.ff($APP.uy.h(o8($APP.ch,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));}c=null}if($APP.p(c))return c;a:{b=e8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,
null),b=$APP.C.j(b,1,null),d=$APP.w(b),b=$APP.y(d),e=$APP.z(d),d=$APP.y(e),e=$APP.z(e),$APP.A.g(r8,b))){b=u7(d);d=Z6($APP.ay.g(n8,q8),e);if($APP.p($APP.p(b)?d:b)){c=l8(c7(new b8(c,b,d,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));}c=null}if($APP.p(c))return c;a:{if(Y6(a,1)&&(b=f8($APP.y(a)),$APP.p(b))){c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=c7(new Y7(c,b,null,null,
null),a);break a}c=null}if($APP.p(c))return c;a:{if(Y6(a,2)&&(b=$APP.C.j(a,0,null),c=$APP.C.j(a,1,null),d=f8(b),$APP.p(d))){b=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);c=E7(c);c=$APP.p(c)?c7(new Z7(b,d,c,null,null,null),a):null;break a}c=null}if($APP.p(c))return c;a:{b=e8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),b=$APP.w(b),d=$APP.y(b),b=$APP.z(b),d=p7(d),e=Z6(d8,b),$APP.p(d))){if($APP.ye(b))throw $APP.Jm.g("rule-expr requires at least one argument",new $APP.m(null,2,[$APP.dE,g8,
$APP.FB,a],null));if(null==e)throw $APP.Jm.g("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));c=new $7(c,d,e,null,null,null);break a}c=null}if($APP.p(c))return c;a:{b=e8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),b=Z6(d8,b),$APP.p(b))){if($APP.ye(b))throw $APP.Jm.g("Pattern could not be empty",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));c=c7(new X7(c,b,null,null,null),a);break a}c=null}if($APP.p(c))return c;
throw $APP.Jm.g("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));},m8=function(a){return Z6(q8,a)},Iza=function(a){var b=m8(a);if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse :where clause, expected [clause+]",new $APP.m(null,2,[$APP.dE,g8,$APP.FB,a],null));},s8=function(a,b,c,d,e){this.Hb=a;this.xa=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},
t8=function(a,b,c,d,e){this.name=a;this.od=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},Jza=function(a){if($APP.Ce(a)){var b=$APP.w(a),c=$APP.y(b),d=$APP.z(b);if($APP.Ce(c)){b=$APP.w(c);var e=$APP.y(b);c=$APP.z(b);b=function(){var g=p7(e);if($APP.p(g))return g;throw $APP.Jm.g("Cannot parse rule name, expected plain-symbol",new $APP.m(null,2,[$APP.dE,u8,$APP.FB,a],null));}();c=u7(c);var f=function(){var g=$APP.hg(m8(d));if($APP.p(g))return g;throw $APP.Jm.g("Rule branch should have clauses",
new $APP.m(null,2,[$APP.dE,u8,$APP.FB,a],null));}();return new $APP.m(null,3,[$APP.V,b,i8,c,$APP.lH,f],null)}throw $APP.Jm.g(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,2,[$APP.dE,u8,$APP.FB,a],null));}throw $APP.Jm.g("Cannot parse rule, expected [rule-head clause+]",new $APP.m(null,2,[$APP.dE,u8,$APP.FB,a],null));},w8=function(a,b){var c=i8.h($APP.y(b)),d=y7(c);b=$APP.w($APP.z(b));for(var e=null,f=0,g=0;;)if(g<f){var h=e.ga(null,
g);h=i8.h(h);if($APP.Ui.g(d,y7(h)))throw $APP.Jm.g(["Arity mismatch for rule '",$APP.ck.l($APP.D([$APP.yn.h(a)])),"': ",$APP.ck.l($APP.D([x7(c)]))," vs. ",$APP.ck.l($APP.D([x7(h)]))].join(""),new $APP.m(null,2,[$APP.dE,u8,v8,a],null));g+=1}else if(b=$APP.w(b)){if($APP.Ge(b))f=$APP.bd(b),b=$APP.cd(b),e=f,f=$APP.de(f);else{h=$APP.y(b);e=i8.h(h);if($APP.Ui.g(d,y7(e)))throw $APP.Jm.g(["Arity mismatch for rule '",$APP.ck.l($APP.D([$APP.yn.h(a)])),"': ",$APP.ck.l($APP.D([x7(c)]))," vs. ",$APP.ck.l($APP.D([x7(e)]))].join(""),
new $APP.m(null,2,[$APP.dE,u8,v8,a],null));b=$APP.z(b);e=null;f=0}g=0}else break},Kza=function(a){$APP.ff(function(){return function d(c){return new $APP.Nf(null,function(){for(;;){var e=$APP.w(c);if(e){var f=e;if($APP.Ge(f)){var g=$APP.bd(f),h=$APP.de(g),n=$APP.Qf(h);return function(){for(var x=0;;)if(x<h){var B=$APP.qe(g,x),F=$APP.C.j(B,0,null),P=$APP.C.j(B,1,null);B=$APP.Gq.g(function(){return function(T){return new s8(i8.h(T),$APP.lH.h(T),null,null,null)}}(x,B,F,P,g,h,n,f,e),P);P=n;w8(F,B);P.add(new t8(F,
B,null,null,null));x+=1}else return!0}()?$APP.Tf($APP.Vf(n),d($APP.cd(f))):$APP.Tf($APP.Vf(n),null)}var k=$APP.y(f),t=$APP.C.j(k,0,null),v=$APP.C.j(k,1,null);k=$APP.Gq.g(function(){return function(x){return new s8(i8.h(x),$APP.lH.h(x),null,null,null)}}(k,t,v,f,e),v);w8(t,k);return $APP.Gf(new t8(t,k,null,null,null),d($APP.Id(f)))}return null}},null,null)}($APP.lk($APP.V,Z6(Jza,a)))}())},x8=function(a,b,c,d,e,f,g,h){this.Pc=a;this.Tc=b;this.Rc=c;this.Qc=d;this.Sc=e;this.s=f;this.o=g;this.C=h;this.G=
2230716170;this.J=139264},Lza=function(a){var b=$APP.zm.l(a,y8,$APP.D([z8,A8,B8,C8]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new x8(y8.h(a),z8.h(a),A8.h(a),B8.h(a),C8.h(a),null,$APP.hg(b),null)},D8=function(a){for(var b=$APP.fg,c=null;;){var d=$APP.y(a);if($APP.p(d))d instanceof $APP.H?(c=d,a=$APP.z(a)):(b=$APP.wm.F(b,new $APP.M(null,1,5,$APP.O,[c],null),$APP.kt.g($APP.Cf,$APP.ch),d),a=$APP.z(a));else return b}},Mza=function(a){var b=$APP.xm.h(a);return a instanceof X7?b:null!=b?b instanceof h7?
null:b:null},Oza=function(a,b,c){var d=$APP.ej(o8($APP.ch,y8.h(a))),e=$APP.ej(z8.h(a)),f=$APP.ej(o8($APP.ch,B8.h(a))),g=$APP.ej(o8($APP.ch,C8.h(a)));f=$APP.bx.g($APP.wI.g(d,e),$APP.wI.g(g,f));d=$APP.cx.g(d,e);if(!$APP.ye(f))throw $APP.Jm.g(["Query for unknown vars: ",$APP.ck.l($APP.D([$APP.Gq.g($APP.yn,f)]))].join(""),new $APP.m(null,3,[$APP.dE,E8,i8,f,$APP.FB,b],null));if(!$APP.ye(d))throw $APP.Jm.g([":find and :with should not use same variables: ",$APP.ck.l($APP.D([$APP.Gq.g($APP.yn,d)]))].join(""),
new $APP.m(null,3,[$APP.dE,E8,i8,d,$APP.FB,b],null));d=A8.h(a);if(null!=d){if(y8.h(a)instanceof N7)throw $APP.Jm.g([$APP.ck.l($APP.D([$APP.Em.h(d)]))," does not work with single-scalar :find"].join(""),new $APP.m(null,2,[$APP.dE,E8,$APP.FB,b],null));if(y8.h(a)instanceof M7)throw $APP.Jm.g([$APP.ck.l($APP.D([$APP.Em.h(d)]))," does not work with collection :find"].join(""),new $APP.m(null,2,[$APP.dE,E8,$APP.FB,b],null));}d=F8.h(A8.h(a));if(null!=d&&(e=K7(y8.h(a)),!$APP.A.g($APP.de(d),$APP.de(e))))throw $APP.Jm.g(["Count of ",
$APP.ck.l($APP.D([$APP.Em.h(A8.h(a))]))," must match count of :find"].join(""),new $APP.m(null,4,[$APP.dE,E8,Nza,$APP.Gf($APP.Em.h(A8.h(a)),d),G8,e,$APP.FB,b],null));if(1<$APP.de($APP.$g.g($APP.wb,new $APP.M(null,3,5,$APP.O,[$APP.hC.h(c),$APP.vt.h(c),H8.h(c)],null))))throw $APP.Jm.g("Only one of :keys/:syms/:strs must be present",new $APP.m(null,2,[$APP.dE,E8,$APP.FB,b],null));var h=o8($APP.ch,B8.h(a)),n=a7(function(t){return t instanceof g7},B8.h(a)),k=a7(function(t){return t instanceof i7},B8.h(a));
if(!$APP.p(function(){var t=b7(h);return $APP.p(t)?(t=b7(n),$APP.p(t)?b7(k):t):t}()))throw $APP.Jm.g("Vars used in :in should be distinct",new $APP.m(null,2,[$APP.dE,E8,$APP.FB,b],null));c=o8($APP.ch,z8.h(a));if(!$APP.p(b7(c)))throw $APP.Jm.g("Vars used in :with should be distinct",new $APP.m(null,2,[$APP.dE,E8,$APP.FB,b],null));c=$6(function(t){return t instanceof g7},B8.h(a),$APP.aj);d=$6(function(t){return t instanceof g7},C8.h(a),$APP.aj);c=$APP.bx.g(d,c);if(!$APP.ye(c))throw $APP.Jm.g(["Where uses unknown source vars: ",
$APP.ck.l($APP.D([$APP.Gq.g($APP.yn,c)]))].join(""),new $APP.m(null,3,[$APP.dE,E8,i8,c,$APP.FB,b],null));c=a7(function(t){return t instanceof $7},C8.h(a));a=a7(function(t){return t instanceof i7},B8.h(a));if(!$APP.ye(c)&&$APP.ye(a))throw $APP.Jm.g("Missing rules var '%' in :in",new $APP.m(null,2,[$APP.dE,E8,$APP.FB,b],null));},Rza=function(a){if($APP.De(a))var b=a;else if($APP.Ce(a))b=D8(a);else throw $APP.Jm.g("Query should be a vector or a map",new $APP.m(null,2,[$APP.dE,E8,$APP.FB,a],null));var c=
b,d=Iza(I8.g(c,$APP.ch));b=Lza(new $APP.m(null,5,[y8,Eza(G8.h(c)),z8,function(){var e=J8.h(c);if($APP.p(e)){var f=Z6(l7,e);if($APP.p(f))e=f;else throw $APP.Jm.g("Cannot parse :with clause, expected [ variable+ ]",new $APP.m(null,2,[$APP.dE,Pza,$APP.FB,e],null));}else e=null;return e}(),A8,function(){var e=W7($APP.hC,$APP.hC.h(c));if($APP.p(e))return e;e=W7($APP.vt,$APP.vt.h(c));return $APP.p(e)?e:W7(H8,H8.h(c))}(),B8,Hza(function(){var e=Qza.h(c);return $APP.p(e)?e:$APP.ye(a7(Mza,d))?$APP.ch:new $APP.M(null,
1,5,$APP.O,[S7],null)}()),C8,d],null));Oza(b,a,c);return b},K8=function(a,b,c,d,e,f){this.Pd=a;this.sources=b;this.rules=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},L8=function(a,b,c,d,e){this.ma=a;this.ce=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},M8=function(a,b){return $APP.cx.g($APP.ej($APP.Qi(a)),$APP.ej($APP.Qi(b)))},Sza=function(a,b){return $APP.A.g($APP.de(a),$APP.de(b))&&$APP.yg(function(c){return $APP.Ve(b,c)},$APP.Qi(a))&&$APP.yg(function(c){return $APP.Ve(b,
c)},$APP.Qi(a))},N8=function(a){return a instanceof $APP.u&&$APP.A.g("$",$APP.y($APP.gj(a)))},O8=function(a){return a instanceof $APP.u&&$APP.A.g("?",$APP.y($APP.gj(a)))},P8=function(a){return a instanceof $APP.H||"string"===typeof a},R8=function(a){return Q8(new $APP.M(null,2,5,$APP.O,[P8,$APP.kC],null),a)},S8=function(a,b,c,d){for(var e=b.length,f=d.length,g=Array(e+f),h=0;;)if(h<e)g[h]=a[b[h]],h+=1;else break;for(a=0;;)if(a<f)g[e+a]=c[d[a]],a+=1;else break;return g},T8=function(a){a=$APP.Ej.g($APP.yn,
$APP.ff($APP.uy.h(o8($APP.ch,a))));return new L8($APP.hj(a,$APP.Xn.B()),$APP.ch,null,null,null)},U8=function(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=U8[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=U8._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IBinding.in-\x3erel",a);}return a},Tza=function(a,b){var c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c instanceof A7&&V8.h(c)instanceof g7?a=$APP.Vn.N(a,W8,$APP.Vi,$APP.er.g(c,new $APP.M(null,2,5,$APP.O,
[V8,$APP.yn],null)),b):c instanceof A7&&V8.h(c)instanceof i7?(c=$APP.Vi.j,b="string"===typeof b?$APP.SH.h(b):b,Kza(b),b=$APP.lk($APP.je,b),a=c.call($APP.Vi,a,X8,b)):a=$APP.Vn.F(a,Y8,$APP.Cf,U8(c,b));return a},Uza=function(a,b,c){var d=$APP.de(b),e=$APP.de(c);if(d<e)throw $APP.Jm.g(["Extra inputs passed, expected: ",$APP.ck.l($APP.D([$APP.Gq.g(function(f){return $APP.xm.h($APP.ve(f))},b)])),", got: ",$APP.ck.l($APP.D([e]))].join(""),new $APP.m(null,3,[$APP.dE,Z8,C5,b,$8,c],null));if(d>e)throw $APP.Jm.g(["Too few inputs passed, expected: ",
$APP.ck.l($APP.D([$APP.Gq.g(function(f){return $APP.xm.h($APP.ve(f))},b)])),", got: ",$APP.ck.l($APP.D([e]))].join(""),new $APP.m(null,3,[$APP.dE,Z8,C5,b,$8,c],null));return $APP.df.j(Tza,a,$APP.hj(b,c))},c9=function(a,b){var c=a.h?a.h(b):a.call(null,b);return $APP.Ve(a9,b)?function(d){d=d[c];return"number"===typeof d?d:$APP.Ce(d)?R4(b9,d):f2(d)?R4(b9,d):d}:function(d){return d[c]}},d9=function(a){if(1===$APP.de(a))return $APP.y(a);var b=$APP.ef(a);return function(c){return $APP.Lt.h(b.map(function(d){return d.h?
d.h(c):d.call(null,c)}))}},e9=function(a,b){for(var c=$APP.Sc($APP.fg);;){var d=$APP.y(b);if(null==d)return $APP.Uc(c);var e=a.h?a.h(d):a.call(null,d);b=$APP.z(b);c=$APP.Wh.j(c,e,$APP.Cf.g($APP.Te.j(c,e,$APP.Hd),d))}},g9=function(a,b){var c=f9.h(a),d=f9.h(b),e=g6.h(a),f=g6.h(b);a=$APP.ff(M8(g6.h(a),g6.h(b)));var g=$APP.Ej.g(function(x){return c9(e,x)},a),h=$APP.Ej.g(function(x){return c9(f,x)},a);a=$APP.Qi(e);b=$APP.ff($APP.bx.g($APP.ej($APP.Qi(f)),$APP.ej($APP.Qi(e))));var n=$APP.ef($APP.Ej.g(e,
a)),k=$APP.ef($APP.Ej.g(f,b));g=d9(g);var t=e9(g,c),v=d9(h);c=$APP.Uc($APP.df.j(function(x,B){var F=v.h?v.h(B):v.call(null,B);F=$APP.Te.g(t,F);return null==F?x:$APP.df.j(function(P,T){return $APP.bh.g(P,S8(T,n,B,k))},x,F)},$APP.Sc($APP.ch),d));return new L8($APP.hj($APP.S.g(a,b),$APP.Xn.B()),c,null,null,null)},h9=function(a,b){var c=$APP.gg(a),d=$APP.Te.g(c,g6);c=$APP.Te.g(c,f9);b=$APP.gg(b);var e=$APP.Te.g(b,g6);b=$APP.Te.g(b,f9);var f=M8(d,e),g=$APP.Ej.g(function(k){return c9(e,k)},f);g=d9(g);var h=
e9(g,b);b=$APP.Ej.g(function(k){return c9(d,k)},f);var n=d9(b);return $APP.Vi.j(a,f9,$APP.dh(function(k){k=n.h?n.h(k):n.call(null,k);return null==(h.h?h.h(k):h.call(null,k))},c))},Vza=function(a,b){var c=$APP.Gq.g(function(d){return $APP.A.g(d,$APP.kC)||O8(d)?null:d},b);a=C3(a,c);b=$APP.Th.g($APP.fg,$APP.$g.g(function(d){var e=$APP.C.j(d,0,null);$APP.C.j(d,1,null);return O8(e)},$APP.Ej.j($APP.hy,b,new $APP.M(null,4,5,$APP.O,["e","a","v","tx"],null))));return new L8(b,a,null,null,null)},Wza=function(a,
b){a=$APP.$g.g(function(d){a:for(var e=b;;){var f=d;if($APP.p($APP.p(f)?e:f)){f=$APP.y(d);var g=$APP.y(e);if($APP.A.g(g,$APP.kC)||O8(g)||$APP.A.g(f,g))d=$APP.z(d),e=$APP.z(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Th.g($APP.fg,$APP.$g.g(function(d){var e=$APP.C.j(d,0,null);$APP.C.j(d,1,null);return O8(e)},$APP.Ej.j($APP.hy,b,$APP.Xn.B())));return new L8(c,$APP.Gq.g($APP.ef,a),null,null,null)},Xza=function(a,b){return(null!=a?$APP.wd===a.Di||(a.qd?0:$APP.zb(B3,a)):$APP.zb(B3,
a))?Vza(a,b):Wza(a,b)},i9=function(a,b){for(var c=$APP.ch;;){var d=$APP.y(a);if(null==d)return $APP.Cf.g(c,b);$APP.p($APP.hg(M8(g6.h(b),g6.h(d))))?(a=$APP.z(a),b=g9(d,b)):(a=$APP.z(a),c=$APP.Cf.g(c,d))}},j9=function(a,b){return $APP.zg(function(c){return $APP.Ve(g6.h(c),b)?c:null},Y8.h(a))},k9=function(a,b){var c=j9(a,b);if(null==c)return null;a=$APP.y(f9.h(c));null==a?b=null:(c=g6.h(c),b=c.h?c.h(b):c.call(null,b),b=a[b]);return b},Yza=function(a,b){return $APP.zg(function(c){return $APP.Ve(g6.h(a),
c)},b)},m9=function(a,b){var c=$APP.$g.g(function(e){return Yza(e,b)},Y8.h(a)),d=$APP.df.g(l9,c);return new $APP.M(null,2,5,$APP.O,[$APP.Vn.j(a,Y8,function(e){return $APP.gt.g($APP.ej(c),e)}),d],null)},n9=function(a,b,c,d){a=W8.h(a);b=g6.h(b);for(var e=$APP.de(d),f=Array(e),g=Array(e),h=0;;)if(h<e){var n=$APP.C.g(d,h);if(n instanceof $APP.u){var k=$APP.Te.g(a,n);null==k?g[h]=$APP.Te.g(b,n):f[h]=k}else f[h]=n;h+=1}else break;return c===$APP.hy?function(t){for(var v=f.slice(0),x=0;;)if(x<e){var B=g[x];
null!=B&&(v[x]=t[B]);x+=1}else break;return $APP.Dg.g(c,v)}:function(t){for(var v=0;;)if(v<e){var x=g[v];null!=x&&(f[v]=t[x]);v+=1}else break;return $APP.Dg.g(c,f)}},Zza=function(a,b){var c=$APP.C.j(b,0,null);c=$APP.w(c);var d=$APP.y(c),e=$APP.z(c),f=function(){var n=$APP.Te.g(t6,d);if($APP.p(n))return n;n=k9(a,d);if($APP.p(n))return n;if($APP.p(null))return null;if(null==j9(a,d))throw $APP.Jm.g(["Unknown predicate '",$APP.ck.l($APP.D([d]))," in ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,
3,[$APP.dE,o9,$APP.FB,b,$APP.lp,d],null));return null}();c=m9(a,$APP.$g.g($APP.zd,e));var g=$APP.C.j(c,0,null),h=$APP.C.j(c,1,null);c=$APP.p(f)?function(){var n=n9(g,h,f,e);return $APP.Vn.j(h,f9,function(k){return $APP.$g.g(n,k)})}():$APP.Vi.j(h,f9,$APP.ch);return $APP.Vn.F(g,Y8,$APP.Cf,c)},$za=function(a,b){var c=$APP.C.j(b,0,null);c=$APP.w(c);var d=$APP.y(c),e=$APP.z(c);c=$APP.C.j(b,1,null);var f=E7(c),g=function(){var k=$APP.Te.g(t6,d);if($APP.p(k))return k;k=k9(a,d);if($APP.p(k))return k;if($APP.p(null))return null;
if(null==j9(a,d))throw $APP.Jm.g(["Unknown function '",$APP.ck.l($APP.D([d]))," in ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,3,[$APP.dE,o9,$APP.FB,b,$APP.lp,d],null));return null}();c=m9(a,$APP.$g.g($APP.zd,e));var h=$APP.C.j(c,0,null),n=$APP.C.j(c,1,null);c=$APP.p(g)?function(){var k=n9(h,n,g,e),t=function(){return function B(x){return new $APP.Nf(null,function(){for(var F=x;;)if(F=$APP.w(F)){if($APP.Ge(F)){var P=$APP.bd(F),T=$APP.de(P),Z=$APP.Qf(T);a:for(var ba=0;;)if(ba<T){var ca=$APP.qe(P,
ba),ia=k(ca);null!=ia&&$APP.Uf(Z,l9.g(new L8(g6.h(n),new $APP.M(null,1,5,$APP.O,[ca],null),null,null,null),U8(f,ia)));ba+=1}else{P=!0;break a}return P?$APP.Tf($APP.Vf(Z),B($APP.cd(F))):$APP.Tf($APP.Vf(Z),null)}Z=$APP.y(F);P=k(Z);if(null!=P)return $APP.Gf(l9.g(new L8(g6.h(n),new $APP.M(null,1,5,$APP.O,[Z],null),null,null,null),U8(f,P)),B($APP.Id(F)));F=$APP.Id(F)}else return null},null,null)}(f9.h(n))}();return $APP.ye(t)?l9.g(n,T8(f)):$APP.df.g(p9,t)}():l9.g($APP.Vi.j(n,f9,$APP.ch),T8(f));return $APP.Vn.F(h,
Y8,i9,c)},q9=function(a,b){if($APP.Ce(b)){var c=N8($APP.y(b))?$APP.ie(b):$APP.y(b);if(c instanceof $APP.u){if(O8(c)||$APP.Ve(new $APP.$i(null,new $APP.m(null,6,[$APP.Fu,null,$APP.kD,null,p8,null,r8,null,$APP.Lu,null,$APP.kC,null],null),null),c))return!1;if($APP.Ve(X8.h(a),c))return!0;throw $APP.Jm.g(["Unknown rule '",$APP.ck.l($APP.D([c]))," in ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.dE,o9,$APP.FB,b],null));}}return!1},bAa=function(a,b){var c=$APP.w(a),d=$APP.y(c),e=$APP.z(c),f=
$APP.hk.g(aAa,$APP.Qd),g=$APP.Te.g(X8.h(b),d);return function k(n){return new $APP.Nf(null,function(){for(;;){var t=$APP.w(n);if(t){var v=t;if($APP.Ge(v)){var x=$APP.bd(v),B=$APP.de(x),F=$APP.Qf(B);return function(){for(var fa=0;;)if(fa<B){var ha=$APP.qe(x,fa),ja=ha,ra=$APP.w(ja),sa=$APP.y(ra),va=$APP.z(ra),ya=sa,Ca=$APP.w(ya),Na=$APP.y(Ca),Ua=$APP.z(Ca),Ia=Na,Ka=Ua,db=va,nb=$APP.hj(Ka,e);$APP.Uf(F,$APP.pv(function(Cb,Rb,$b,kc,Ad,oc,Tg,Xi,zi,Tk,Uk,mm,Ug,nm,om,ld,Yi,Sh,Ai,Yj,Vk,pm,qm,Pp,Xu,Zj){return function(qd){if(O8(qd)){var Mn=
Ug.h?Ug.h(qd):Ug.call(null,qd);return null==Mn?$APP.Nj.h([$APP.gj(qd),"__auto__",$APP.q.h(Zj)].join("")):Mn}return qd}}(fa,ja,ra,sa,va,ya,Ca,Na,Ua,Ia,Ka,db,nb,ha,x,B,F,v,t,a,c,d,e,d,e,f,g),db));fa+=1}else return!0}()?$APP.Tf($APP.Vf(F),k($APP.cd(v))):$APP.Tf($APP.Vf(F),null)}var P=$APP.y(v),T=P,Z=$APP.w(T),ba=$APP.y(Z),ca=$APP.z(Z),ia=ba,oa=$APP.w(ia),la=$APP.y(oa),K=$APP.z(oa),E=la,Q=K,I=ca,N=$APP.hj(Q,e);return $APP.Gf($APP.pv(function(fa,ha,ja,ra,sa,va,ya,Ca,Na,Ua,Ia,Ka,db,nb,Cb,Rb,$b,kc,Ad,oc,
Tg,Xi){return function(zi){if(O8(zi)){var Tk=Ka.h?Ka.h(zi):Ka.call(null,zi);return null==Tk?$APP.Nj.h([$APP.gj(zi),"__auto__",$APP.q.h(Xi)].join("")):Tk}return zi}}(T,Z,ba,ca,ia,oa,la,K,E,Q,I,N,P,v,t,a,c,d,e,d,e,f,g),I),k($APP.Id(v)))}return null}},null,null)}(g)},r9=function(a,b){a=$APP.gt.g(function(c){var d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);return $APP.A.g(d,c)},$APP.Ej.j($APP.hy,a,b));return new $APP.M(null,2,5,$APP.O,[$APP.Ej.g($APP.y,a),$APP.Ej.g($APP.ie,a)],null)},cAa=function(a,b){a=
$APP.w(a);var c=$APP.y(a),d=$APP.z(a);return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){if($APP.Ge(h)){var n=$APP.bd(h),k=$APP.de(n),t=$APP.Qf(k);a:for(var v=0;;)if(v<k){var x=$APP.qe(n,v),B=r9(d,x);x=$APP.C.j(B,0,null);B=$APP.C.j(B,1,null);$APP.Uf(t,new $APP.M(null,1,5,$APP.O,[$APP.S.l(new $APP.M(null,1,5,$APP.O,[s9],null),x,$APP.D([B]))],null));v+=1}else{n=!0;break a}return n?$APP.Tf($APP.Vf(t),g($APP.cd(h))):$APP.Tf($APP.Vf(t),null)}t=$APP.y(h);n=r9(d,t);t=$APP.C.j(n,
0,null);n=$APP.C.j(n,1,null);return $APP.Gf(new $APP.M(null,1,5,$APP.O,[$APP.S.l(new $APP.M(null,1,5,$APP.O,[s9],null),t,$APP.D([n]))],null),g($APP.Id(h)))}return null}},null,null)}($APP.Te.g(b,c))},t9=function(a){var b=$APP.gk.h($APP.ch);$APP.pv(function(c){$APP.p(O8.h?O8.h(c):O8.call(null,c))&&$APP.hk.j(b,$APP.Cf,c);return c},a);return $APP.r(b)},dAa=function(a,b){function c(e){e=$APP.C.j(e,0,null);e=$APP.w(e);$APP.y(e);e=$APP.z(e);return $APP.yg(d,e)}var d=$APP.ej(t9(a));return new $APP.M(null,
2,5,$APP.O,[$APP.$g.g(c,b),$APP.gt.g(c,b)],null)},fAa=function(a,b){function c(va){return $APP.zg(function(ya){return $APP.ye(f9.h(ya))},Y8.h(va))}function d(va,ya){return $APP.df.j(u9,va,ya)}for(var e=$APP.$g.g(O8,b),f=$APP.hj(e,$APP.Xn.B()),g=new $APP.G(null,new $APP.m(null,5,[v9,$APP.ch,w9,a,$APP.lH,new $APP.M(null,1,5,$APP.O,[b],null),x9,$APP.fg,y9,$APP.fg],null),null,1,null),h=new L8(f,$APP.ch,null,null,null);;){var n=$APP.y(g);if(null==n)return h;var k=n,t=$APP.qj(function(){return function(va){return!q9(a,
va)}}(g,h,k,n,e,f,d,c),$APP.lH.h(k)),v=$APP.C.j(t,0,null),x=$APP.C.j(t,1,null),B=$APP.w(x),F=$APP.y(B),P=$APP.z(B),T=F,Z=P;if(null==T){b=d(w9.h(k),v);b=z9?z9(b,e):eAa.call(null,b,e);var ba=new L8(f,b,null,null,null);b=$APP.z(g);ba=p9(h,ba);g=b;h=ba}else{var ca=T,ia=$APP.w(ca),oa=$APP.y(ia),la=$APP.z(ia),K=oa,E=la,Q=cAa(T,x9.h(k)),I=dAa($APP.S.g(v9.h(k),v),$APP.S.g(Q,y9.h(k))),N=$APP.C.j(I,0,null),fa=$APP.C.j(I,1,null);if($APP.p($APP.zg(function(){return function(va){return $APP.A.g(va,new $APP.M(null,
1,5,$APP.O,[$APP.R(s9)],null))}}(g,h,ca,ia,oa,la,K,E,Q,I,N,fa,t,v,x,B,F,P,T,Z,k,n,e,f,d,c),N)))b=$APP.z(g),ba=h,g=b,h=ba;else{var ha=$APP.S.g(v,N),ja=d(w9.h(k),ha);if($APP.p(c(ja)))b=$APP.z(g),ba=h,g=b,h=ba;else{var ra=$APP.Vi.j(x9.h(k),K,$APP.Cf.g($APP.Te.j(x9.h(k),K,$APP.ch),E)),sa=bAa(T,a);b=$APP.S.g(function(){return function(va,ya,Ca,Na,Ua,Ia,Ka,db,nb,Cb,Rb,$b,kc,Ad,oc,Tg,Xi,zi,Tk,Uk,mm,Ug,nm,om,ld,Yi,Sh,Ai,Yj,Vk){return function Pp(qm){return new $APP.Nf(null,function(Xu,Zj,qd,Mn,Qp,Rp,Yu,Zu,
$u,av,rm,bv,cv,dv,ue,Sp,ev,fv,Bi,Ef,Ag,Mc,le,uc){return function(){for(;;){var jf=$APP.w(qm);if(jf){if($APP.Ge(jf)){var gv=$APP.bd(jf),UC=$APP.de(gv),Ne=$APP.Qf(UC);a:for(var ey=0;;)if(ey<UC){var jH=$APP.qe(gv,ey);$APP.Uf(Ne,new $APP.m(null,5,[v9,Qp,w9,Rp,$APP.lH,$APP.Th.j($APP.ch,$APP.Vj,$APP.D([jH,uc])),x9,qd,y9,Sp],null));ey+=1}else{gv=!0;break a}return gv?$APP.Tf($APP.Vf(Ne),Pp($APP.cd(jf))):$APP.Tf($APP.Vf(Ne),null)}Ne=$APP.y(jf);return $APP.Gf(new $APP.m(null,5,[v9,Qp,w9,Rp,$APP.lH,$APP.Th.j($APP.ch,
$APP.Vj,$APP.D([Ne,uc])),x9,qd,y9,Sp],null),Pp($APP.Id(jf)))}return null}}}(va,ya,Ca,Na,Ua,Ia,Ka,db,nb,Cb,Rb,$b,kc,Ad,oc,Tg,Xi,zi,Tk,Uk,mm,Ug,nm,om,ld,Yi,Sh,Ai,Yj,Vk),null,null)}}(g,h,ra,sa,ha,ja,ca,ia,oa,la,K,E,Q,I,N,fa,t,v,x,B,F,P,T,Z,k,n,e,f,d,c)(sa)}(),$APP.z(g));ba=h;g=b;h=ba}}}}},gAa=function(a,b){if(null!=a?$APP.wd===a.qh||(a.qd?0:$APP.zb(K3,a)):$APP.zb(K3,a)){var c=$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),e=$APP.C.j(b,2,null),f=$APP.C.j(b,3,null);return $APP.Ml.j(new $APP.M(null,4,5,$APP.O,
[$APP.p(function(){var g=R8(c);return $APP.p(g)?g:P8(c)}())?C4(a,c):c,d,$APP.p(function(){if($APP.p(e)){var g=P8(d);return g?(g=B4(a,d))?(g=R8(e),$APP.p(g)?g:P8(e)):g:g}return e}())?C4(a,e):e,$APP.p(R8(f))?C4(a,f):f],null),0,$APP.de(b))}return b},hAa=function(a,b){var c=$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),e=$APP.C.j(b,2,null);b=$APP.C.j(b,3,null);c=O8(c)?$APP.Cf.g($APP.aj,c):$APP.aj;c=O8(b)?$APP.Cf.g(c,b):c;return O8(e)&&!O8(d)&&B4(a,d)?$APP.Cf.g(c,e):c},A9=function(a,b){return $APP.Vi.j(a,Y8,
$APP.Hq.g(function(c){var d=$APP.hg($APP.Wi(g6.h(c),b));return null==d?null:$APP.Vi.j(c,g6,d)},Y8.h(a)))},B9=function(a){return $APP.Th.g($APP.aj,$APP.Yg.l(function(b){return $APP.Qi(g6.h(b))},$APP.D([Y8.h(a)])))},C9=function(a,b,c){if($APP.nv(b,a))return null;a=$APP.bx.g($APP.ej(b),a);throw $APP.Jm.g(["Insufficient bindings: ",$APP.ck.l($APP.D([a]))," not bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.dE,o9,$APP.FB,c,i8,a],null));},iAa=function(a,b,c){b=$APP.Gq.g(function(d){return $APP.bx.g($APP.ej(t9(d)),
a)},b);if($APP.p($APP.Dg.g($APP.A,b)))return null;throw $APP.Jm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.ck.l($APP.D([b]))," in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.dE,o9,$APP.FB,c,i8,b],null));},D9=function(a,b,c){for(var d=$APP.ej($APP.gt.g(a,b)),e=$APP.w(c),f=null,g=0,h=0;;)if(h<g){c=f.ga(null,h);var n=$APP.hg($APP.bx.g(d,$APP.ej(t9(c))));if(null!=n)throw e=n,$APP.Hy.l($APP.D([c,a,b,d])),$APP.Jm.g(["All clauses in 'or' must use same set of free vars, had ",
$APP.ck.l($APP.D([e]))," not bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.dE,o9,$APP.FB,c,i8,e],null));h+=1}else if(c=$APP.w(e)){e=c;if($APP.Ge(e))f=$APP.bd(e),e=$APP.cd(e),c=f,g=$APP.de(f),f=c;else{c=$APP.y(e);f=$APP.hg($APP.bx.g(d,$APP.ej(t9(c))));if(null!=f)throw e=f,$APP.Hy.l($APP.D([c,a,b,d])),$APP.Jm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.ck.l($APP.D([e]))," not bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.dE,o9,$APP.FB,
c,i8,e],null));e=$APP.z(e);f=null;g=0}h=0}else return null},jAa=function(a,b){var c=b9;b9=$APP.Te.g(W8.h(a),S7);try{return $APP.df.j(E9,a,b)}finally{b9=c}},eAa=function(a){switch(arguments.length){case 2:return z9(arguments[0],arguments[1]);case 3:return F9(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}},z9=function(a,b){a=Y8.h(a);return F9(new $APP.M(null,1,5,$APP.O,[Array($APP.de(b))],null),a,b)},F9=function(a,b,c){for(;;){var d=
$APP.y(b);if(null==d)return a;if($APP.ye(f9.h(d)))return $APP.ch;var e=$APP.Wi(g6.h(d),c);if($APP.ye(e)){var f=a,g=$APP.z(b),h=c;a=f;b=g;c=h}else{var n=$APP.ef($APP.Ej.g(function(t,v,x,B){return function(F){return $APP.Te.g(B,F)}}(a,b,c,e,d),c)),k=$APP.de(c);f=function(){return function(t,v,x,B,F,P,T){return function ca(ba){return new $APP.Nf(null,function(ia,oa,la,K,E,Q,I){return function(){for(var N=ba;;){var fa=$APP.w(N);if(fa){var ha=fa,ja=$APP.y(ha);if(fa=$APP.w(function(ra,sa,va,ya,Ca,Na,Ua,
Ia,Ka,db,nb){return function $b(Rb){return new $APP.Nf(null,function(kc,Ad,oc,Tg,Xi,zi,Tk,Uk,mm){return function(){for(;;){var Ug=$APP.w(Rb);if(Ug){if($APP.Ge(Ug)){var nm=$APP.bd(Ug),om=$APP.de(nm),ld=$APP.Qf(om);return function(){for(var Sh=0;;)if(Sh<om){for(var Ai=$APP.qe(nm,Sh),Yj=ld,Vk=$APP.Fb(Xi),pm=0;;)if(pm<mm){var qm=Uk[pm];null!=qm&&(Vk[pm]=Ai[qm]);pm+=1}else break;Yj.add(Vk);Sh+=1}else return!0}()?$APP.Tf($APP.Vf(ld),$b($APP.cd(Ug))):$APP.Tf($APP.Vf(ld),null)}var Yi=$APP.y(Ug);return $APP.Gf(function(){for(var Sh=
$APP.Fb(Xi),Ai=0;;)if(Ai<mm){var Yj=Uk[Ai];null!=Yj&&(Sh[Ai]=Yi[Yj]);Ai+=1}else break;return Sh}(),$b($APP.Id(Ug)))}return null}}}(ra,sa,va,ya,Ca,Na,Ua,Ia,Ka,db,nb),null,null)}}(N,ia,oa,la,ja,ha,fa,K,E,Q,I)(f9.h(I))))return $APP.S.g(fa,ca($APP.Id(N)));N=$APP.Id(N)}else return null}}}(t,v,x,B,F,P,T),null,null)}}(a,b,c,n,k,e,d)(a)}();g=$APP.z(b);h=c;a=f;b=g;c=h}}},kAa=function(a,b){return $APP.ej($APP.Ej.g($APP.ff,z9(a,b)))},G9=function(a,b){if(null!=a&&null!=a.Af)a=a.Af(a,b);else{var c=G9[$APP.ma(null==
a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=G9._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IContextResolve.-context-resolve",a);}return a},H9=function(a,b,c){return $APP.Gq.F(function(d,e,f){if(P7(d)){e=G9($APP.mp.h(d),b);d=$APP.Ej.g(function(h){return G9(h,b)},$APP.fj($APP.qo.h(d)));var g=$APP.Ej.g(function(h){return $APP.C.g(h,f)},c);return $APP.Dg.g(e,$APP.S.g(d,new $APP.M(null,1,5,$APP.O,[g],null)))}return e},a,$APP.y(c),$APP.Xn.B())},lAa=function(a){var b=
$APP.Eg(P7);return $APP.gt.g($APP.sb,$APP.Ej.j(function(c,d){return $APP.p(b.h?b.h(c):b.call(null,c))?d:null},a,$APP.Xn.B()))},mAa=function(a,b,c){var d=lAa(a);return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){if($APP.Ge(h)){var n=$APP.bd(h),k=$APP.de(n),t=$APP.Qf(k);a:for(var v=0;;)if(v<k){var x=$APP.qe(n,v);$APP.C.j(x,0,null);x=$APP.C.j(x,1,null);$APP.Uf(t,H9(a,b,x));v+=1}else{n=!0;break a}return n?$APP.Tf($APP.Vf(t),g($APP.cd(h))):$APP.Tf($APP.Vf(t),null)}t=
$APP.y(h);$APP.C.j(t,0,null);t=$APP.C.j(t,1,null);return $APP.Gf(H9(a,b,t),g($APP.Id(h)))}return null}},null,null)}($APP.lk(function(f){return $APP.Ej.g(function(g){return $APP.C.g(f,g)},d)},c))},nAa=function(a,b){return $APP.df.j(function(c,d){return $APP.Cf.g(c,a.h?a.h(d):a.call(null,d))},$APP.pe(b),b)},I9=function(a,b){var c=F8.h(a),d=$APP.Xn.g(0,$APP.de(c));return nAa(function(e){return $APP.df.j(function(f,g){return $APP.Vi.j(f,$APP.C.g(c,g),$APP.C.g(e,g))},$APP.fg,d)},b)},J9=function(a,b,c){if(null!=
a&&null!=a.Bf)a=a.Bf(a,b,c);else{var d=J9[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=J9._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IPostProcess.-post-process",a);}return a},oAa=function(a,b,c){var d=function(){return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){if($APP.Ge(h)){var n=$APP.bd(h),k=$APP.de(n),t=$APP.Qf(k);return function(){for(var x=0;;)if(x<k){var B=$APP.qe(n,x),F=t;if(Q7(B)){var P=G9($APP.xm.h(B),
b);B=G9(X5.h(B),b);P=P6(P,B,null)}else P=null;F.add(P);x+=1}else return!0}()?$APP.Tf($APP.Vf(t),g($APP.cd(h))):$APP.Tf($APP.Vf(t),null)}var v=$APP.y(h);return $APP.Gf(Q7(v)?function(){var x=G9($APP.xm.h(v),b),B=G9(X5.h(v),b);return P6(x,B,null)}():null,g($APP.Id(h)))}return null}},null,null)}(a)}();return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){var n=h;if($APP.Ge(n)){var k=$APP.bd(n),t=$APP.de(k),v=$APP.Qf(t);return function(){for(var B=0;;)if(B<t){var F=$APP.qe(k,
B);$APP.Uf(v,$APP.Gq.j(function(){return function(P,T){return $APP.p(P)?N6(P,T):T}}(B,F,k,t,v,n,h,d),d,F));B+=1}else return!0}()?$APP.Tf($APP.Vf(v),g($APP.cd(n))):$APP.Tf($APP.Vf(v),null)}var x=$APP.y(n);return $APP.Gf($APP.Gq.j(function(){return function(B,F){return $APP.p(B)?N6(B,F):F}}(x,n,h,d),d,x),g($APP.Id(n)))}return null}},null,null)}(c)},K9=function(a,b){if(a instanceof Y3){var c=a.Jc,d=a.oc;return new Y3(d,function(e){var f=c.h?c.h(e):c.call(null,e);return $APP.p(f)?b.g?b.g(d,e):b.call(null,
d,e):f},$APP.gk.h(0),null,null,null)}return new Y3(a,function(e){return b.g?b.g(a,e):b.call(null,a,e)},$APP.gk.h(0),null,null,null)},L9=function(a){switch(arguments.length){case 2:return L9.g(arguments[0],arguments[1]);case 3:return L9.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}},M9=function(a,b){return H4.h(L9.g(a,b))},N9=function(a,b,c,d){return G3(a,b,c,d)},P9=function(a){return $APP.gk.l(a,$APP.D([$APP.hb,new $APP.m(null,
1,[O9,$APP.gk.h($APP.fg)],null)]))},pAa=function(a,b,c){var d=$APP.gk.h(null);$APP.hk.g(a,function(e){e=L9.j(e,b,c);$APP.Ig(d,e);return H4.h(e)});return $APP.r(d)},Q9=function(a){return $APP.r(a)},R9=function(a,b){a=a.toString(16);var c=$APP.de(a);return c>b?$APP.wj.j(a,0,b):c<b?[$APP.q.h($APP.Dg.g($APP.q,$APP.oo.g(b-c,"0"))),$APP.q.h(a)].join(""):a},S9=function S9(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return S9.l(0<c.length?new $APP.Ed(c.slice(0),0,
null):null)};S9.l=function(a){return $APP.Kj(a,$APP.Vi.j($APP.mb(),$APP.fb,!1))};S9.A=0;S9.D=function(a){return this.l($APP.w(a))};
var qAa=new $APP.u(null,"ground","ground",-1460862835,null),rAa=new $APP.u("datascript","Datom","datascript/Datom",-901340080,null),X5=new $APP.H(null,"pattern","pattern",242135423),sAa=new $APP.u("datascript.core","squuid","datascript.core/squuid",-408746813,null),Bza=new $APP.H("parser","rule-var","parser/rule-var",-1584354459),a4=new $APP.H("db.unique","identity","db.unique/identity",1675950722),s5=new $APP.H("db","retract","db/retract",-1549825231),tAa=new $APP.u("datascript.core","create-conn",
"datascript.core/create-conn",-768042587,null),D5=new $APP.H(null,"new","new",-2085437848),Vya=new $APP.H(null,"index","index",-1531685915),T9=new $APP.u("datascript.db","IDatom","datascript.db/IDatom",293960966,null),U9=new $APP.H(null,"incomparable","incomparable",1634329662),uAa=new $APP.u(null,"datom-tx","datom-tx",1349109608,null),H8=new $APP.H(null,"strs","strs",1175537277),p4=new $APP.H("db.cardinality","one","db.cardinality/one",1428352190),e5=new $APP.H("transact","upsert","transact/upsert",
412688078),A8=new $APP.H(null,"qreturn-map","qreturn-map",1841215994),vAa=new $APP.u("datascript.core","empty-db","datascript.core/empty-db",-807971396,null),wAa=new $APP.u(null,"stddev","stddev",775056588,null),V9=new $APP.u(null,"msec","msec",-1372914914,null),O4=new $APP.H(null,"entity-id","entity-id",1485898093),xAa=new $APP.u(null,"datom-added","datom-added",-363961980,null),X8=new $APP.H(null,"rules","rules",1198912366),yAa=new $APP.u("datascript.core","filter","datascript.core/filter",-1276765471,
null),z5=new $APP.H("db","cas","db/cas",-451542322),W9=new $APP.H(null,"acc","acc",838566312),zAa=new $APP.u("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null),cza=new $APP.H("lookup-ref","unique","lookup-ref/unique",-960647710),S3=new $APP.H(null,"max-tx","max-tx",1119558339),u8=new $APP.H("parser","rule","parser/rule",-464044566),h6=new $APP.H(null,"first-attr","first-attr",-1993039831),AAa=new $APP.u("datascript.core","q","datascript.core/q",2106686416,
null),c6=new $APP.H(null,"ref?","ref?",1932693720),X9=new $APP.u(null,"added","added",-596784081,null),BAa=new $APP.u(null,"sum","sum",1777518341,null),T7=new $APP.H("parser","find","parser/find",-801023103),Y9=new $APP.H(null,"attr","attr",-604132353),O6=new $APP.H(null,"visitor","visitor",-1026865865),Z9=new $APP.H(null,"elements","elements",657646735),CAa=new $APP.u(null,"entity","entity",1189561251,null),$9=new $APP.H("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),k6=new $APP.H(null,
"wildcard?","wildcard?",-686044101),k5=new $APP.H("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),o9=new $APP.H("query","where","query/where",-1935159429),E8=new $APP.H("parser","query","parser/query",1877320671),T4=new $APP.H(null,"context","context",-830191113),DAa=new $APP.u("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null),i6=new $APP.H(null,"last-attr","last-attr",-526000708),g5=new $APP.H(null,"conflict","conflict",1978796605),EAa=new $APP.u(null,
"!\x3d","!\x3d",-201205829,null),Y8=new $APP.H(null,"rels","rels",1770187185),nza=new $APP.H("db","fn","db/fn",-1175261470),FAa=new $APP.u("datascript.core","init-db","datascript.core/init-db",1493526573,null),GAa=new $APP.u("datascript.core","touch","datascript.core/touch",632058772,null),G4=new $APP.H(null,"db-before","db-before",-553691536),Y5=new $APP.H(null,"recursion-limit","recursion-limit",52345639),u5=new $APP.H("datascript.db","value-tempids","datascript.db/value-tempids",244806162),gza=
new $APP.H(null,"datom","datom",-371556090),fza=new $APP.H("transact","unique","transact/unique",-940992320),e4=new $APP.H("db.type","ref","db.type/ref",-1728373079),HAa=new $APP.u("datascript.db","datom","datascript.db/datom",399198004,null),IAa=new $APP.u(null,"variance","variance",-1522424942,null),JAa=new $APP.u("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null),KAa=new $APP.u("datascript.core","with","datascript.core/with",-1124098173,null),h5=new $APP.H("db","id",
"db/id",-1388397098),B5=new $APP.H(null,"old","old",-1825222690),E5=new $APP.H("db.fn","retractAttribute","db.fn/retractAttribute",937402164),LAa=new $APP.u("datascript.db","datom-added","datascript.db/datom-added",-560586371,null),v7=new $APP.H(null,"required","required",1807647006),MAa=new $APP.H("db.pull","attr","db.pull/attr",-533298746),bza=new $APP.H("lookup-ref","syntax","lookup-ref/syntax",-317304012),NAa=new $APP.u("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,
null),vza=new $APP.H("db.pull","wildcard","db.pull/wildcard",116316031),U3=new $APP.H(null,"pull-patterns","pull-patterns",-343695048),OAa=new $APP.u(null,"init-db","init-db",-1059254491,null),PAa=new $APP.u("datascript.core","db","datascript.core/db",667170070,null),QAa=new $APP.u(null,"-index-range","-index-range",898114142,null),I4=new $APP.H(null,"tx-data","tx-data",934159761),x9=new $APP.H(null,"used-args","used-args",23596256),C5=new $APP.H(null,"expected","expected",1583670997),RAa=new $APP.u(null,
"datom-from-reader","datom-from-reader",1334075127,null),V8=new $APP.H(null,"variable","variable",-281346492),C8=new $APP.H(null,"qwhere","qwhere",-1645067378),P4=new $APP.H("db","ident","db/ident",-737096),SAa=new $APP.u(null,"transact!","transact!",817805717,null),J4=new $APP.H(null,"tempids","tempids",1767509089),i4=new $APP.H("db","attrTuples","db/attrTuples",860541631),Qza=new $APP.H(null,"in","in",-1531184865),y8=new $APP.H(null,"qfind","qfind",1529332972),d6=new $APP.H(null,"component?","component?",
407783990),TAa=new $APP.u("datascript.core","serializable","datascript.core/serializable",-630048076,null),S7=new $APP.u(null,"$","$",-1580747756,null),w9=new $APP.H(null,"prefix-context","prefix-context",-1269613591),d4=new $APP.H("db.cardinality","many","db.cardinality/many",772806234),a5=new $APP.H("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029),Dza=new $APP.u(null,"aggregate","aggregate",-1142967327,null),i5=new $APP.H("db","add","db/add",235286841),UAa=new $APP.u(null,
"q","q",-1965434072,null),VAa=new $APP.u("datascript.core","pull","datascript.core/pull",-1213970902,null),V3=new $APP.H(null,"pull-attrs","pull-attrs",-974863177),H4=new $APP.H(null,"db-after","db-after",-571884666),g8=new $APP.H("parser","where","parser/where",-966053850),a$=new $APP.H(null,"seen","seen",-518999789),WAa=new $APP.u("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),c4=new $APP.H("db.unique","value","db.unique/value",276903088),Sya=new $APP.H(null,"tx",
"tx",466630418),F7=new $APP.H("parser","binding","parser/binding",-346395752),o5=new $APP.H("db.fn","retractEntity","db.fn/retractEntity",-1423535441),i8=new $APP.H(null,"vars","vars",-2046957217),XAa=new $APP.u(null,"attr","attr",1036399174,null),dza=new $APP.H("entity-id","missing","entity-id/missing",1234588374),YAa=new $APP.u("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null),b$=new $APP.H(null,"element","element",1974019749),ZAa=new $APP.u(null,"DB","DB",1622874957,
null),r8=new $APP.u(null,"or-join","or-join",591375469,null),$Aa=new $APP.H("db.pull","reverse","db.pull/reverse",1999788297),aBa=new $APP.u(null,"db-from-reader","db-from-reader",1527469533,null),bBa=new $APP.u(null,"get-some","get-some",409442058,null),cBa=new $APP.u(null,"avg","avg",1837937727,null),c$=new $APP.H(null,"unfiltered-db","unfiltered-db",-1363720391),dBa=new $APP.u(null,"println-str","println-str",-2049216703,null),g6=new $APP.H(null,"attrs","attrs",-2090668713),Wya=new $APP.H(null,
"components","components",-1073188942),Pza=new $APP.H("parser","with","parser/with",-386255821),eBa=new $APP.u(null,"missing?","missing?",-1710383910,null),fBa=new $APP.u("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),gBa=new $APP.u("datascript.core","transact!","datascript.core/transact!",1506351773,null),H3=new $APP.H(null,"avet","avet",1383857032),sza=new $APP.u(null,"limit","limit",284709164,null),d$=new $APP.u(null,"schema","schema",58529736,null),mza=new $APP.H(null,
"entity","entity",-450970276),hBa=new $APP.u("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null),Gza=new $APP.H("parser","in","parser/in",1617442048),iBa=new $APP.H(null,"init-db","init-db",1595181278),jBa=new $APP.u(null,"create-conn","create-conn",2071410861,null),W3=new $APP.H(null,"hash","hash",-13781596),a6=new $APP.H(null,"xform","xform",-1725711008),kBa=new $APP.u(null,"rschema","rschema",444397473,null),lBa=new $APP.u(null,"with","with",104234651,null),p8=new $APP.u(null,
"not-join","not-join",-645515756,null),z8=new $APP.H(null,"qwith","qwith",-45809392),b6=new $APP.H(null,"multival?","multival?",1072388383),J8=new $APP.H(null,"with","with",-1536296876),mBa=new $APP.u("datascript.core","datoms","datascript.core/datoms",961250077,null),m6=new $APP.H("parser","pull","parser/pull",-2147427204),e$=new $APP.u(null,"tx","tx",2107161945,null),t7=new $APP.H("parser","rule-vars","parser/rule-vars",-1493174969),nBa=new $APP.u("datascript.core","tx0","datascript.core/tx0",1432817831,
null),oBa=new $APP.u("datascript.core","entity","datascript.core/entity",-1406213973,null),f$=new $APP.u(null,"tx-data","tx-data",-1720276008,null),j6=new $APP.H(null,"reverse-attrs","reverse-attrs",630097702),k4=new $APP.H("schema","validation","schema/validation",1178447161),pBa=new $APP.u(null,"reset-conn!","reset-conn!",1315177148,null),$8=new $APP.H(null,"got","got",-1674745710),k8=new $APP.H(null,"rule-vars","rule-vars",1665972520),n4=new $APP.H("db","valueType","db/valueType",1827971944),g$=
new $APP.u(null,"Datom","Datom",1208901035,null),$5=new $APP.H(null,"reverse?","reverse?",-1672868474),Q3=new $APP.H(null,"aevt","aevt",-585148059),qBa=new $APP.H("datascript","db","datascript/db",-1190971692),Z8=new $APP.H("query","inputs","query/inputs",1042810394),o4=new $APP.H("db","cardinality","db/cardinality",-104975659),rBa=new $APP.u(null,"serializable","serializable",1941609404,null),sBa=new $APP.H(null,"thaw-fn","thaw-fn",-240544261),h$=new $APP.H(null,"binding","binding",539932593),tBa=
new $APP.u("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null),f5=new $APP.H(null,"assertion","assertion",-1645134882),v4=new $APP.H(null,"datoms","datoms",-290874434),uBa=new $APP.u(null,"count-distinct","count-distinct",-1566572514,null),R7=new $APP.u(null,"pull","pull",779986722,null),vBa=new $APP.u(null,"listen!","listen!",-115577950,null),wBa=new $APP.u(null,"db-with","db-with",233242042,null),w5=new $APP.H("db.fn","call","db.fn/call",-151594418),i$=new $APP.u(null,
"datascript.core","datascript.core",-1034255346,null),xBa=new $APP.u("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null),j$=new $APP.H(null,"pred","pred",1927423397),yBa=new $APP.u(null,"untuple","untuple",-606149900,null),k$=new $APP.u(null,"c1","c1",-1521904966,null),l$=new $APP.u(null,"c2","c2",78651156,null),m$=new $APP.u(null,"c3","c3",468715789,null),n$=new $APP.u(null,"c4","c4",-1626390159,null),v9=new $APP.H(null,"prefix-clauses","prefix-clauses",1294180028),
zBa=new $APP.u(null,"index-range","index-range",1044940937,null),s9=new $APP.u(null,"-differ?","-differ?",1465687357,null),f4=new $APP.H("db","isComponent","db/isComponent",423352398),y4=new $APP.u(null,"db","db",-1661185010,null),ABa=new $APP.u(null,"touch","touch",-1158163300,null),BBa=new $APP.u(null,"sample","sample",1719555128,null),o$=new $APP.u(null,"datom","datom",1268975437,null),CBa=new $APP.H(null,"serialize","serialize",-69216574),g4=new $APP.H("db","tupleAttrs","db/tupleAttrs",250080092),
DBa=new $APP.u("datascript.core","datom","datascript.core/datom",-1596234155,null),W4=new $APP.H("db","current-tx","db/current-tx",1600722132),Z5=new $APP.H(null,"recursive?","recursive?",1340075244),p$=new $APP.u(null,"conn","conn",1918841190,null),EBa=new $APP.H(null,"thaw-kw","thaw-kw",1076733097),y9=new $APP.H(null,"pending-guards","pending-guards",-1255527308),q$=new $APP.H("query","binding","query/binding",698240489),Nza=new $APP.H(null,"return-map","return-map",1620104901),f9=new $APP.H(null,
"tuples","tuples",-676032639),r$=new $APP.H(null,"branches","branches",-1240337268),s$=new $APP.u(null,"datoms","datoms",1349657093,null),A5=new $APP.H("transact","cas","transact/cas",816687170),FBa=new $APP.u("clojure.string","blank?","clojure.string/blank?",1772874244,null),Uya=new $APP.H(null,"index-access","index-access",-1548960265),GBa=new $APP.u(null,"validate-schema","validate-schema",758884380,null),O9=new $APP.H(null,"listeners","listeners",394544445),P3=new $APP.H(null,"eavt","eavt",-666437073),
B8=new $APP.H(null,"qin","qin",1372651151),R3=new $APP.H(null,"max-eid","max-eid",2134868075),HBa=new $APP.u("datascript.core","index-range","datascript.core/index-range",-1484576383,null),IBa=new $APP.u(null,"tuple","tuple",1167864243,null),F8=new $APP.H(null,"symbols","symbols",1211743),F5=new $APP.H("db","retractEntity","db/retractEntity",-1452737935),JBa=new $APP.u("datascript.core","listen!","datascript.core/listen!",1659161258,null),KBa=new $APP.u(null,"squuid","squuid",-1898207797,null),n6=
new $APP.H(null,"fragment","fragment",826775688),LBa=new $APP.H("transaction","filtered","transaction/filtered",1699706605),l4=new $APP.H(null,"attribute","attribute",-2074029119),I8=new $APP.H(null,"where","where",-2044795965),t5=new $APP.H("datascript.db","internal","datascript.db/internal",-249301114),O3=new $APP.H(null,"schema","schema",-1582001791),T3=new $APP.H(null,"rschema","rschema",-1196134054),MBa=new $APP.u(null,"conn-from-datoms","conn-from-datoms",-1502002909,null),NBa=new $APP.u("datascript.db",
"DB","datascript.db/DB",348347258,null),OBa=new $APP.u(null,"median","median",-2084869638,null),PBa=new $APP.u("clojure.string","includes?","clojure.string/includes?",-1842146260,null),QBa=new $APP.u(null,"empty-db","empty-db",1486862004,null),g3=new $APP.H(null,"v","v",21465059),S4=new $APP.H("transact","syntax","transact/syntax",-299207078),RBa=new $APP.u("datascript.db","Datom","datascript.db/Datom",1951800754,null),t$=new $APP.H(null,"recursion-limits","recursion-limits",1762857814),w6=new $APP.u(null,
"...","...",-1926939749,null),Aza=new $APP.H(null,"freeze-kw","freeze-kw",391758233),h4=new $APP.H("db.type","tuple","db.type/tuple",938234914),b4=new $APP.H("db","index","db/index",-1531680669),G8=new $APP.H(null,"find","find",496279456),h3=new $APP.H(null,"a","a",-2123407586),SBa=new $APP.u("datascript","DB","datascript/DB",-487332776,null),uza=new $APP.H(null,"*","*",-1294732318),zza=new $APP.H(null,"freeze-fn","freeze-fn",-575885995),TBa=new $APP.u("datascript.core","db-with","datascript.core/db-with",
-1263574350,null),w7=new $APP.H(null,"free","free",801364328),u$=new $APP.u(null,"datascript.db","datascript.db",-444456104,null),y5=new $APP.H("db.fn","cas","db.fn/cas",-379352172),UBa=new $APP.u(null,"tx0","tx0",-4656209,null),v8=new $APP.H(null,"rule","rule",729973257),$3=new $APP.H("db","unique","db/unique",329396388),VBa=new $APP.u(null,"from-serializable","from-serializable",945516427,null),aza=new $APP.u(null,"resolve-datom","resolve-datom",-294110827,null),WBa=new $APP.u("datascript.db","rschema",
"datascript.db/rschema",1982085018,null),Q4=new $APP.H("entity-id","syntax","entity-id/syntax",1921317045),W8=new $APP.H(null,"sources","sources",-321166424),XBa=new $APP.u(null,"get-else","get-else",1312024065,null),v5=new $APP.H("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),v$=new $APP.u(null,"tx-meta","tx-meta",-1495152575,null),W5=new $APP.H(null,"limit","limit",-1355822363),K4=new $APP.H(null,"tx-meta","tx-meta",1159283194),YBa=new $APP.u(null,"pull-many","pull-many",
1857679657,null),ZBa=new $APP.u("datascript.core","pull-many","datascript.core/pull-many",394351057,null),$Ba=new $APP.u(null,"conn-from-db","conn-from-db",-184109372,null);var Pya,d2;datascript={};Pya={};$APP.l=$1.prototype;$APP.l.R=function(a,b,c){return b2.j?b2.j(this,b,c):b2.call(null,this,b,c)};$APP.l.ha=function(a,b){return $APP.Yb(this.Ne,b)};$APP.l.ca=function(a,b){return $APP.nx(this.Ne,b,null)};$APP.l.I=function(a,b,c){return $APP.nx(this.Ne,b,c)};$APP.l.T=function(a,b,c){return $APP.Oc(this.Ne,b,c)};var C2=$APP.y($APP.$g.g(function(a){return 0!=(32&1<<a)},$APP.Xn.j(31,-1,-1)))+1,B2=(1<<C2)-1;$APP.l=y2.prototype;$APP.l.Ih=function(){var a=this.keys;return a[a.length-1]};$APP.l.Li=function(){return this.keys.length};$APP.l.Kh=function(a,b){return new y2(this.keys.concat(b.keys),this.Pb.concat(b.Pb))};$APP.l.Lh=function(a,b){a=m2(this.keys,b.keys);b=m2(this.Pb,b.Pb);return o2(new y2(a[0],b[0]),new y2(a[1],b[1]))};$APP.l.Jh=function(a,b,c){a=j2(b,this.keys,c);return-1===a?null:u2(this.Pb[a],b,c)};
$APP.l.Gh=function(a,b,c){a=g2(b,this.keys,this.keys.length-2,c);c=v2(this.Pb[a],b,c);if($APP.p(c)){var d=this.keys,e=a+1,f=c.map(q2);b=n2(b,d,a,e,f,f.length)?d:l2(d,a,e,f);a=l2(this.Pb,a,a+1,c);if(32>=a.length)return[new y2(b,a)];c=a.length>>>1;return[new y2(b.slice(0,c),a.slice(0,c)),new y2(b.slice(c),a.slice(c))]}return null};
$APP.l.Hh=function(a,b,c,d,e,f){var g=j2(b,this.keys,c);if(-1===g)return null;a=0<=g-1?this.Pb[g-1]:null;var h=g+1<this.Pb.length?this.Pb[g+1]:null;c=w2(this.Pb[g],b,c,!1,a,h);if($APP.p(c)){a=$APP.p(a)?g-1:g;g=$APP.p(h)?2+g:1+g;h=this.keys;var n=c.map(q2);b=n2(b,h,a,g,n,n.length)?h:l2(h,a,g,n);c=l2(this.Pb,a,g,c);return x2(new y2(b,c),d,e,f)}return null};$APP.l=z2.prototype;$APP.l.Ih=function(){var a=this.keys;return a[a.length-1]};$APP.l.Li=function(){return this.keys.length};
$APP.l.Kh=function(a,b){return new z2(this.keys.concat(b.keys))};$APP.l.Lh=function(a,b){a=m2(this.keys,b.keys);return o2(new z2(a[0]),new z2(a[1]))};$APP.l.Jh=function(a,b,c){a=i2(b,this.keys,c);return-1===a?null:this.keys[a]};
$APP.l.Gh=function(a,b,c){a=g2(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.g?b.g(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new z2(this.keys.slice(0,b)),new z2(k2(this.keys,b,d,a,a,[c]))]:[new z2(k2(this.keys,0,b,a,a,[c])),new z2(this.keys.slice(b,d))]):[new z2(l2(this.keys,a,a,[c]))]};$APP.l.Hh=function(a,b,c,d,e,f){a=i2(b,this.keys,c);if(-1===a)return null;a=l2(this.keys,a,a+1,[]);return x2(new z2(a),d,e,f)};$APP.l=A2.prototype;
$APP.l.toString=function(){return $APP.nd(this)};$APP.l.ca=function(a,b){return u2(this.root,this.Ic,b)};$APP.l.I=function(a,b,c){a=u2(this.root,this.Ic,b);return $APP.p(a)?a:c};$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"#{"," ","}",c,$APP.w(this))};$APP.l.U=function(){return this.K};$APP.l.aa=function(){return new A2(this.root,this.shift,this.M,this.Ic,this.K,this.Lc)};$APP.l.Z=function(){return this.M};$APP.l.fd=function(){return $APP.Fc(L2.h?L2.h(this):L2.call(null,this))};
$APP.l.V=function(){var a=this.Lc;return null!=a?a:this.Lc=a=$APP.Nd(this)};$APP.l.O=function(a,b){var c=this;return $APP.Ae(b)&&this.M===$APP.de(b)&&$APP.yg(function(d){return $APP.Ve(c,d)},b)};$APP.l.re=function(){return this};$APP.l.Da=function(){return new A2(new z2([]),0,0,this.Ic,this.K,null)};$APP.l.bg=function(a,b){return U2.j?U2.j(this,b,this.Ic):U2.call(null,this,b,this.Ic)};$APP.l.bb=function(a,b){a=L2.h?L2.h(this):L2.call(null,this);return $APP.p(a)?$APP.px(a,b):b.B?b.B():b.call(null)};
$APP.l.ab=function(a,b,c){a=L2.h?L2.h(this):L2.call(null,this);return $APP.p(a)?$APP.px(a,b,c):c};$APP.l.te=function(a,b){return T2.j?T2.j(this,b,this.Ic):T2.call(null,this,b,this.Ic)};$APP.l.Ge=function(){return this};$APP.l.Y=function(){return L2.h?L2.h(this):L2.call(null,this)};$APP.l.jh=function(a,b){return U2.j?U2.j(this,b,this.Ic):U2.call(null,this,b,this.Ic)};$APP.l.W=function(a,b){return new A2(this.root,this.shift,this.M,this.Ic,b,this.Lc)};
$APP.l.ba=function(a,b){return T2.j?T2.j(this,b,this.Ic):T2.call(null,this,b,this.Ic)};$APP.l.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length-1)].join(""));}};$APP.l.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Fb(b)))};$APP.l.h=function(a){return this.ca(null,a)};$APP.l.g=function(a,b){return this.I(null,a,b)};
var F2=function F2(a,b,c){var e=B2&b>>>c;if(0<c){var f=a.Pb[e],g=c-C2;b=F2.j?F2.j(f,b,g):F2.call(null,f,b,g);return-1===b?e+1<a.Pb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1},I2=function I2(a,b,c){var e=B2&b>>>c;if(0<c){var f=c-C2,g=a.Pb[e];b=I2.j?I2.j(g,b,f):I2.call(null,g,b,f);return-1===b?0<=e-1?(--e,H2(a.Pb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};$APP.l=M2.prototype;$APP.l.Z=function(){return this.end-this.kb};$APP.l.ga=function(a,b){return this.H[this.kb+b]};
$APP.l.Eb=function(a,b,c){return 0<=b&&b<this.end-this.kb?this.H[this.kb+b]:c};$APP.l.sf=function(){if(this.kb===this.end)throw Error("-drop-first of empty chunk");return new $APP.Rf(this.H,this.kb+1,this.end)};$APP.l.bb=function(a,b){return this.kb===this.end?b.B?b.B():b.call(null):$APP.px(this.sf(null),b,this.H[this.kb])};$APP.l.ab=function(a,b,c){for(a=this.kb;;)if(a<this.end){var d=this.H[a];c=b.g?b.g(c,d):b.call(null,c,d);if($APP.Td(c))return $APP.r(c);a+=1}else return c};$APP.l=N2.prototype;
$APP.l.toString=function(){return $APP.nd(this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"("," ",")",c,$APP.w(this))};$APP.l.La=function(){if($APP.p(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new N2(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=G2(this.set,this.left);return $APP.Ui.g(-1,a)&&a<this.right?this.qg(a,this.right):null}return null};
$APP.l.fd=function(){if($APP.p(this.keys)){var a=this.set,b=J2(this.set,this.left),c=J2(this.set,this.right);return P2.j?P2.j(a,b,c):P2.call(null,a,b,c)}return null};$APP.l.O=function(a,b){return $APP.yf(this,b)};$APP.l.bb=function(a,b){if(null==this.keys)return b.B?b.B():b.call(null);a=this.Ya(null);var c=this.La(null);return null==c?a:$APP.px(c,b,a)};
$APP.l.ab=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.g?b.g(c,f):b.call(null,c,f);if($APP.Td(c))return $APP.r(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=G2(this.set,a),-1!==a&&a<this.right)d=D2(this.set,a),e=B2&a>>>0;else return c}};$APP.l.Ya=function(){return $APP.p(this.keys)?this.keys[this.idx]:null};$APP.l.fb=function(){var a=this.La(null);return $APP.p(a)?a:$APP.Hd};
$APP.l.Y=function(){return $APP.p(this.keys)?this:null};$APP.l.af=function(){var a=$APP.A.g(this.left|B2,this.right|B2)?this.right&B2:this.keys.length;return new M2(this.keys,this.idx,a)};$APP.l.ee=function(){var a=this.Fe();return $APP.p(a)?a:$APP.Hd};$APP.l.qg=function(a,b){return new N2(this.set,a,b,D2(this.set,a),B2&a>>>0)};$APP.l.Fe=function(){var a=G2(this.set,this.left+(this.keys.length-this.idx-1));return $APP.Ui.g(-1,a)&&a<this.right?this.qg(a,this.right):null};$APP.l=O2.prototype;
$APP.l.toString=function(){return $APP.nd(this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"("," ",")",c,$APP.w(this))};$APP.l.La=function(){if($APP.p(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new O2(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=J2(this.set,this.right);return $APP.Ui.g(-1,a)&&a>this.left?this.qg(this.left,a):null}return null};
$APP.l.fd=function(){if($APP.p(this.keys)){var a=-1===this.left?0:G2(this.set,this.left),b=G2(this.set,this.right);return K2(this.set,a,-1===b?this.right+1:b)}return null};$APP.l.O=function(a,b){return $APP.yf(this,b)};$APP.l.Ya=function(){return $APP.p(this.keys)?this.keys[this.idx]:null};$APP.l.fb=function(){var a=this.La(null);return $APP.p(a)?a:$APP.Hd};$APP.l.Y=function(){return $APP.p(this.keys)?this:null};$APP.l.qg=function(a,b){return new O2(this.set,a,b,D2(this.set,b),B2&b>>>0)};var Tya=Error,l5=$APP.kt.g($APP.Cf,$APP.ch),Zya=$APP.kt.g($APP.Cf,$APP.aj);$APP.l=b3.prototype;$APP.l.Za=function(){return 0<this.tx?this.tx:-this.tx};$APP.l.Wc=function(){return 0<this.tx};$APP.l.V=function(){return 0===this.Lc?this.Lc=d3.h?d3.h(this):d3.call(null,this):this.Lc};$APP.l.O=function(a,b){return(a=b instanceof b3)?e3.g?e3.g(this,b):e3.call(null,this,b):a};$APP.l.Y=function(){return f3.h?f3.h(this):f3.call(null,this)};
$APP.l.ca=function(a,b){return i3.j?i3.j(this,b,null):i3.call(null,this,b,null)};$APP.l.I=function(a,b,c){return i3.j?i3.j(this,b,c):i3.call(null,this,b,c)};$APP.l.ga=function(a,b){return j3?j3(this,b):l3.call(null,this,b)};$APP.l.Eb=function(a,b,c){return k3?k3(this,b,c):l3.call(null,this,b,c)};$APP.l.R=function(a,b,c){return n3.j?n3.j(this,b,c):n3.call(null,this,b,c)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"#datascript/Datom ["," ","]",c,new $APP.M(null,5,5,$APP.O,[this.e,this.a,this.v,this.Za(null),this.Wc(null)],null))};$APP.wa("datascript.db.Datom",b3);
var m3=function m3(a){switch(arguments.length){case 3:return m3.j(arguments[0],arguments[1],arguments[2]);case 4:return m3.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return m3.N(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};m3.j=function(a,b,c){return new b3(a,b,c,536870912,0,0)};m3.F=function(a,b,c,d){return new b3(a,b,c,d,0,0)};
m3.N=function(a,b,c,d,e){return new b3(a,b,c,$APP.p(e)?d:-d,0,0)};m3.A=5;$APP.l=N3.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "schema":return this.cc;case "eavt":return this.Kb;case "aevt":return this.hc;case "avet":return this.Zb;case "max-eid":return this.vc;case "max-tx":return this.wc;case "rschema":return this.mc;case "pull-patterns":return this.lc;case "pull-attrs":return this.kc;case "hash":return this.hash;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.S.g(new $APP.M(null,10,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[O3,this.cc],null),new $APP.M(null,2,5,$APP.O,[P3,this.Kb],null),new $APP.M(null,2,5,$APP.O,[Q3,this.hc],null),new $APP.M(null,2,5,$APP.O,[H3,this.Zb],null),new $APP.M(null,2,5,$APP.O,[R3,this.vc],null),new $APP.M(null,2,5,$APP.O,[S3,this.wc],null),new $APP.M(null,2,5,$APP.O,[T3,this.mc],null),new $APP.M(null,
2,5,$APP.O,[U3,this.lc],null),new $APP.M(null,2,5,$APP.O,[V3,this.kc],null),new $APP.M(null,2,5,$APP.O,[W3,this.hash],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,10,new $APP.M(null,10,5,$APP.O,[O3,P3,Q3,H3,R3,S3,T3,U3,V3,W3],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,this.C)};
$APP.l.Z=function(){return 10+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.cc,b.cc)&&$APP.A.g(this.Kb,b.Kb)&&$APP.A.g(this.hc,b.hc)&&$APP.A.g(this.Zb,b.Zb)&&$APP.A.g(this.vc,b.vc)&&$APP.A.g(this.wc,b.wc)&&$APP.A.g(this.mc,b.mc)&&$APP.A.g(this.lc,b.lc)&&$APP.A.g(this.kc,b.kc)&&$APP.A.g(this.hash,b.hash)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,10,[O3,null,S3,null,W3,null,Q3,null,H3,null,R3,null,P3,null,V3,null,U3,null,T3,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(O3,b):$APP.J.call(null,O3,b))?new N3(c,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(P3,b):$APP.J.call(null,P3,b))?new N3(this.cc,c,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Q3,b):$APP.J.call(null,Q3,b))?new N3(this.cc,this.Kb,c,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):
$APP.p($APP.J.g?$APP.J.g(H3,b):$APP.J.call(null,H3,b))?new N3(this.cc,this.Kb,this.hc,c,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(R3,b):$APP.J.call(null,R3,b))?new N3(this.cc,this.Kb,this.hc,this.Zb,c,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(S3,b):$APP.J.call(null,S3,b))?new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,c,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(T3,
b):$APP.J.call(null,T3,b))?new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,c,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(U3,b):$APP.J.call(null,U3,b))?new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,c,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(V3,b):$APP.J.call(null,V3,b))?new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,c,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W3,b):$APP.J.call(null,W3,b))?
new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,c,this.s,this.o,null):new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,10,5,$APP.O,[new $APP.We(O3,this.cc,null),new $APP.We(P3,this.Kb,null),new $APP.We(Q3,this.hc,null),new $APP.We(H3,this.Zb,null),new $APP.We(R3,this.vc,null),new $APP.We(S3,this.wc,null),new $APP.We(T3,this.mc,null),new $APP.We(U3,this.lc,null),new $APP.We(V3,this.kc,null),new $APP.We(W3,this.hash,null)],null),this.o))};
$APP.l.W=function(a,b){return new N3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.Bi=function(a,b){a:for(var c=P3.h(b),d=b=a=$APP.ch,e=this.Kb;;){if($APP.ye(e)){var f=new $APP.M(null,3,5,$APP.O,[$APP.hg(a),$APP.hg($APP.Th.g(b,c)),$APP.hg(d)],null);break a}if($APP.ye(c)){f=new $APP.M(null,3,5,$APP.O,[$APP.hg($APP.Th.g(a,e)),$APP.hg(b),$APP.hg(d)],null);break a}var g=$APP.y(e),h=$APP.y(c);try{f=x3.g?x3.g(g,h):x3.call(null,g,h)}catch(n){if(n instanceof Error)f=U9;else throw n;}if($APP.A.g(f,U9))a=$APP.Cf.g(a,g),b=$APP.Cf.g(b,h),e=$APP.z(e),c=$APP.z(c);else if(0===f)d=$APP.Cf.g(d,
g),e=$APP.z(e),c=$APP.z(c);else if(0>f)a=$APP.Cf.g(a,g),e=$APP.z(e);else if(0<f)b=$APP.Cf.g(b,h),c=$APP.z(c);else{f=null;break a}}return f};$APP.l.za=$APP.wd;$APP.l.T=function(a,b,c){return u4.j?u4.j(this,b,c):u4.call(null,this,b,c)};$APP.l.Vg=$APP.wd;$APP.l.Z=function(){return $APP.de(this.Kb)};$APP.l.Rj=$APP.wd;$APP.l.fd=function(){return $APP.Fc(this.Kb)};$APP.l.tf=$APP.wd;$APP.l.V=function(){return r4.h?r4.h(this):r4.call(null,this)};
$APP.l.O=function(a,b){return t4.g?t4.g(this,b):t4.call(null,this,b)};$APP.l.Wg=$APP.wd;$APP.l.re=function(){return $APP.Vn.j($APP.Vn.j($APP.Vn.j(this,P3,$APP.Xf),Q3,$APP.Xf),H3,$APP.Xf)};$APP.l.Xg=$APP.wd;$APP.l.Da=function(){var a=this.cc;a=w$.h?w$.h(a):w$.call(null,a);return $APP.te(a,$APP.ve(this))};$APP.l.te=function(){throw $APP.Jm.g("datascript.DB/conj! is not supported",$APP.fg);};$APP.l.Ge=function(){return $APP.Vn.j($APP.Vn.j($APP.Vn.j(this,P3,$APP.Yf),Q3,$APP.Yf),H3,$APP.Yf)};
$APP.l.Ci=function(){return qBa};$APP.l.th=function(a,b,c){J3(this,b,c);return V2($APP.Te.g(this,b),E4.N?E4.N(this,b,c,0,536870912):E4.call(null,this,b,c,0,536870912),E4.N?E4.N(this,b,c,2147483647,2147483647):E4.call(null,this,b,c,2147483647,2147483647))};$APP.l.vh=function(a,b,c){J3(this,b,c);return V2($APP.Te.g(this,b),E4.N?E4.N(this,b,c,0,536870912):E4.call(null,this,b,c,0,536870912),m3.F(2147483647,null,null,2147483647))};
$APP.l.uh=function(a,b,c,d){J3(this,H3,new $APP.M(null,1,5,$APP.O,[b],null));a=new $APP.G(null,QAa,new $APP.G(null,y4,new $APP.G(null,b,new $APP.G(null,c,new $APP.G(null,d,null,1,null),2,null),3,null),4,null),5,null);z4.g?z4.g(b,a):z4.call(null,b,a);return V2(this.Zb,D4.Ca?D4.Ca(this,null,b,c,null,0,536870912):D4.call(null,this,null,b,c,null,0,536870912),D4.Ca?D4.Ca(this,null,b,d,null,2147483647,2147483647):D4.call(null,this,null,b,d,null,2147483647,2147483647))};$APP.l.qh=$APP.wd;$APP.l.sh=function(){return this.cc};
$APP.l.rh=function(a,b){a=this.mc;return a.h?a.h(b):a.call(null,b)};$APP.l.Di=$APP.wd;
$APP.l.wh=function(a,b){a=$APP.C.j(b,0,null);var c=$APP.C.j(b,1,null),d=$APP.C.j(b,2,null),e=$APP.C.j(b,3,null);b=this.Kb;var f=this.hc,g=this.Zb;$APP.Ve(M3(this,d4),c);return $APP.p(a)?$APP.p(c)?null!=d?$APP.p(e)?V2(b,m3.F(a,c,d,e),m3.F(a,c,d,e)):V2(b,m3.F(a,c,d,536870912),m3.F(a,c,d,2147483647)):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},V2(b,m3.F(a,c,null,536870912),m3.F(a,c,null,2147483647))):V2(b,m3.F(a,c,null,536870912),m3.F(a,c,null,2147483647)):null!=d?$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(d,
h.v)&&$APP.A.g(e,h.Za(null))},V2(b,m3.F(a,null,null,536870912),m3.F(a,null,null,2147483647))):$APP.$g.g(function(h){return $APP.A.g(d,h.v)},V2(b,m3.F(a,null,null,536870912),m3.F(a,null,null,2147483647))):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},V2(b,m3.F(a,null,null,536870912),m3.F(a,null,null,2147483647))):V2(b,m3.F(a,null,null,536870912),m3.F(a,null,null,2147483647)):$APP.p(c)?null!=d?$APP.p(e)?$APP.p(I3.g?I3.g(this,c):I3.call(null,this,c))?$APP.$g.g(function(h){return $APP.A.g(e,
h.Za(null))},V2(g,m3.F(0,c,d,536870912),m3.F(2147483647,c,d,2147483647))):$APP.$g.g(function(h){return $APP.A.g(d,h.v)&&$APP.A.g(e,h.Za(null))},V2(f,m3.F(0,c,null,536870912),m3.F(2147483647,c,null,2147483647))):$APP.p(I3.g?I3.g(this,c):I3.call(null,this,c))?V2(g,m3.F(0,c,d,536870912),m3.F(2147483647,c,d,2147483647)):$APP.$g.g(function(h){return $APP.A.g(d,h.v)},V2(f,m3.F(0,c,null,536870912),m3.F(2147483647,c,null,2147483647))):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},V2(f,m3.F(0,
c,null,536870912),m3.F(2147483647,c,null,2147483647))):V2(f,m3.F(0,c,null,536870912),m3.F(2147483647,c,null,2147483647)):null!=d?$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(d,h.v)&&$APP.A.g(e,h.Za(null))},b):$APP.$g.g(function(h){return $APP.A.g(d,h.v)},b):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},b):b};$APP.l=Y3.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "unfiltered-db":return this.oc;case "pred":return this.Jc;case "hash":return this.hash;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[c$,this.oc],null),new $APP.M(null,2,5,$APP.O,[j$,this.Jc],null),new $APP.M(null,2,5,$APP.O,[W3,this.hash],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[c$,j$,W3],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new Y3(this.oc,this.Jc,this.hash,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oc,b.oc)&&$APP.A.g(this.Jc,b.Jc)&&$APP.A.g(this.hash,b.hash)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[W3,null,j$,null,c$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new Y3(this.oc,this.Jc,this.hash,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(c$,b):$APP.J.call(null,c$,b))?new Y3(c,this.Jc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(j$,b):$APP.J.call(null,j$,b))?new Y3(this.oc,c,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W3,b):$APP.J.call(null,W3,b))?new Y3(this.oc,this.Jc,c,this.s,this.o,null):new Y3(this.oc,this.Jc,this.hash,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We(c$,this.oc,null),new $APP.We(j$,this.Jc,null),new $APP.We(W3,this.hash,null)],null),this.o))};$APP.l.W=function(a,b){return new Y3(this.oc,this.Jc,this.hash,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.oi=$APP.wd;$APP.l.ca=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.l.I=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.l.za=$APP.wd;$APP.l.T=function(a,b,c){return u4.j?u4.j(this,b,c):u4.call(null,this,b,c)};$APP.l.Vg=$APP.wd;$APP.l.Z=function(){return $APP.de(E3(this,P3,$APP.ch))};$APP.l.tf=$APP.wd;$APP.l.V=function(){return s4.h?s4.h(this):s4.call(null,this)};$APP.l.O=function(a,b){return t4.g?t4.g(this,b):t4.call(null,this,b)};$APP.l.Xg=$APP.wd;$APP.l.Da=function(){throw Error("-empty is not supported on FilteredDB");};$APP.l.Ug=$APP.wd;
$APP.l.ha=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.l.R=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.l.th=function(a,b,c){return $APP.$g.g(this.Jc,E3(this.oc,b,c))};$APP.l.vh=function(a,b,c){return $APP.$g.g(this.Jc,F3(this.oc,b,c))};$APP.l.uh=function(a,b,c,d){return $APP.$g.g(this.Jc,G3(this.oc,b,c,d))};$APP.l.qh=$APP.wd;$APP.l.sh=function(){return L3(this.oc)};$APP.l.rh=function(a,b){return M3(this.oc,b)};$APP.l.Di=$APP.wd;
$APP.l.wh=function(a,b){return $APP.$g.g(this.Jc,C3(this.oc,b))};var w$=function w$(a){switch(arguments.length){case 0:return w$.B();case 1:return w$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};w$.B=function(){return w$.h(null)};w$.h=function(a){q4(a);return X3($APP.yi([O3,S3,W3,Q3,H3,R3,P3,V3,U3,T3],[a,536870912,$APP.gk.h(0),X2(u3),X2(v3),0,X2(t3),e2(),e2(),j4($APP.ym.l($APP.D([new $APP.m(null,1,[P4,new $APP.m(null,1,[$3,a4],null)],null),a])))]))};
w$.A=1;var w4=function w4(a){switch(arguments.length){case 1:return w4.h(arguments[0]);case 2:return w4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};w4.h=function(a){return w4.g(a,null)};
w4.g=function(a,b){var c=$APP.y($APP.pj.g(c3,a));if(null!=c)throw $APP.Jm.g(["init-db expects list of Datoms, got ",$APP.ck.l($APP.D([$APP.Ab(c)]))].join(""),new $APP.m(null,1,[$APP.dE,iBa],null));q4(b);c=j4($APP.ym.l($APP.D([new $APP.m(null,1,[P4,new $APP.m(null,1,[$3,a4],null)],null),b])));var d=b4.h(c),e=f2(a)?a:Qya(a);e.sort(y3);var f=W2(t3,e);e.sort(z3);e=W2(u3,e);a=$APP.$g.g(function(n){return $APP.Ve(d,n.a)},a);a=$APP.ef(a);a.sort(A3);a=W2(v3,a);var g=$ya(f),h=$APP.xx.F($APP.Ej.h(function(n){return n.Za(null)}),
$APP.Wn,536870912,f);return X3($APP.yi([O3,S3,W3,Q3,H3,R3,P3,V3,U3,T3],[b,h,$APP.gk.h(0),e,a,g,f,e2(),e2(),c]))};w4.A=2;$APP.l=F4.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "db-before":return this.hd;case "db-after":return this.gd;case "tx-data":return this.ld;case "tempids":return this.jd;case "tx-meta":return this.md;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[G4,this.hd],null),new $APP.M(null,2,5,$APP.O,[H4,this.gd],null),new $APP.M(null,2,5,$APP.O,[I4,this.ld],null),new $APP.M(null,2,5,$APP.O,[J4,this.jd],null),new $APP.M(null,2,5,$APP.O,[K4,this.md],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,5,new $APP.M(null,5,5,$APP.O,[G4,H4,I4,J4,K4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new F4(this.hd,this.gd,this.ld,this.jd,this.md,this.s,this.o,this.C)};$APP.l.Z=function(){return 5+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.hd,b.hd)&&$APP.A.g(this.gd,b.gd)&&$APP.A.g(this.ld,b.ld)&&$APP.A.g(this.jd,b.jd)&&$APP.A.g(this.md,b.md)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,5,[J4,null,H4,null,G4,null,I4,null,K4,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new F4(this.hd,this.gd,this.ld,this.jd,this.md,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(G4,b):$APP.J.call(null,G4,b))?new F4(c,this.gd,this.ld,this.jd,this.md,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(H4,b):$APP.J.call(null,H4,b))?new F4(this.hd,c,this.ld,this.jd,this.md,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(I4,b):$APP.J.call(null,I4,b))?new F4(this.hd,this.gd,c,this.jd,this.md,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(J4,b):$APP.J.call(null,J4,b))?new F4(this.hd,this.gd,this.ld,c,this.md,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(K4,b):$APP.J.call(null,K4,b))?new F4(this.hd,this.gd,this.ld,this.jd,c,this.s,this.o,null):new F4(this.hd,this.gd,this.ld,this.jd,this.md,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.We(G4,this.hd,null),new $APP.We(H4,this.gd,null),new $APP.We(I4,this.ld,null),new $APP.We(J4,this.jd,null),new $APP.We(K4,this.md,null)],null),this.o))};
$APP.l.W=function(a,b){return new F4(this.hd,this.gd,this.ld,this.jd,this.md,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};var x5=new $APP.$i(null,new $APP.m(null,8,[w5,null,z5,null,o5,null,F5,null,s5,null,E5,null,y5,null,i5,null],null),null);$APP.l=N5.prototype;$APP.l.entry_set=function(){return $APP.ef($APP.Ej.g($APP.ef,M5(this)))};
$APP.l.forEach=function(){function a(d,e){for(var f=$APP.w(M5(this)),g=null,h=0,n=0;;)if(n<h){var k=g.ga(null,n),t=$APP.C.j(k,0,null);k=$APP.C.j(k,1,null);d.call(e,k,t,this);n+=1}else if(f=$APP.w(f))$APP.Ge(f)?(g=$APP.bd(f),f=$APP.cd(f),t=g,h=$APP.de(g),g=t):(g=$APP.y(f),t=$APP.C.j(g,0,null),k=$APP.C.j(g,1,null),d.call(e,k,t,this),f=$APP.z(f),g=null,h=0),n=0;else return null}function b(d){for(var e=$APP.w(M5(this)),f=null,g=0,h=0;;)if(h<g){var n=f.ga(null,h),k=$APP.C.j(n,0,null);n=$APP.C.j(n,1,null);
d.j?d.j(n,k,this):d.call(null,n,k,this);h+=1}else if(e=$APP.w(e))$APP.Ge(e)?(f=$APP.bd(e),e=$APP.cd(e),k=f,g=$APP.de(f),f=k):(f=$APP.y(e),k=$APP.C.j(f,0,null),n=$APP.C.j(f,1,null),d.j?d.j(n,k,this):d.call(null,n,k,this),e=$APP.z(e),f=null,g=0),h=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.g=a;return c}();
$APP.l.get=function(a){if($APP.A.g(a,":db/id"))return this.eid;if(c5(a))return K5(J5(this.db,this.eid,d5(a),null));var b=P5?P5(this,a):R5.call(null,this,a);return N4(this.db,a)?K5(b):b};$APP.l.key_set=function(){return $APP.ef($APP.Qi(this))};$APP.l.entries=function(){return new $APP.Lh($APP.w(M5(this)))};$APP.l.value_set=function(){return $APP.ef($APP.Ej.g($APP.ie,M5(this)))};$APP.l.toString=function(){return $APP.nd(this)};$APP.l.keys=function(){return $APP.Kd($APP.Qi(this))};
$APP.l.values=function(){return $APP.Kd($APP.Ej.g($APP.ie,M5(this)))};$APP.l.equiv=function(a){return O5.g?O5.g(this,a):O5.call(null,this,a)};$APP.l.has=function(a){return null!=this.get(a)};$APP.l.ca=function(a,b){return Q5?Q5(this,b,null):R5.call(null,this,b,null)};$APP.l.I=function(a,b,c){return Q5?Q5(this,b,c):R5.call(null,this,b,c)};$APP.l.T=function(a,b,c){return $APP.Oc($APP.Vi.j($APP.r(this.cache),h5,this.eid),b,c)};$APP.l.Z=function(){L5.h?L5.h(this):L5.call(null,this);return $APP.de($APP.r(this.cache))};
$APP.l.V=function(){return $APP.xd(this.eid)};$APP.l.O=function(a,b){return O5.g?O5.g(this,b):O5.call(null,this,b)};$APP.l.ha=function(a,b){return $APP.Ui.g($9,Q5?Q5(this,b,$9):R5.call(null,this,b,$9))};$APP.l.Y=function(){L5.h?L5.h(this):L5.call(null,this);return $APP.w($APP.r(this.cache))};
$APP.l.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length-1)].join(""));}};$APP.l.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Fb(b)))};$APP.l.h=function(a){return P5?P5(this,a):R5.call(null,this,a)};$APP.l.g=function(a,b){return Q5?Q5(this,a,b):R5.call(null,this,a,b)};$APP.wa("datascript.impl.entity.Entity",N5);var x$=function x$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return x$.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};x$.l=function(a){var b=$APP.de(a);return $APP.Ui.g($APP.Qg.g(b/2,a),$APP.Mg.g(b/2,a))};x$.A=0;x$.D=function(a){return this.l($APP.w(a))};var y$=function y$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return y$.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)};
y$.l=function(a,b,c){return $APP.df.j(function(d,e){d=$APP.y(C3(a,new $APP.M(null,2,5,$APP.O,[b,e],null)));return null==d?null:$APP.Sd(new $APP.M(null,2,5,$APP.O,[h3.h(d),g3.h(d)],null))},null,c)};y$.A=2;y$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};var z$=function z$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z$.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};
z$.l=function(a){return $APP.df.j(function(b,c){return $APP.p(c)?c:$APP.Sd(c)},!0,a)};z$.A=0;z$.D=function(a){return this.l($APP.w(a))};var A$=function A$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return A$.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};A$.l=function(a){return $APP.df.j(function(b,c){return $APP.p(c)?$APP.Sd(c):c},null,a)};A$.A=0;A$.D=function(a){return this.l($APP.w(a))};
var B$=function B$(a){switch(arguments.length){case 1:return B$.h(arguments[0]);case 2:return B$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return B$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};B$.h=function(){return!0};B$.g=function(a,b){return 0>r3(a,b)};B$.l=function(a,b,c){for(;;)if(B$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return B$.g(b,$APP.y(c));else return!1};
B$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};B$.A=2;var C$=function C$(a){switch(arguments.length){case 1:return C$.h(arguments[0]);case 2:return C$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return C$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};C$.h=function(){return!0};C$.g=function(a,b){return 0<r3(a,b)};
C$.l=function(a,b,c){for(;;)if(C$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return C$.g(b,$APP.y(c));else return!1};C$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};C$.A=2;
var D$=function D$(a){switch(arguments.length){case 1:return D$.h(arguments[0]);case 2:return D$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};D$.h=function(){return!0};D$.g=function(a,b){return!(0<r3(a,b))};D$.l=function(a,b,c){for(;;)if(D$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return D$.g(b,$APP.y(c));else return!1};
D$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};D$.A=2;var E$=function E$(a){switch(arguments.length){case 1:return E$.h(arguments[0]);case 2:return E$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};E$.h=function(){return!0};E$.g=function(a,b){return!(0>r3(a,b))};
E$.l=function(a,b,c){for(;;)if(E$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return E$.g(b,$APP.y(c));else return!1};E$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};E$.A=2;
var t6=$APP.yi([$APP.CD,$APP.Fu,$APP.$z,XBa,$APP.LC,$APP.DA,$APP.DC,$APP.fA,bBa,$APP.jz,yBa,$APP.PD,$APP.zn,$APP.FH,$APP.YF,$APP.kD,$APP.qH,s9,IBa,$APP.UB,$APP.AC,WAa,$APP.EC,$APP.FE,$APP.fC,$APP.bD,eBa,qAa,$APP.dB,$APP.yE,$APP.HC,$APP.cz,$APP.nG,$APP.pG,$APP.lG,$APP.uA,$APP.dC,$APP.aE,dBa,$APP.yA,$APP.bB,EAa,$APP.yB,$APP.aG,$APP.yC,$APP.OA,$APP.vD,$APP.FA,$APP.AA,$APP.CC,$APP.cH,$APP.zE,$APP.gC,$APP.aH,$APP.Lz,$APP.sB,$APP.lD,$APP.fE,$APP.pA,fBa,$APP.PC,$APP.AF,PBa,$APP.CE,$APP.DD,$APP.yz,$APP.wF,
$APP.zz,FBa,$APP.IE,$APP.Lu,$APP.BE,$APP.fB,$APP.pB],[$APP.Je,z$,$APP.Cg,function(a,b,c,d){if(null==d)throw $APP.Jm.g("get-else: nil default value is not supported",new $APP.m(null,1,[$APP.dE,o9],null));a=$APP.y(C3(a,new $APP.M(null,2,5,$APP.O,[b,c],null)));return null==a?d:g3.h(a)},E$,$APP.Fy,C$,$APP.de,y$,$APP.sb,$APP.mf,$APP.Qd,$APP.Ax,$APP.sf,$APP.Ie,$APP.vb,$APP.mf,x$,$APP.hy,$APP.vj,D$,$APP.Ql,$APP.A,$APP.Fx,$APP.yx,$APP.gj,function(a,b,c){return null==$APP.Te.g(H5(a,b),c)},$APP.mf,$APP.jk,
$APP.Eg,$APP.Ll,$APP.sp,$APP.Ye,$APP.Xn,$APP.Wn,$APP.ye,$APP.zx,$APP.ck,S9,$APP.ve,$APP.wf,$APP.Ui,$APP.Dy,$APP.nf,$APP.xj,$APP.hy,$APP.Ui,$APP.Te,$APP.q,B$,$APP.If,$APP.Fj,$APP.hp,$APP.wb,$APP.vf,$APP.Oy,$APP.sj,$APP.R,$APP.Ve,$APP.Rl,$APP.wj,$APP.rf,$APP.Sl,$APP.rp,$APP.tf,$APP.Bg,$APP.Ab,$APP.xf,$APP.Pl,$APP.hg,A$,$APP.rb,$APP.ej,$APP.tj]),F$=function F$(a){switch(arguments.length){case 1:return F$.h(arguments[0]);case 2:return F$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.q.h(arguments.length)].join(""));}};F$.h=function(a){return $APP.df.j(function(b,c){return 0>$APP.Ye(c,b)?c:b},$APP.y(a),$APP.z(a))};F$.g=function(a,b){return $APP.ff($APP.df.j(function(c,d){return $APP.de(c)<a?$APP.tl.g($APP.Ye,$APP.Cf.g(c,d)):0>$APP.Ye(d,$APP.oe(c))?$APP.tl.g($APP.Ye,$APP.Cf.g($APP.fj(c),d)):c},$APP.ch,b))};F$.A=2;
var G$=function G$(a){switch(arguments.length){case 1:return G$.h(arguments[0]);case 2:return G$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};G$.h=function(a){return $APP.df.j(function(b,c){return 0<$APP.Ye(c,b)?c:b},$APP.y(a),$APP.z(a))};G$.g=function(a,b){return $APP.ff($APP.df.j(function(c,d){return $APP.de(c)<a?$APP.tl.g($APP.Ye,$APP.Cf.g(c,d)):0<$APP.Ye(d,$APP.y(c))?$APP.tl.g($APP.Ye,$APP.Cf.g($APP.z(c),d)):c},$APP.ch,b))};
G$.A=2;var H$=function H$(a){switch(arguments.length){case 1:return H$.h(arguments[0]);case 2:return H$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};H$.h=function(a){return $APP.kk(a)};H$.g=function(a,b){return $APP.ff($APP.St.g(a,function(){return $APP.kk(b)}))};H$.A=2;
var aCa=$APP.yi([IAa,$APP.fA,OBa,BAa,$APP.FE,$APP.lG,uBa,$APP.pD,cBa,wAa,$APP.sB,BBa],[U5,$APP.de,function(a){var b=$APP.tl.h(a);a=$APP.de(a);var c=a>>1,d=$APP.C.g(b,c);return $APP.Bg(a)?(d+$APP.C.g(b,c-1))/2:d},S5,F$,G$,function(a){return $APP.de($APP.uy.h(a))},$APP.ej,T5,function(a){return Math.sqrt(U5(a))},H$,function(a,b){return $APP.ff($APP.Qg.g(a,$APP.gf(b)))}]);$APP.l=V5.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "as":return this.as;case "default":return this.qc;case "limit":return this.jb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Wb;case "recursive?":return this.Xb;case "reverse?":return this.bc;case "xform":return this.lb;case "multival?":return this.Vb;case "ref?":return this.Yb;case "component?":return this.Tb;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.S.g(new $APP.M(null,12,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.vo,this.as],null),new $APP.M(null,2,5,$APP.O,[$APP.In,this.qc],null),new $APP.M(null,2,5,$APP.O,[W5,this.jb],null),new $APP.M(null,2,5,$APP.O,[$APP.V,this.name],null),new $APP.M(null,2,5,$APP.O,[X5,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y5,this.Wb],null),new $APP.M(null,2,5,$APP.O,
[Z5,this.Xb],null),new $APP.M(null,2,5,$APP.O,[$5,this.bc],null),new $APP.M(null,2,5,$APP.O,[a6,this.lb],null),new $APP.M(null,2,5,$APP.O,[b6,this.Vb],null),new $APP.M(null,2,5,$APP.O,[c6,this.Yb],null),new $APP.M(null,2,5,$APP.O,[d6,this.Tb],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,12,new $APP.M(null,12,5,$APP.O,[$APP.vo,$APP.In,W5,$APP.V,X5,Y5,Z5,$5,a6,b6,c6,d6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,this.C)};$APP.l.Z=function(){return 12+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.as,b.as)&&$APP.A.g(this.default,b.default)&&$APP.A.g(this.jb,b.jb)&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.Wb,b.Wb)&&$APP.A.g(this.Xb,b.Xb)&&$APP.A.g(this.bc,b.bc)&&$APP.A.g(this.lb,b.lb)&&$APP.A.g(this.Vb,b.Vb)&&$APP.A.g(this.Yb,b.Yb)&&$APP.A.g(this.Tb,b.Tb)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,12,[a6,null,W5,null,$5,null,Y5,null,$APP.In,null,$APP.V,null,$APP.vo,null,Z5,null,d6,null,c6,null,b6,null,X5,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.vo,b):$APP.J.call(null,$APP.vo,b))?new V5(c,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.In,b):$APP.J.call(null,$APP.In,b))?new V5(this.as,c,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W5,b):$APP.J.call(null,W5,b))?new V5(this.as,this.qc,c,this.name,this.pattern,
this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.V,b):$APP.J.call(null,$APP.V,b))?new V5(this.as,this.qc,this.jb,c,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X5,b):$APP.J.call(null,X5,b))?new V5(this.as,this.qc,this.jb,this.name,c,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y5,b):$APP.J.call(null,Y5,b))?new V5(this.as,
this.qc,this.jb,this.name,this.pattern,c,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Z5,b):$APP.J.call(null,Z5,b))?new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,c,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($5,b):$APP.J.call(null,$5,b))?new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,c,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(a6,b):$APP.J.call(null,
a6,b))?new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,c,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(b6,b):$APP.J.call(null,b6,b))?new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,c,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(c6,b):$APP.J.call(null,c6,b))?new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,c,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(d6,b):$APP.J.call(null,d6,b))?new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,c,this.s,this.o,null):new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,12,5,$APP.O,[new $APP.We($APP.vo,this.as,null),new $APP.We($APP.In,this.qc,null),new $APP.We(W5,this.jb,null),new $APP.We($APP.V,this.name,null),new $APP.We(X5,this.pattern,null),new $APP.We(Y5,this.Wb,null),new $APP.We(Z5,this.Xb,null),new $APP.We($5,this.bc,null),new $APP.We(a6,this.lb,null),new $APP.We(b6,this.Vb,null),new $APP.We(c6,this.Yb,null),new $APP.We(d6,this.Tb,null)],null),this.o))};
$APP.l.W=function(a,b){return new V5(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=f6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "attrs":return this.ma;case "first-attr":return this.Oc;case "last-attr":return this.Zc;case "reverse-attrs":return this.Kc;case "wildcard?":return this.fc;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[g6,this.ma],null),new $APP.M(null,2,5,$APP.O,[h6,this.Oc],null),new $APP.M(null,2,5,$APP.O,[i6,this.Zc],null),new $APP.M(null,2,5,$APP.O,[j6,this.Kc],null),new $APP.M(null,2,5,$APP.O,[k6,this.fc],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,5,new $APP.M(null,5,5,$APP.O,[g6,h6,i6,j6,k6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new f6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,this.s,this.o,this.C)};$APP.l.Z=function(){return 5+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.Oc,b.Oc)&&$APP.A.g(this.Zc,b.Zc)&&$APP.A.g(this.Kc,b.Kc)&&$APP.A.g(this.fc,b.fc)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,5,[j6,null,h6,null,g6,null,k6,null,i6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new f6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new f6(c,this.Oc,this.Zc,this.Kc,this.fc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(h6,b):$APP.J.call(null,h6,b))?new f6(this.ma,c,this.Zc,this.Kc,this.fc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(i6,b):$APP.J.call(null,i6,b))?new f6(this.ma,this.Oc,c,this.Kc,this.fc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(j6,b):$APP.J.call(null,j6,b))?new f6(this.ma,this.Oc,this.Zc,c,this.fc,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(k6,b):$APP.J.call(null,k6,b))?new f6(this.ma,this.Oc,this.Zc,this.Kc,c,this.s,this.o,null):new f6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.We(g6,this.ma,null),new $APP.We(h6,this.Oc,null),new $APP.We(i6,this.Zc,null),new $APP.We(j6,this.Kc,null),new $APP.We(k6,this.fc,null)],null),this.o))};
$APP.l.W=function(a,b){return new f6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};var v6=e6(new $APP.m(null,3,[$APP.V,h5,$APP.vo,h5,a6,$APP.mf],null)),p6=l6(new $APP.m(null,1,[g6,new $APP.G(null,v6,null,1,null)],null)),qza=$APP.Vi.j(p6,k6,!0);$APP.l=B6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "db":return this.db;case "visitor":return this.Td;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mB,this.db],null),new $APP.M(null,2,5,$APP.O,[O6,this.Td],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.mB,O6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new B6(this.db,this.Td,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.db,b.db)&&$APP.A.g(this.Td,b.Td)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.mB,null,O6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new B6(this.db,this.Td,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "db":case "visitor":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mB,b):$APP.J.call(null,$APP.mB,b))?new B6(c,this.Td,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(O6,b):$APP.J.call(null,O6,b))?new B6(this.db,c,this.s,this.o,null):new B6(this.db,this.Td,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.mB,this.db,null),new $APP.We(O6,this.Td,null)],null),this.o))};$APP.l.W=function(a,b){return new B6(this.db,this.Td,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=F6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "value":return this.value;case "datoms":return this.ra;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.qE,this.value],null),new $APP.M(null,2,5,$APP.O,[v4,this.ra],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.qE,v4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new F6(this.value,this.ra,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.value,b.value)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.qE,null,v4,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new F6(this.value,this.ra,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "value":case "datoms":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.qE,b):$APP.J.call(null,$APP.qE,b))?new F6(c,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(v4,b):$APP.J.call(null,v4,b))?new F6(this.value,c,this.s,this.o,null):new F6(this.value,this.ra,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.qE,this.value,null),new $APP.We(v4,this.ra,null)],null),this.o))};
$APP.l.W=function(a,b){return new F6(this.value,this.ra,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=G6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "acc":return this.ia;case "attr":return this.ea;case "datoms":return this.ra;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[v4,this.ra],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[W9,Y9,v4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new G6(this.ia,this.ea,this.ra,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[W9,null,v4,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new G6(this.ia,this.ea,this.ra,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new G6(c,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new G6(this.ia,c,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(v4,b):$APP.J.call(null,v4,b))?new G6(this.ia,this.ea,c,this.s,this.o,null):new G6(this.ia,this.ea,this.ra,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We(W9,this.ia,null),new $APP.We(Y9,this.ea,null),new $APP.We(v4,this.ra,null)],null),this.o))};$APP.l.W=function(a,b){return new G6(this.ia,this.ea,this.ra,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.yf=function(){for(var a=this,b=a.ia,c=a.ra;;){var d=y6(c);if(null==d||$APP.Ui.g(d.a,a.ea.name))return new $APP.M(null,1,5,$APP.O,[new F6(function(){var g=$APP.hg($APP.Uc(b)),h=a.ea.lb;return h.h?h.h(g):h.call(null,g)}(),function(){var g=c;return $APP.p(g)?g:$APP.Hd}(),null,null,null)],null);if($APP.p(function(){var g=a.ea.jb;return $APP.p(g)?$APP.de(b)>=a.ea.jb:g}()))for(var e=c;;){d=y6(e);if(null==d||$APP.Ui.g(d.a,a.ea.name))return new $APP.M(null,1,5,$APP.O,[new F6($APP.Uc(b),function(){var g=
e;return $APP.p(g)?g:$APP.Hd}(),null,null,null)],null);e=z6(e)}else{d=$APP.bh.g(b,d.v);var f=z6(c);b=d;c=f}}};$APP.l=H6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "seen":return this.oa;case "recursion-limits":return this.sa;case "acc":return this.ia;case "pattern":return this.pattern;case "attr":return this.ea;case "datoms":return this.ra;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.S.g(new $APP.M(null,6,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[a$,this.oa],null),new $APP.M(null,2,5,$APP.O,[t$,this.sa],null),new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[X5,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[v4,this.ra],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,6,new $APP.M(null,6,5,$APP.O,[a$,t$,W9,X5,Y9,v4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new H6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,this.o,this.C)};$APP.l.Z=function(){return 6+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.sa,b.sa)&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,6,[W9,null,a$,null,t$,null,v4,null,X5,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new H6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(a$,b):$APP.J.call(null,a$,b))?new H6(c,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t$,b):$APP.J.call(null,t$,b))?new H6(this.oa,c,this.ia,this.pattern,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new H6(this.oa,this.sa,c,this.pattern,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X5,b):$APP.J.call(null,X5,b))?new H6(this.oa,this.sa,this.ia,
c,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new H6(this.oa,this.sa,this.ia,this.pattern,c,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(v4,b):$APP.J.call(null,v4,b))?new H6(this.oa,this.sa,this.ia,this.pattern,this.ea,c,this.s,this.o,null):new H6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,6,5,$APP.O,[new $APP.We(a$,this.oa,null),new $APP.We(t$,this.sa,null),new $APP.We(W9,this.ia,null),new $APP.We(X5,this.pattern,null),new $APP.We(Y9,this.ea,null),new $APP.We(v4,this.ra,null)],null),this.o))};$APP.l.W=function(a,b){return new H6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.lg=function(a,b){a=this.oa;var c=this.sa,d=this.ia;b=b.value;b=null==b?d:$APP.bh.g(d,b);return new H6(a,c,b,this.pattern,this.ea,z6(this.ra),null,null,null)};
$APP.l.yf=function(a,b){var c=this;a=y6(c.ra);if(null==a||$APP.Ui.g(a.a,c.ea.name))return new $APP.M(null,1,5,$APP.O,[new F6(function(){var e=$APP.hg($APP.Uc(c.ia)),f=c.ea.lb;return f.h?f.h(e):f.call(null,e)}(),function(){var e=c.ra;return $APP.p(e)?e:$APP.Hd}(),null,null,null)],null);if($APP.p(function(){var e=c.ea.jb;return $APP.p(e)?$APP.de(c.ia)>=c.ea.jb:e}()))for(var d=c.ra;;){b=y6(d);if(null==b||$APP.Ui.g(b.a,c.ea.name))return new $APP.M(null,1,5,$APP.O,[new F6($APP.Uc(c.ia),function(){var e=
d;return $APP.p(e)?e:$APP.Hd}(),null,null,null)],null);d=z6(d)}else return a=$APP.p(c.ea.bc)?a.e:a.v,new $APP.M(null,2,5,$APP.O,[this,M6.ua?M6.ua(b,c.oa,c.sa,c.pattern,c.ea,a):M6.call(null,b,c.oa,c.sa,c.pattern,c.ea,a)],null)};$APP.l=I6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "seen":return this.oa;case "recursion-limits":return this.sa;case "acc":return this.ia;case "pattern":return this.pattern;case "attr":return this.ea;case "attrs":return this.ma;case "datoms":return this.ra;case "id":return this.id;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.S.g(new $APP.M(null,8,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[a$,this.oa],null),new $APP.M(null,2,5,$APP.O,[t$,this.sa],null),new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[X5,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[g6,this.ma],null),new $APP.M(null,2,5,$APP.O,[v4,this.ra],null),
new $APP.M(null,2,5,$APP.O,[$APP.ar,this.id],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,8,new $APP.M(null,8,5,$APP.O,[a$,t$,W9,X5,Y9,g6,v4,$APP.ar],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,this.C)};$APP.l.Z=function(){return 8+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.sa,b.sa)&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.id,b.id)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,8,[W9,null,a$,null,$APP.ar,null,t$,null,g6,null,v4,null,X5,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(a$,b):$APP.J.call(null,a$,b))?new I6(c,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t$,b):$APP.J.call(null,t$,b))?new I6(this.oa,c,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new I6(this.oa,this.sa,c,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X5,b):$APP.J.call(null,
X5,b))?new I6(this.oa,this.sa,this.ia,c,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new I6(this.oa,this.sa,this.ia,this.pattern,c,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,c,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(v4,b):$APP.J.call(null,v4,b))?new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,c,this.id,
this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.ar,b):$APP.J.call(null,$APP.ar,b))?new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,c,this.s,this.o,null):new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,8,5,$APP.O,[new $APP.We(a$,this.oa,null),new $APP.We(t$,this.sa,null),new $APP.We(W9,this.ia,null),new $APP.We(X5,this.pattern,null),new $APP.We(Y9,this.ea,null),new $APP.We(g6,this.ma,null),new $APP.We(v4,this.ra,null),new $APP.We($APP.ar,this.id,null)],null),this.o))};$APP.l.W=function(a,b){return new I6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.lg=function(a,b){a=this.oa;var c=this.sa;var d=this.ia;var e=b.value;d=null==e?d:$APP.Wh.j(d,this.ea.as,e);e=this.pattern;var f=y6(this.ma),g=z6(this.ma);b=b.ra;b=$APP.p(b)?b:z6(this.ra);return new I6(a,c,d,e,f,g,$APP.hg(b),this.id,null,null,null)};
$APP.l.yf=function(a,b){var c=this,d=c.ia,e=c.ea;a=c.ma;for(var f=c.ra;;){if(null==f&&null==e)return new $APP.M(null,1,5,$APP.O,[function(){var x=c.oa,B=c.sa,F=d,P=c.pattern,T=y6(c.pattern.Kc),Z=z6(c.pattern.Kc),ba=c.id;return K6.Ca?K6.Ca(x,B,F,P,T,Z,ba):K6.call(null,x,B,F,P,T,Z,ba)}()],null);if(null!=e&&$APP.A.g(h5,e.name)){var g=$APP.Wh.j(d,e.as,function(){var x=e.lb;return x.h?x.h(c.id):x.call(null,c.id)}()),h=y6(a);a=z6(a);d=g;e=h}else{var n=y6(f),k=$APP.p(function(){var x=n;return $APP.p(x)?
e:x}())?$APP.Ye(e.name,n.a):null,t=function(){var x=null==e;if(x)return x;x=k;return $APP.p(x)?0<k:x}(),v=function(){var x=null==n;if(x)return x;x=k;return $APP.p(x)?0>k:x}();if($APP.p(function(){var x=c.pattern.fc;return $APP.p(x)?(x=null!=n)?t:x:x}()))h=c2(Z3(b.db).kc,n.a,function(x,B,F,P,T){return function(){return q6(b.db,T.a)}}(d,e,a,f,n,k,t,v,this)),g=d,a=$APP.p(e)?A6(a,e):null,d=g,e=h;else if($APP.p(t))g=d,h=e,f=z6(f),d=g,e=h;else if(C6(b,MAa,c.id,e.name,null),$APP.p(function(){var x=v;return $APP.p(x)?
null==e:x}()))g=d,h=y6(a),a=z6(a),d=g,e=h;else if($APP.p(function(){var x=v;return $APP.p(x)?null!=$APP.In.h(e):x}()))g=$APP.Wh.j(d,e.as,$APP.In.h(e)),h=y6(a),a=z6(a),d=g,e=h;else if($APP.p(v))g=function(){var x=e.lb;return x.h?x.h(null):x.call(null,null)}(),null==g?(g=d,h=y6(a),a=z6(a),d=g,e=h):(g=$APP.Wh.j(d,e.as,g),h=y6(a),a=z6(a),d=g,e=h);else{if($APP.p(function(){var x=e.Vb;return $APP.p(x)?e.Yb:x}()))return new $APP.M(null,2,5,$APP.O,[new I6(c.oa,c.sa,d,c.pattern,e,a,f,c.id,null,null,null),
new H6(c.oa,c.sa,$APP.Sc($APP.ch),c.pattern,e,f,null,null,null)],null);if($APP.p(e.Vb))return new $APP.M(null,2,5,$APP.O,[new I6(c.oa,c.sa,d,c.pattern,e,a,f,c.id,null,null,null),new G6($APP.Sc($APP.ch),e,f,null,null,null)],null);if($APP.p(e.Yb))return new $APP.M(null,2,5,$APP.O,[new I6(c.oa,c.sa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var x=c.oa,B=c.sa,F=c.pattern,P=e,T=n.v;return M6.ua?M6.ua(b,x,B,F,P,T):M6.call(null,b,x,B,F,P,T)}()],null);g=$APP.Wh.j(d,e.as,function(){var x=n.v,B=e.lb;
return B.h?B.h(x):B.call(null,x)}());h=y6(a);a=z6(a);f=z6(f);d=g;e=h}}}};$APP.l=J6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "seen":return this.oa;case "recursion-limits":return this.sa;case "acc":return this.ia;case "pattern":return this.pattern;case "attr":return this.ea;case "attrs":return this.ma;case "id":return this.id;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.S.g(new $APP.M(null,7,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[a$,this.oa],null),new $APP.M(null,2,5,$APP.O,[t$,this.sa],null),new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[X5,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[g6,this.ma],null),new $APP.M(null,2,5,$APP.O,[$APP.ar,
this.id],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,7,new $APP.M(null,7,5,$APP.O,[a$,t$,W9,X5,Y9,g6,$APP.ar],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new J6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,this.o,this.C)};$APP.l.Z=function(){return 7+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.sa,b.sa)&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.id,b.id)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,7,[W9,null,a$,null,$APP.ar,null,t$,null,g6,null,X5,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new J6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(a$,b):$APP.J.call(null,a$,b))?new J6(c,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t$,b):$APP.J.call(null,t$,b))?new J6(this.oa,c,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new J6(this.oa,this.sa,c,this.pattern,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X5,b):$APP.J.call(null,X5,b))?new J6(this.oa,
this.sa,this.ia,c,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new J6(this.oa,this.sa,this.ia,this.pattern,c,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new J6(this.oa,this.sa,this.ia,this.pattern,this.ea,c,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.ar,b):$APP.J.call(null,$APP.ar,b))?new J6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,c,this.s,this.o,null):new J6(this.oa,this.sa,
this.ia,this.pattern,this.ea,this.ma,this.id,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,7,5,$APP.O,[new $APP.We(a$,this.oa,null),new $APP.We(t$,this.sa,null),new $APP.We(W9,this.ia,null),new $APP.We(X5,this.pattern,null),new $APP.We(Y9,this.ea,null),new $APP.We(g6,this.ma,null),new $APP.We($APP.ar,this.id,null)],null),this.o))};$APP.l.W=function(a,b){return new J6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.lg=function(a,b){a=this.oa;var c=this.sa,d=this.ia;b=b.value;b=null==b?d:$APP.Wh.j(d,this.ea.as,b);return new J6(a,c,b,this.pattern,y6(this.ma),z6(this.ma),this.id,null,null,null)};
$APP.l.yf=function(a,b){var c=this.ia;a=this.ea;for(var d=this.ma;;){if(null==a)return new $APP.M(null,1,5,$APP.O,[new F6($APP.hg($APP.Uc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof N3?V2(f.Zb,m3.F(0,e,this.id,536870912),m3.F(2147483647,e,this.id,2147483647)):C3(f,new $APP.M(null,3,5,$APP.O,[null,e,this.id],null));C6(b,$Aa,null,e,this.id);if($APP.ye(f)&&null!=$APP.In.h(a))c=$APP.Wh.j(c,a.as,$APP.In.h(a)),a=y6(d),d=e=z6(d);else if($APP.ye(f))a=y6(d),d=e=z6(d);else{if($APP.p(a.Tb)){e=
$APP.O;c=new J6(this.oa,this.sa,c,this.pattern,a,d,this.id,null,null,null);d=this.oa;var g=this.sa,h=this.pattern;f=y6(f).e;b=M6.ua?M6.ua(b,d,g,h,a,f):M6.call(null,b,d,g,h,a,f);b=new $APP.M(null,2,5,e,[c,b],null)}else b=new $APP.M(null,2,5,$APP.O,[new J6(this.oa,this.sa,c,this.pattern,a,d,this.id,null,null,null),new H6(this.oa,this.sa,$APP.Sc($APP.ch),this.pattern,a,f,null,null,null)],null);return b}}};
var I$=function I$(a){switch(arguments.length){case 3:return I$.j(arguments[0],arguments[1],arguments[2]);case 4:return I$.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};I$.j=function(a,b,c){return I$.F(a,b,c,$APP.fg)};I$.F=function(a,b,c,d){a=P6(a,b,d);return N6(a,c)};I$.A=4;
var J$=function J$(a){switch(arguments.length){case 3:return J$.j(arguments[0],arguments[1],arguments[2]);case 4:return J$.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};J$.j=function(a,b,c){return J$.F(a,b,c,$APP.fg)};J$.F=function(a,b,c,d){var e=P6(a,b,d);return $APP.Gq.g(function(f){return N6(e,f)},c)};J$.A=4;var K$=function K$(a){switch(arguments.length){case 1:return K$.h(arguments[0]);case 2:return K$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};K$.h=function(a){return U6(a,$APP.fg)};K$.g=function(a,b){return U6(a,b)};K$.A=2;var L$=function L$(a){switch(arguments.length){case 1:return L$.h(arguments[0]);case 2:return L$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};
L$.h=function(a){return L$.g(a,$APP.fg)};
L$.g=function(a,b){b=$APP.gg(b);var c=$APP.Te.j(b,sBa,$APP.AK);b=$APP.Te.j(b,EBa,yza);var d=R6(a,"tx0"),e=function(){var k=R6(a,"schema");return c.h?c.h(k):c.call(null,k)}();(function(){var k=new $APP.Cd(function(){return q4},DAa,$APP.yi([$APP.Kv,$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[!0,u$,GBa,"datascript/db.cljc",23,1,726,726,$APP.R(new $APP.M(null,1,5,$APP.O,[d$],null)),null,$APP.p(q4)?q4.S:null]));return k.h?k.h(e):k.call(null,e)})();var f=$APP.Gq.g(b,R6(a,
"attrs")),g=$APP.Gq.g(b,R6(a,"keywords")),h=S6(function(k){var t=Q6(k,0),v=$APP.C.g(f,Q6(k,1)),x=Q6(k,2);if("number"===typeof x)var B=x;else if("string"===typeof x)B=x;else if($APP.Ke(x))B=x;else if($APP.tb(x)||$APP.Fe(x))B=function(){var F=Q6(x,0);if($APP.p($APP.Ll.g?$APP.Ll.g(0,F):$APP.Ll.call(null,0,F)))return $APP.C.g(g,Q6(x,1));if($APP.p($APP.Ll.g?$APP.Ll.g(1,F):$APP.Ll.call(null,1,F)))return F=Q6(x,1),c.h?c.h(F):c.call(null,F);if($APP.p($APP.Ll.g?$APP.Ll.g(2,F):$APP.Ll.call(null,2,F)))return Infinity;
if($APP.p($APP.Ll.g?$APP.Ll.g(3,F):$APP.Ll.call(null,3,F)))return-Infinity;if($APP.p($APP.Ll.g?$APP.Ll.g(4,F):$APP.Ll.call(null,4,F)))return NaN;throw $APP.Jm.g(["Unexpected value marker ",$APP.ck.l($APP.D([F]))," in ",$APP.ck.l($APP.D([$APP.ck.l($APP.D([x]))]))].join(""),new $APP.m(null,2,[$APP.dE,CBa,$APP.qE,x],null));}();else throw $APP.Jm.g(["Unexpected value type ",$APP.ck.l($APP.D([$APP.Ab(x)]))," (",$APP.ck.l($APP.D([$APP.ck.l($APP.D([x]))])),")"].join(""),new $APP.m(null,2,[$APP.dE,CBa,$APP.qE,
x],null));k=d+Q6(k,3);return m3.F(t,v,B,k)},R6(a,"eavt"));b=function(){var k=R6(a,"aevt");return null==k?null:S6(function(t){return h[t]},k)}();var n=function(){var k=R6(a,"avet");return null==k?null:S6(function(t){return h[t]},k)}();return X3($APP.yi([O3,S3,W3,Q3,H3,R3,P3,V3,U3,T3],[e,R6(a,"max-tx"),$APP.gk.h(0),W2(u3,b),W2(v3,n),R6(a,"max-eid"),W2(t3,h),e2(),e2(),function(){var k=$APP.ym.l($APP.D([new $APP.m(null,1,[P4,new $APP.m(null,1,[$3,a4],null)],null),e])),t=new $APP.Cd(function(){return j4},
WBa,$APP.yi([$APP.Kv,$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[!0,u$,kBa,"datascript/db.cljc",15,1,694,694,$APP.R(new $APP.M(null,1,5,$APP.O,[d$],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
$APP.p(j4)?j4.S:null]));return t.h?t.h(k):t.call(null,k)}()]))};L$.A=2;$APP.l=e7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.S.g($APP.ch,this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new e7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new e7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new e7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new e7(b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=f7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "symbol":return this.Ba;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.yn,this.Ba],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.yn],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new f7(this.Ba,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ba,b.Ba)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.yn,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new f7(this.Ba,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "symbol":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.yn,b):$APP.J.call(null,$APP.yn,b))?new f7(c,this.s,this.o,null):new f7(this.Ba,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.yn,this.Ba,null)],null),this.o))};$APP.l.W=function(a,b){return new f7(this.Ba,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.Ba,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.Ba):o8.call(null,b,this.Ba)};$APP.l=g7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "symbol":return this.Ba;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.yn,this.Ba],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.yn],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new g7(this.Ba,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ba,b.Ba)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.yn,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new g7(this.Ba,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "symbol":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.yn,b):$APP.J.call(null,$APP.yn,b))?new g7(c,this.s,this.o,null):new g7(this.Ba,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.yn,this.Ba,null)],null),this.o))};$APP.l.W=function(a,b){return new g7(this.Ba,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return $6(b,this.Ba,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.Ba):o8.call(null,b,this.Ba)};$APP.l=h7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.S.g($APP.ch,this.o))};$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new h7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new h7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new h7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new h7(b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=i7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.S.g($APP.ch,this.o))};$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new i7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new i7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new i7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new i7(b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=j7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "value":return this.value;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.qE,this.value],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.qE],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new j7(this.value,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.value,b.value)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.qE,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new j7(this.value,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "value":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.qE,b):$APP.J.call(null,$APP.qE,b))?new j7(c,this.s,this.o,null):new j7(this.value,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.qE,this.value,null)],null),this.o))};$APP.l.W=function(a,b){return new j7(this.value,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return $6(b,this.value,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.value):o8.call(null,b,this.value)};$APP.l=k7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "symbol":return this.Ba;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.yn,this.Ba],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.yn],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new k7(this.Ba,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ba,b.Ba)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.yn,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new k7(this.Ba,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "symbol":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.yn,b):$APP.J.call(null,$APP.yn,b))?new k7(c,this.s,this.o,null):new k7(this.Ba,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.yn,this.Ba,null)],null),this.o))};$APP.l.W=function(a,b){return new k7(this.Ba,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.Ba,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.Ba):o8.call(null,b,this.Ba)};$APP.l=s7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "required":return this.required;case "free":return this.td;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[v7,this.required],null),new $APP.M(null,2,5,$APP.O,[w7,this.td],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[v7,w7],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new s7(this.required,this.td,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.required,b.required)&&$APP.A.g(this.td,b.td)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[w7,null,v7,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new s7(this.required,this.td,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "required":case "free":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(v7,b):$APP.J.call(null,v7,b))?new s7(c,this.td,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(w7,b):$APP.J.call(null,w7,b))?new s7(this.required,c,this.s,this.o,null):new s7(this.required,this.td,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We(v7,this.required,null),new $APP.We(w7,this.td,null)],null),this.o))};$APP.l.W=function(a,b){return new s7(this.required,this.td,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.td,$6(b,this.required,c))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.required):o8.call(null,b,this.required);b=this.td;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=z7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.S.g($APP.ch,this.o))};$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new z7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new z7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new z7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new z7(b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=A7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "variable":return this.Gb;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[V8,this.Gb],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[V8],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new A7(this.Gb,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Gb,b.Gb)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[V8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new A7(this.Gb,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "variable":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(V8,b):$APP.J.call(null,V8,b))?new A7(c,this.s,this.o,null):new A7(this.Gb,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(V8,this.Gb,null)],null),this.o))};$APP.l.W=function(a,b){return new A7(this.Gb,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.Gb,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.Gb):o8.call(null,b,this.Gb)};$APP.l=B7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "bindings":return this.ic;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.Xq,this.ic],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.Xq],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new B7(this.ic,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ic,b.ic)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.Xq,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new B7(this.ic,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "bindings":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.Xq,b):$APP.J.call(null,$APP.Xq,b))?new B7(c,this.s,this.o,null):new B7(this.ic,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.Xq,this.ic,null)],null),this.o))};$APP.l.W=function(a,b){return new B7(this.ic,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.ic,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.ic):o8.call(null,b,this.ic)};$APP.l=C7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "binding":return this.Db;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[h$,this.Db],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[h$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new C7(this.Db,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Db,b.Db)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[h$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new C7(this.Db,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "binding":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(h$,b):$APP.J.call(null,h$,b))?new C7(c,this.s,this.o,null):new C7(this.Db,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(h$,this.Db,null)],null),this.o))};$APP.l.W=function(a,b){return new C7(this.Db,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.Db,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.Db):o8.call(null,b,this.Db)};
f7.prototype.kg=function(){return new $APP.M(null,1,5,$APP.O,[this.Ba],null)};$APP.l=I7.prototype;$APP.l.kg=function(){return H7($APP.oe(this.ta))};$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "fn":return this.da;case "args":return this.ta;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mp,this.da],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.mp,$APP.qo],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new I7(this.da,this.ta,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.da,b.da)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.qo,null,$APP.mp,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new I7(this.da,this.ta,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "fn":case "args":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mp,b):$APP.J.call(null,$APP.mp,b))?new I7(c,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new I7(this.da,c,this.s,this.o,null):new I7(this.da,this.ta,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.mp,this.da,null),new $APP.We($APP.qo,this.ta,null)],null),this.o))};
$APP.l.W=function(a,b){return new I7(this.da,this.ta,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.ta,$6(b,this.da,c))};$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.da):o8.call(null,b,this.da);b=this.ta;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=J7.prototype;$APP.l.kg=function(){return H7(this.Gb)};$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "variable":return this.Gb;case "pattern":return this.pattern;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[V8,this.Gb],null),new $APP.M(null,2,5,$APP.O,[X5,this.pattern],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,V8,X5],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new J7(this.source,this.Gb,this.pattern,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.Gb,b.Gb)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[V8,null,$APP.xm,null,X5,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new J7(this.source,this.Gb,this.pattern,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new J7(c,this.Gb,this.pattern,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(V8,b):$APP.J.call(null,V8,b))?new J7(this.source,c,this.pattern,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X5,b):$APP.J.call(null,X5,b))?new J7(this.source,this.Gb,c,this.s,this.o,null):new J7(this.source,this.Gb,this.pattern,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(V8,this.Gb,null),new $APP.We(X5,this.pattern,null)],null),this.o))};$APP.l.W=function(a,b){return new J7(this.source,this.Gb,this.pattern,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.pattern,$6(b,this.Gb,$6(b,this.source,c)))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.source):o8.call(null,b,this.source);b=this.Gb;a=o8.g?o8.g(a,b):o8.call(null,a,b);b=this.pattern;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=L7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "elements":return this.elements;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Z9,this.elements],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[Z9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new L7(this.elements,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.elements,b.elements)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[Z9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new L7(this.elements,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.xf=function(){return this.elements};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "elements":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Z9,b):$APP.J.call(null,Z9,b))?new L7(c,this.s,this.o,null):new L7(this.elements,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(Z9,this.elements,null)],null),this.o))};$APP.l.W=function(a,b){return new L7(this.elements,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return $6(b,this.elements,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.elements):o8.call(null,b,this.elements)};$APP.l=M7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "element":return this.element;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[b$,this.element],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[b$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new M7(this.element,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.element,b.element)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[b$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new M7(this.element,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.xf=function(){return new $APP.M(null,1,5,$APP.O,[this.element],null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "element":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(b$,b):$APP.J.call(null,b$,b))?new M7(c,this.s,this.o,null):new M7(this.element,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(b$,this.element,null)],null),this.o))};
$APP.l.W=function(a,b){return new M7(this.element,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.element,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.element):o8.call(null,b,this.element)};$APP.l=N7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "element":return this.element;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[b$,this.element],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[b$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new N7(this.element,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.element,b.element)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[b$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new N7(this.element,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.xf=function(){return new $APP.M(null,1,5,$APP.O,[this.element],null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "element":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(b$,b):$APP.J.call(null,b$,b))?new N7(c,this.s,this.o,null):new N7(this.element,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(b$,this.element,null)],null),this.o))};
$APP.l.W=function(a,b){return new N7(this.element,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.element,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.element):o8.call(null,b,this.element)};$APP.l=O7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "elements":return this.elements;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Z9,this.elements],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[Z9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new O7(this.elements,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.elements,b.elements)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[Z9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new O7(this.elements,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.xf=function(){return this.elements};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "elements":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Z9,b):$APP.J.call(null,Z9,b))?new O7(c,this.s,this.o,null):new O7(this.elements,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(Z9,this.elements,null)],null),this.o))};$APP.l.W=function(a,b){return new O7(this.elements,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.elements,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.elements):o8.call(null,b,this.elements)};$APP.l=V7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "type":return this.type;case "symbols":return this.xd;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.Em,this.type],null),new $APP.M(null,2,5,$APP.O,[F8,this.xd],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.Em,F8],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new V7(this.type,this.xd,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.type,b.type)&&$APP.A.g(this.xd,b.xd)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.Em,null,F8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new V7(this.type,this.xd,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "type":case "symbols":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.Em,b):$APP.J.call(null,$APP.Em,b))?new V7(c,this.xd,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(F8,b):$APP.J.call(null,F8,b))?new V7(this.type,c,this.s,this.o,null):new V7(this.type,this.xd,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.Em,this.type,null),new $APP.We(F8,this.xd,null)],null),this.o))};$APP.l.W=function(a,b){return new V7(this.type,this.xd,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.xd,$6(b,this.type,c))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.type):o8.call(null,b,this.type);b=this.xd;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=X7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[X5,this.pattern],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.xm,X5],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new X7(this.source,this.pattern,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.xm,null,X5,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new X7(this.source,this.pattern,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "pattern":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new X7(c,this.pattern,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X5,b):$APP.J.call(null,X5,b))?new X7(this.source,c,this.s,this.o,null):new X7(this.source,this.pattern,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(X5,this.pattern,null)],null),this.o))};$APP.l.W=function(a,b){return new X7(this.source,this.pattern,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.pattern,$6(b,this.source,c))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.source):o8.call(null,b,this.source);b=this.pattern;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=Y7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "fn":return this.da;case "args":return this.ta;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mp,this.da],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.mp,$APP.qo],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new Y7(this.da,this.ta,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.da,b.da)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.qo,null,$APP.mp,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new Y7(this.da,this.ta,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "fn":case "args":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mp,b):$APP.J.call(null,$APP.mp,b))?new Y7(c,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new Y7(this.da,c,this.s,this.o,null):new Y7(this.da,this.ta,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.mp,this.da,null),new $APP.We($APP.qo,this.ta,null)],null),this.o))};$APP.l.W=function(a,b){return new Y7(this.da,this.ta,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.ta,$6(b,this.da,c))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.da):o8.call(null,b,this.da);b=this.ta;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=Z7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "fn":return this.da;case "args":return this.ta;case "binding":return this.Db;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mp,this.da],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null),new $APP.M(null,2,5,$APP.O,[h$,this.Db],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.mp,$APP.qo,h$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new Z7(this.da,this.ta,this.Db,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.da,b.da)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.Db,b.Db)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[$APP.qo,null,$APP.mp,null,h$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new Z7(this.da,this.ta,this.Db,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "fn":case "args":case "binding":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mp,b):$APP.J.call(null,$APP.mp,b))?new Z7(c,this.ta,this.Db,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new Z7(this.da,c,this.Db,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(h$,b):$APP.J.call(null,h$,b))?new Z7(this.da,this.ta,c,this.s,this.o,null):new Z7(this.da,this.ta,this.Db,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.mp,this.da,null),new $APP.We($APP.qo,this.ta,null),new $APP.We(h$,this.Db,null)],null),this.o))};$APP.l.W=function(a,b){return new Z7(this.da,this.ta,this.Db,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.Db,$6(b,this.ta,$6(b,this.da,c)))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.da):o8.call(null,b,this.da);b=this.ta;a=o8.g?o8.g(a,b):o8.call(null,a,b);b=this.Db;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=$7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "name":return this.name;case "args":return this.ta;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[$APP.V,this.name],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,$APP.V,$APP.qo],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new $7(this.source,this.name,this.ta,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[$APP.qo,null,$APP.V,null,$APP.xm,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new $7(this.source,this.name,this.ta,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "name":case "args":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new $7(c,this.name,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.V,b):$APP.J.call(null,$APP.V,b))?new $7(this.source,c,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new $7(this.source,this.name,c,this.s,this.o,null):new $7(this.source,this.name,this.ta,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We($APP.V,this.name,null),new $APP.We($APP.qo,this.ta,null)],null),this.o))};$APP.l.W=function(a,b){return new $7(this.source,this.name,this.ta,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.ta,$6(b,this.name,$6(b,this.source,c)))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.source):o8.call(null,b,this.source);b=this.name;a=o8.g?o8.g(a,b):o8.call(null,a,b);b=this.ta;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=a8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "vars":return this.Hb;case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[i8,this.Hb],null),new $APP.M(null,2,5,$APP.O,[$APP.lH,this.xa],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,i8,$APP.lH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new a8(this.source,this.Hb,this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.Hb,b.Hb)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[$APP.xm,null,$APP.lH,null,i8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new a8(this.source,this.Hb,this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new a8(c,this.Hb,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(i8,b):$APP.J.call(null,i8,b))?new a8(this.source,c,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.lH,b):$APP.J.call(null,$APP.lH,b))?new a8(this.source,this.Hb,c,this.s,this.o,null):new a8(this.source,this.Hb,this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(i8,this.Hb,null),new $APP.We($APP.lH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new a8(this.source,this.Hb,this.xa,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.xa,$6(b,this.Hb,$6(b,this.source,c)))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.source):o8.call(null,b,this.source);b=this.Hb;a=o8.g?o8.g(a,b):o8.call(null,a,b);b=this.xa;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=b8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "rule-vars":return this.ad;case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[k8,this.ad],null),new $APP.M(null,2,5,$APP.O,[$APP.lH,this.xa],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,k8,$APP.lH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new b8(this.source,this.ad,this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.ad,b.ad)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[k8,null,$APP.xm,null,$APP.lH,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new b8(this.source,this.ad,this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new b8(c,this.ad,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(k8,b):$APP.J.call(null,k8,b))?new b8(this.source,c,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.lH,b):$APP.J.call(null,$APP.lH,b))?new b8(this.source,this.ad,c,this.s,this.o,null):new b8(this.source,this.ad,this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(k8,this.ad,null),new $APP.We($APP.lH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new b8(this.source,this.ad,this.xa,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.xa,$6(b,this.ad,$6(b,this.source,c)))};
$APP.l.ib=function(a,b){a=o8.g?o8.g(b,this.source):o8.call(null,b,this.source);b=this.ad;a=o8.g?o8.g(a,b):o8.call(null,a,b);b=this.xa;return o8.g?o8.g(a,b):o8.call(null,a,b)};$APP.l=c8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.lH,this.xa],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.lH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new c8(this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.lH,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new c8(this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.lH,b):$APP.J.call(null,$APP.lH,b))?new c8(c,this.s,this.o,null):new c8(this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.lH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new c8(this.xa,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return $6(b,this.xa,c)};$APP.l.ib=function(a,b){return o8.g?o8.g(b,this.xa):o8.call(null,b,this.xa)};var o8=function o8(a,b){return b instanceof f7?$APP.Cf.g(a,b):b instanceof a8?$APP.Th.g(a,b.Hb):b instanceof b8?(b=b.ad,o8.g?o8.g(a,b):o8.call(null,a,b)):(null!=b?$APP.wd===b.gb||(b.qd?0:$APP.zb(V6,b)):$APP.zb(V6,b))?X6(b,a):$APP.Ce(b)?$APP.df.j(o8,a,b):a};$APP.l=s8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "vars":return this.Hb;case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[i8,this.Hb],null),new $APP.M(null,2,5,$APP.O,[$APP.lH,this.xa],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[i8,$APP.lH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new s8(this.Hb,this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Hb,b.Hb)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.lH,null,i8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new s8(this.Hb,this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "vars":case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(i8,b):$APP.J.call(null,i8,b))?new s8(c,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.lH,b):$APP.J.call(null,$APP.lH,b))?new s8(this.Hb,c,this.s,this.o,null):new s8(this.Hb,this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We(i8,this.Hb,null),new $APP.We($APP.lH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new s8(this.Hb,this.xa,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.xa,$6(b,this.Hb,c))};$APP.l.ib=function(a,b){return o8(o8(b,this.Hb),this.xa)};$APP.l=t8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "name":return this.name;case "branches":return this.od;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.V,this.name],null),new $APP.M(null,2,5,$APP.O,[r$,this.od],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.V,r$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new t8(this.name,this.od,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.od,b.od)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.V,null,r$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new t8(this.name,this.od,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "name":case "branches":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.V,b):$APP.J.call(null,$APP.V,b))?new t8(c,this.od,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(r$,b):$APP.J.call(null,r$,b))?new t8(this.name,c,this.s,this.o,null):new t8(this.name,this.od,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.V,this.name,null),new $APP.We(r$,this.od,null)],null),this.o))};$APP.l.W=function(a,b){return new t8(this.name,this.od,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.od,$6(b,this.name,c))};$APP.l.ib=function(a,b){return o8(o8(b,this.name),this.od)};$APP.l=x8.prototype;
$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "qfind":return this.Pc;case "qwith":return this.Tc;case "qreturn-map":return this.Rc;case "qin":return this.Qc;case "qwhere":return this.Sc;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[y8,this.Pc],null),new $APP.M(null,2,5,$APP.O,[z8,this.Tc],null),new $APP.M(null,2,5,$APP.O,[A8,this.Rc],null),new $APP.M(null,2,5,$APP.O,[B8,this.Qc],null),new $APP.M(null,2,5,$APP.O,[C8,this.Sc],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,5,new $APP.M(null,5,5,$APP.O,[y8,z8,A8,B8,C8],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new x8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,this.s,this.o,this.C)};$APP.l.Z=function(){return 5+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Pc,b.Pc)&&$APP.A.g(this.Tc,b.Tc)&&$APP.A.g(this.Rc,b.Rc)&&$APP.A.g(this.Qc,b.Qc)&&$APP.A.g(this.Sc,b.Sc)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,5,[y8,null,C8,null,B8,null,z8,null,A8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new x8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(y8,b):$APP.J.call(null,y8,b))?new x8(c,this.Tc,this.Rc,this.Qc,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(z8,b):$APP.J.call(null,z8,b))?new x8(this.Pc,c,this.Rc,this.Qc,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(A8,b):$APP.J.call(null,A8,b))?new x8(this.Pc,this.Tc,c,this.Qc,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(B8,b):$APP.J.call(null,B8,b))?new x8(this.Pc,this.Tc,this.Rc,c,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(C8,b):$APP.J.call(null,C8,b))?new x8(this.Pc,this.Tc,this.Rc,this.Qc,c,this.s,this.o,null):new x8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.We(y8,this.Pc,null),new $APP.We(z8,this.Tc,null),new $APP.We(A8,this.Rc,null),new $APP.We(B8,this.Qc,null),new $APP.We(C8,this.Sc,null)],null),this.o))};
$APP.l.W=function(a,b){return new x8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return $6(b,this.Sc,$6(b,this.Qc,$6(b,this.Rc,$6(b,this.Tc,$6(b,this.Pc,c)))))};$APP.l.ib=function(a,b){return o8(o8(o8(o8(o8(b,this.Pc),this.Tc),this.Rc),this.Qc),this.Sc)};var bCa=e2();$APP.l=K8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "rels":return this.Pd;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Y8,this.Pd],null),new $APP.M(null,2,5,$APP.O,[W8,this.sources],null),new $APP.M(null,2,5,$APP.O,[X8,this.rules],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[Y8,W8,X8],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new K8(this.Pd,this.sources,this.rules,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Pd,b.Pd)&&$APP.A.g(this.sources,b.sources)&&$APP.A.g(this.rules,b.rules)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[W8,null,X8,null,Y8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new K8(this.Pd,this.sources,this.rules,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Y8,b):$APP.J.call(null,Y8,b))?new K8(c,this.sources,this.rules,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W8,b):$APP.J.call(null,W8,b))?new K8(this.Pd,c,this.rules,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(X8,b):$APP.J.call(null,X8,b))?new K8(this.Pd,this.sources,c,this.s,this.o,null):new K8(this.Pd,this.sources,this.rules,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We(Y8,this.Pd,null),new $APP.We(W8,this.sources,null),new $APP.We(X8,this.rules,null)],null),this.o))};$APP.l.W=function(a,b){return new K8(this.Pd,this.sources,this.rules,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=L8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "attrs":return this.ma;case "tuples":return this.ce;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[g6,this.ma],null),new $APP.M(null,2,5,$APP.O,[f9,this.ce],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[g6,f9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new L8(this.ma,this.ce,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.ce,b.ce)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[f9,null,g6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new L8(this.ma,this.ce,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "attrs":case "tuples":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new L8(c,this.ce,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(f9,b):$APP.J.call(null,f9,b))?new L8(this.ma,c,this.s,this.o,null):new L8(this.ma,this.ce,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We(g6,this.ma,null),new $APP.We(f9,this.ce,null)],null),this.o))};$APP.l.W=function(a,b){return new L8(this.ma,this.ce,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
var Q8=function Q8(a,b){return $APP.A.g($APP.kC,a)?!0:$APP.A.g(new $APP.M(null,1,5,$APP.O,[$APP.dC],null),a)?$APP.Ce(b):a instanceof $APP.u?$APP.A.g(b,a):$APP.Ce(a)?$APP.A.g($APP.oe(a),$APP.dC)?$APP.Ce(b)&&$APP.yg(function(d){var e=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);return Q8.g?Q8.g(e,d):Q8.call(null,e,d)},$APP.Ej.j($APP.hy,$APP.fj(a),b)):$APP.Ce(b)&&$APP.A.g($APP.de(b),$APP.de(a))&&$APP.yg(function(d){var e=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);return Q8.g?Q8.g(e,d):Q8.call(null,e,d)},$APP.Ej.j($APP.hy,
a,b)):a.h?a.h(b):a.call(null,b)},p9=function p9(a,b){var d=$APP.gg(a),e=$APP.Te.g(d,g6);d=$APP.Te.g(d,f9);var f=$APP.gg(b),g=$APP.Te.g(f,g6);f=$APP.Te.g(f,f9);if($APP.A.g(e,g))return new L8(e,$APP.Th.g($APP.ff(d),f),null,null,null);if(Sza(e,g)){if($APP.yg($APP.ub,$APP.Si(e))){var h=$APP.ff(function(){return function x(v){return new $APP.Nf(null,function(){for(;;){var B=$APP.w(v);if(B){if($APP.Ge(B)){var F=$APP.bd(B),P=$APP.de(F),T=$APP.Qf(P);a:for(var Z=0;;)if(Z<P){var ba=$APP.qe(F,Z),ca=$APP.C.j(ba,
0,null);ba=$APP.C.j(ba,1,null);$APP.Uf(T,new $APP.M(null,2,5,$APP.O,[ba,e.h?e.h(ca):e.call(null,ca)],null));Z+=1}else{F=!0;break a}return F?$APP.Tf($APP.Vf(T),x($APP.cd(B))):$APP.Tf($APP.Vf(T),null)}F=$APP.y(B);T=$APP.C.j(F,0,null);F=$APP.C.j(F,1,null);return $APP.Gf(new $APP.M(null,2,5,$APP.O,[F,e.h?e.h(T):e.call(null,T)],null),x($APP.Id(B)))}return null}},null,null)}(g)}()),n=$APP.df.g($APP.Wn,$APP.Si(e))+1;b=$APP.Uc($APP.df.j(function(t,v){for(var x=Array(n),B=$APP.w(h),F=null,P=0,T=0;;)if(T<P){var Z=
F.ga(null,T),ba=$APP.C.j(Z,0,null);Z=$APP.C.j(Z,1,null);x[Z]=v[ba];T+=1}else if(B=$APP.w(B))$APP.Ge(B)?(P=$APP.bd(B),B=$APP.cd(B),F=P,P=$APP.de(P)):(P=$APP.y(B),F=$APP.C.j(P,0,null),P=$APP.C.j(P,1,null),x[P]=v[F],B=$APP.z(B),F=null,P=0),T=0;else break;return $APP.bh.g(t,x)},$APP.Sc($APP.ff(d)),f));return new L8(e,b,null,null,null)}var k=$APP.hj($APP.Qi($APP.ym.l($APP.D([e,g]))),$APP.Xn.B());d=function(){var t=new L8(k,$APP.ch,null,null,null);return p9.g?p9.g(t,a):p9.call(null,t,a)}();return p9.g?
p9.g(d,b):p9.call(null,d,b)}throw $APP.Jm.g(["Can’t sum relations with different attrs: ",$APP.ck.l($APP.D([e]))," and ",$APP.ck.l($APP.D([g]))].join(""),new $APP.m(null,1,[$APP.dE,o9],null));},l9=function l9(a){switch(arguments.length){case 0:return l9.B();case 2:return l9.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};l9.B=function(){return new L8($APP.fg,new $APP.M(null,1,5,$APP.O,[[]],null),null,null,null)};
l9.g=function(a,b){var c=$APP.Qi(g6.h(a)),d=$APP.Qi(g6.h(b)),e=$APP.ef($APP.Ej.g(g6.h(a),c)),f=$APP.ef($APP.Ej.g(g6.h(b),d));return new L8($APP.hj($APP.S.g(c,d),$APP.Xn.B()),$APP.Uc($APP.df.j(function(g,h){return $APP.df.j(function(n,k){return $APP.bh.g(n,S8(h,e,k,f))},g,f9.h(b))},$APP.Sc($APP.ch),f9.h(a))),null,null,null)};l9.A=2;z7.prototype.zf=function(){return l9.B()};
A7.prototype.zf=function(a,b){return new L8($APP.eg([$APP.er.g(this,new $APP.M(null,2,5,$APP.O,[V8,$APP.yn],null)),0]),new $APP.M(null,1,5,$APP.O,[$APP.At.h(new $APP.M(null,1,5,$APP.O,[b],null))],null),null,null,null)};
C7.prototype.zf=function(a,b){var c=this;if(Y2(b))return $APP.ye(b)?T8(c):$APP.df.g(p9,$APP.Ej.g(function(d){return U8(c.Db,d)},b));throw $APP.Jm.g(["Cannot bind value ",$APP.ck.l($APP.D([b]))," to collection ",$APP.ck.l($APP.D([d7(c)]))].join(""),new $APP.m(null,3,[$APP.dE,q$,$APP.qE,b,h$,d7(c)],null));};
B7.prototype.zf=function(a,b){if(Y2(b)){if($APP.de(b)<$APP.de(this.ic))throw $APP.Jm.g(["Not enough elements in a collection ",$APP.ck.l($APP.D([b]))," to bind tuple ",$APP.ck.l($APP.D([d7(this)]))].join(""),new $APP.m(null,3,[$APP.dE,q$,$APP.qE,b,h$,d7(this)],null));return $APP.df.g(l9,$APP.Ej.j(function(c,d){return U8(c,d)},this.ic,b))}throw $APP.Jm.g(["Cannot bind value ",$APP.ck.l($APP.D([b]))," to tuple ",$APP.ck.l($APP.D([d7(this)]))].join(""),new $APP.m(null,3,[$APP.dE,q$,$APP.qE,b,h$,d7(this)],
null));};var a9=null,b9=null,aAa=$APP.gk.h(0),u9=function u9(a){switch(arguments.length){case 2:return u9.g(arguments[0],arguments[1]);case 3:return u9.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};u9.g=function(a,b){return u9.j(a,b,b)};
u9.j=function(a,b,c){for(;;){var d=Q8,e=b;if($APP.p(function(){var ba=new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.zd,$APP.dC],null)],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return C9(B9(a),$APP.$g.g(O8,$APP.ke(b)),b),Zza(a,b);if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.zd,$APP.dC],null),$APP.kC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return C9(B9(a),$APP.$g.g(O8,$APP.ke(b)),b),$za(a,b);if($APP.p(function(){var ba=
new $APP.M(null,2,5,$APP.O,[N8,$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){var f=$APP.w(b);c=$APP.y(f);f=$APP.z(f);var g=b9;b9=$APP.Te.g(W8.h(a),c);try{return u9.j(a,f,b)}finally{b9=g}}else{if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[$APP.Lu,$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){var h=b,n=$APP.w(h),k=$APP.y(n),t=$APP.z(n);f=k;g=t;var v=iAa(B9(a),g,b),x=$APP.Ej.g(function(ba){return function(ca){return E9.g?E9.g(ba,ca):E9.call(null,ba,ca)}}(a,
b,c,h,n,k,t,f,g,v,d,e),g);b=$APP.Ej.g(function(){return function(ba){return $APP.df.g(g9,Y8.h(ba))}}(a,b,c,h,n,k,t,f,g,v,x,d,e),x);return $APP.Vi.j($APP.y(x),Y8,new $APP.M(null,1,5,$APP.O,[$APP.df.g(p9,b)],null))}if($APP.p(function(){var ba=new $APP.M(null,3,5,$APP.O,[r8,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,1,5,$APP.O,[$APP.dC],null),$APP.dC],null),$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){g=$APP.w(b);f=$APP.y(g);g=$APP.z(g);h=$APP.y(g);f=$APP.z(g);h=$APP.w(h);g=$APP.y(h);
h=$APP.z(h);v=g;g=f;f=B9(a);C9(f,v,c);D9(f,h,g);c=$APP.Lt.j(r8,$APP.S.g(v,h),g);f=b;b=c;c=f;continue}else{if($APP.p(function(){var ba=new $APP.M(null,3,5,$APP.O,[r8,new $APP.M(null,1,5,$APP.O,[$APP.dC],null),$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){k=b;t=$APP.w(k);var B=$APP.y(t),F=$APP.z(t);f=B;var P=$APP.y(F),T=$APP.z(F);h=P;g=T;var Z=$APP.ej(h);v=D9(B9(a),Z,g);n=A9(a,Z);x=$APP.Ej.g(function(ba,ca,ia,oa,la,K,E,Q,I,N,fa,ha,ja,ra,sa){return function(va){return A9(E9.g?E9.g(sa,
va):E9.call(null,sa,va),ja)}}(a,b,c,k,t,B,F,f,P,T,h,g,Z,v,n,d,e),g);b=$APP.Ej.g(function(){return function(ba){return $APP.df.g(g9,Y8.h(ba))}}(a,b,c,k,t,B,F,f,P,T,h,g,Z,v,n,x,d,e),x);b=$APP.df.g(p9,b);return $APP.Vn.F(a,Y8,i9,b)}if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[$APP.Fu,$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return c=$APP.w(b),b=$APP.y(c),c=$APP.z(c),f=b,b=c,$APP.df.j(E9,a,b);if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[$APP.kD,$APP.dC],null),
ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){f=$APP.w(b);b=$APP.y(f);g=$APP.z(f);f=b;b=g;f=B9(a);g=$APP.ej(t9(b));if($APP.ye($APP.cx.g(f,g)))throw $APP.Jm.g(["Insufficient bindings: none of ",$APP.ck.l($APP.D([g]))," is bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,2,[$APP.dE,o9,$APP.FB,c],null));v=null;a=$APP.Vi.j(a,Y8,new $APP.M(null,1,5,$APP.O,[$APP.df.g(g9,Y8.h(a))],null));b=$APP.df.j(E9,a,b);b=h9($APP.y(Y8.h(a)),$APP.df.g(g9,Y8.h(b)));return $APP.Vi.j(a,Y8,new $APP.M(null,
1,5,$APP.O,[b],null))}if($APP.p(function(){var ba=new $APP.M(null,3,5,$APP.O,[p8,new $APP.M(null,1,5,$APP.O,[$APP.dC],null),$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return b=$APP.w(b),f=$APP.y(b),b=$APP.z(b),f=$APP.y(b),b=$APP.z(b),h=f,f=B9(a),v=C9(f,h,c),a=$APP.Vi.j(a,Y8,new $APP.M(null,1,5,$APP.O,[$APP.df.g(g9,Y8.h(a))],null)),n=A9(a,h),b=A9($APP.df.j(E9,n,b),h),b=h9($APP.y(Y8.h(a)),$APP.df.g(g9,Y8.h(b))),$APP.Vi.j(a,Y8,new $APP.M(null,1,5,$APP.O,[b],null));if($APP.p(function(){var ba=
new $APP.M(null,1,5,$APP.O,[$APP.dC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){c=b9;b=gAa(c,b);f=Xza(c,b);g=a9;a9=(null!=c?$APP.wd===c.qh||(c.qd?0:$APP.zb(K3,c)):$APP.zb(K3,c))?hAa(c,b):a9;try{return $APP.Vn.F(a,Y8,i9,f)}finally{a9=g}}else throw Error(["No matching clause: ",$APP.q.h(e)].join(""));}}break}};u9.A=3;
var E9=function E9(a,b){if(q9(a,b))if(N8($APP.y(b))){var d=b9;b9=$APP.Te.g(W8.h(a),$APP.y(b));try{var e=$APP.z(b);return E9.g?E9.g(a,e):E9.call(null,a,e)}finally{b9=d}}else return $APP.Vn.F(a,Y8,i9,fAa(a,b));else return u9.g(a,b)};f7.prototype.Af=function(a,b){return k9(b,this.Ba)};g7.prototype.Af=function(a,b){return $APP.er.g(b,new $APP.M(null,2,5,$APP.O,[W8,this.Ba],null))};k7.prototype.Af=function(){var a=$APP.Te.g(aCa,this.Ba);return $APP.p(a)?a:null};j7.prototype.Af=function(){return this.value};
L7.prototype.Bf=function(a,b,c){return null==b?c:I9(b,c)};M7.prototype.Bf=function(a,b,c){return $APP.Th.j($APP.ch,$APP.Ej.h($APP.y),c)};N7.prototype.Bf=function(a,b,c){return $APP.je(c)};O7.prototype.Bf=function(a,b,c){return null!=b?$APP.y(I9(b,new $APP.M(null,1,5,$APP.O,[$APP.y(c)],null))):$APP.y(c)};var M$=function M$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return M$.l(arguments[0],1<c.length?new $APP.Ed(c.slice(1),0,null):null)};
M$.l=function(a,b){var c=c2(bCa,a,function(){return Rza(a)}),d=y8.h(c),e=K7(d),f=$APP.Yg.l(H7,$APP.D([K7(d)])),g=$APP.de(e),h=z8.h(c);h=$APP.S.g(f,$APP.Ej.g($APP.yn,h));f=$APP.Ce(a)?D8(a):a;var n=I8.h(f);b=Uza(new K8($APP.ch,$APP.fg,$APP.fg,null,null,null),B8.h(c),b);h=kAa(jAa(b,n),h);f=$APP.p(J8.h(f))?$APP.Gq.g(function(k){return $APP.ff($APP.Ml.j(k,0,g))},h):h;f=$APP.p($APP.zg(P7,e))?mAa(e,b,f):f;e=$APP.p($APP.zg(Q7,e))?oAa(e,b,f):f;return J9(d,A8.h(c),e)};M$.A=1;
M$.D=function(a){var b=$APP.y(a);a=$APP.z(a);return this.l(b,a)};L9.g=function(a,b){return L9.j(a,b,null)};L9.j=function(a,b,c){if(a instanceof Y3)throw $APP.Jm.g("Filtered DB cannot be modified",new $APP.m(null,1,[$APP.dE,LBa],null));return q5(L4(new $APP.m(null,5,[G4,a,H4,a,I4,$APP.ch,J4,$APP.fg,K4,c],null)),b)};L9.A=3;
var N$=function N$(a){switch(arguments.length){case 2:return N$.g(arguments[0],arguments[1]);case 3:return N$.j(arguments[0],arguments[1],arguments[2]);case 4:return N$.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return N$.N(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return N$.ua(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};
N$.g=function(a,b){return E3(a,b,$APP.ch)};N$.j=function(a,b,c){return E3(a,b,new $APP.M(null,1,5,$APP.O,[c],null))};N$.F=function(a,b,c,d){return E3(a,b,new $APP.M(null,2,5,$APP.O,[c,d],null))};N$.N=function(a,b,c,d,e){return E3(a,b,new $APP.M(null,3,5,$APP.O,[c,d,e],null))};N$.ua=function(a,b,c,d,e,f){return E3(a,b,new $APP.M(null,4,5,$APP.O,[c,d,e,f],null))};N$.A=6;
var O$=function O$(a){switch(arguments.length){case 1:return O$.h(arguments[0]);case 2:return O$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};O$.h=function(a){return P9(w4.h?w4.h(a):w4.call(null,a))};O$.g=function(a,b){return P9(w4.g?w4.g(a,b):w4.call(null,a,b))};O$.A=2;
var P$=function P$(a){switch(arguments.length){case 0:return P$.B();case 1:return P$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};P$.B=function(){return P9(w$.B?w$.B():w$.call(null))};P$.h=function(a){return P9(w$.h?w$.h(a):w$.call(null,a))};P$.A=1;
var Q$=function Q$(a){switch(arguments.length){case 2:return Q$.g(arguments[0],arguments[1]);case 3:return Q$.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};Q$.g=function(a,b){return Q$.j(a,b,null)};
Q$.j=function(a,b,c){b=pAa(a,b,c);a=O9.h($APP.ve(a));a=null==a?null:$APP.r(a);a=$APP.w(a);c=null;for(var d=0,e=0;;)if(e<d){var f=c.ga(null,e);$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);f.h?f.h(b):f.call(null,b);e+=1}else if(a=$APP.w(a))$APP.Ge(a)?(d=$APP.bd(a),a=$APP.cd(a),c=d,d=$APP.de(d)):(c=$APP.y(a),$APP.C.j(c,0,null),c=$APP.C.j(c,1,null),c.h?c.h(b):c.call(null,b),a=$APP.z(a),c=null,d=0),e=0;else break;return b};Q$.A=3;
var R$=function R$(a){switch(arguments.length){case 2:return R$.g(arguments[0],arguments[1]);case 3:return R$.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};R$.g=function(a,b){return R$.j(a,b,null)};
R$.j=function(a,b,c){c=L4(new $APP.m(null,4,[G4,$APP.r(a),H4,b,I4,$APP.S.g($APP.Ej.g(function(n){return $APP.Vi.j(n,$APP.ID,!1)},N$.g($APP.r(a),P3)),N$.g(b,P3)),K4,c],null));$APP.Ig(a,b);for(var d=$APP.w(function(){var n=O9.h($APP.ve(a));return null==n?null:$APP.r(n)}()),e=null,f=0,g=0;;)if(g<f){var h=e.ga(null,g);$APP.C.j(h,0,null);h=$APP.C.j(h,1,null);h.h?h.h(c):h.call(null,c);g+=1}else if(d=$APP.w(d))$APP.Ge(d)?(f=$APP.bd(d),d=$APP.cd(d),e=f,f=$APP.de(f)):(e=$APP.y(d),$APP.C.j(e,0,null),e=$APP.C.j(e,
1,null),e.h?e.h(c):e.call(null,c),d=$APP.z(d),e=null,f=0),g=0;else break;return b};R$.A=3;var S$=function S$(a){switch(arguments.length){case 2:return S$.g(arguments[0],arguments[1]);case 3:return S$.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};S$.g=function(a,b){return S$.j(a,$APP.Oy.B(),b)};S$.j=function(a,b,c){$APP.hk.F(O9.h($APP.ve(a)),$APP.Vi,b,c);return b};S$.A=3;
for(var T$=$APP.w(new $APP.m(null,2,[rAa,o3,SBa,x4],null)),U$=null,V$=0,W$=0;;)if(W$<V$){var cCa=U$.ga(null,W$),dCa=$APP.C.j(cCa,0,null),eCa=$APP.C.j(cCa,1,null),fCa=dCa,gCa=eCa;$APP.Te.g($APP.r($APP.QH),fCa);$APP.hk.F($APP.QH,$APP.Vi,fCa,gCa);W$+=1}else{var hCa=$APP.w(T$);if(hCa){var X$=hCa;if($APP.Ge(X$)){var iCa=$APP.bd(X$),jCa=$APP.cd(X$),kCa=iCa,lCa=$APP.de(iCa);T$=jCa;U$=kCa;V$=lCa}else{var mCa=$APP.y(X$),nCa=$APP.C.j(mCa,0,null),oCa=$APP.C.j(mCa,1,null),pCa=nCa,qCa=oCa;$APP.Te.g($APP.r($APP.QH),
pCa);$APP.hk.F($APP.QH,$APP.Vi,pCa,qCa);T$=$APP.z(X$);U$=null;V$=0}W$=0}else break}$APP.gk.h(-1E6);var Y$=function Y$(a){switch(arguments.length){case 0:return Y$.B();case 1:return Y$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};Y$.B=function(){return Y$.h((new Date).getTime())};
Y$.h=function(a){return $APP.Nk([$APP.q.h(R9(a/1E3|0,8)),"-",$APP.q.h(R9($APP.jk(65536),4)),"-",$APP.q.h(R9($APP.jk(65536)&4095|16384,4)),"-",$APP.q.h(R9($APP.jk(65536)&16383|32768,4)),"-",$APP.q.h(R9($APP.jk(65536),4)),$APP.q.h(R9($APP.jk(65536),4)),$APP.q.h(R9($APP.jk(65536),4))].join(""))};Y$.A=1;var Z$=$APP.xq(i$,null),$$=$APP.xq(u$,null),rCa=$APP.yi([lBa,YBa,CAa,UAa,vBa,o$,wBa,zBa,$Ba,pBa,SAa,KBa,y4,rBa,MBa,VBa,QBa,OAa,ABa,UBa,$APP.UF,s$,R7,jBa],[function(){var a=new $APP.Cd(function(){return L9},KAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,lBa,"datascript/core.cljc",11,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,3,$APP.VF,3,$APP.eF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[y4,f$],null),new $APP.M(null,3,5,$APP.O,[y4,f$,v$],
null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[y4,f$],null),new $APP.M(null,3,5,$APP.O,[y4,f$,v$],null)),$APP.iG,$APP.R(null,null)],null),1,256,256,$APP.R(new $APP.M(null,2,5,$APP.O,[y4,f$],null),new $APP.M(null,3,5,$APP.O,[y4,f$,v$],null)),"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",$APP.p(L9)?L9.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),
$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return J$},ZBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,YBa,"datascript/core.cljc",12,1,120,130,$APP.Hd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',
$APP.p(J$)?J$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return H5},oBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,CAa,"datascript/core.cljc",9,1,23,72,
$APP.Hd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n             \n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n            \n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n             \n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n             \n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n               \n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.p(H5)?H5.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return M$},AAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,UAa,"datascript/core.cljc",4,1,135,
147,$APP.Hd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n          \n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.p(M$)?M$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],
null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return S$},JBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,vBa,"datascript/core.cljc",14,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,3,$APP.VF,3,$APP.eF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[p$,$APP.uz],null),new $APP.M(null,3,5,$APP.O,[p$,
$APP.dA,$APP.uz],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,$APP.uz],null),new $APP.M(null,3,5,$APP.O,[p$,$APP.dA,$APP.uz],null)),$APP.iG,$APP.R(null,null)],null),1,592,592,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,$APP.uz],null),new $APP.M(null,3,5,$APP.O,[p$,$APP.dA,$APP.uz],null)),"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n   \n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n   \n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.p(S$)?S$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return m3},DBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,o$,"datascript/core.cljc",8,1,172,178,
$APP.Hd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.p(m3)?m3.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,
d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return M9},TBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,wBa,"datascript/core.cljc",14,1,271,271,$APP.R(new $APP.M(null,2,5,$APP.O,[y4,f$],null)),"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.p(M9)?M9.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,
a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return N9},HBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,zBa,"datascript/core.cljc",18,1,405,405,$APP.R(new $APP.M(null,4,5,$APP.O,[y4,XAa,$APP.bea,$APP.Bja],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n  \n   Same properties as [[datoms]].\n   \n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n   \n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n        \n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n           \n   Useful patterns:\n     \n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.p(N9)?N9.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return P9},NAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,$Ba,"datascript/core.cljc",19,1,444,
444,$APP.R(new $APP.M(null,1,5,$APP.O,[y4],null)),"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.p(P9)?P9.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return R$},
JAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,pBa,"datascript/core.cljc",18,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,3,$APP.VF,3,$APP.eF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[p$,y4],null),new $APP.M(null,3,5,$APP.O,[p$,y4,v$],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,y4],null),new $APP.M(null,3,5,$APP.O,[p$,y4,v$],null)),$APP.iG,$APP.R(null,null)],null),1,570,570,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,y4],null),
new $APP.M(null,3,5,$APP.O,[p$,y4,v$],null)),"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.p(R$)?R$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,
d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Q$},gBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,SAa,"datascript/core.cljc",16,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,3,$APP.VF,3,$APP.eF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[p$,f$],null),new $APP.M(null,3,5,$APP.O,[p$,f$,v$],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,f$],null),new $APP.M(null,3,5,$APP.O,[p$,f$,v$],null)),$APP.iG,$APP.R(null,
null)],null),1,476,476,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,f$],null),new $APP.M(null,3,5,$APP.O,[p$,f$,v$],null)),'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n  \n   Returns transaction report, a map:\n\n       { :db-before ...       ; db value before transaction\n         :db-after  ...       ; db value after transaction\n         :tx-data   [...]     ; plain datoms that were added/retracted from db-before\n         :tempids   {...}     ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n         :tx-meta   tx-meta } ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n  \n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n  \n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n  \n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n  \n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n      \n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n  \n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n  \n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n  \n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n  \n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n  \n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n      \n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n                                 \n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.p(Q$)?Q$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Y$},sAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,KBa,"datascript/core.cljc",
13,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,1,$APP.VF,1,$APP.eF,new $APP.M(null,2,5,$APP.O,[$APP.ch,new $APP.M(null,1,5,$APP.O,[V9],null)],null),$APP.Y,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[V9],null)),$APP.iG,$APP.R(null,null)],null),1,728,728,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[V9],null)),"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n  \n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",
$APP.p(Y$)?Y$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Q9},PAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,y4,"datascript/core.cljc",9,1,654,654,
$APP.R(new $APP.M(null,1,5,$APP.O,[p$],null)),"Returns the underlying immutable database value from a connection.\n   \n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",$APP.p(Q9)?Q9.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,
b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return K$},TAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,rBa,"datascript/core.cljc",15,1,195,207,$APP.Hd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.p(K$)?K$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return O$},xBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,MBa,"datascript/core.cljc",
23,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,2,$APP.VF,2,$APP.eF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,1,5,$APP.O,[s$],null),new $APP.M(null,2,5,$APP.O,[s$,d$],null)],null),$APP.Y,$APP.R(new $APP.M(null,1,5,$APP.O,[s$],null),new $APP.M(null,2,5,$APP.O,[s$,d$],null)),$APP.iG,$APP.R(null,null)],null),1,450,450,$APP.R(new $APP.M(null,1,5,$APP.O,[s$],null),new $APP.M(null,2,5,$APP.O,[s$,d$],null)),"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.p(O$)?O$.S:null])),b=$APP.r(a),
c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return L$},zAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,VBa,"datascript/core.cljc",20,1,210,218,$APP.Hd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.p(L$)?L$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return w$},vAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,QBa,"datascript/core.cljc",11,1,152,
164,$APP.Hd,"Creates an empty database with an optional schema.\n\n             Usage:\n             \n             ```\n             (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n  \n             (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n             ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n             ;                    :datoms []}\n             ```",$APP.p(w$)?w$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:
$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return w4},FAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,OAa,"datascript/core.cljc",10,1,186,192,$APP.Hd,"Low-level fn for creating database quickly from a trusted sequence of datoms.\n\n             Does no validation on inputs, so `datoms` must be well-formed and match schema.\n\n             Used internally in db (de)serialization. See also [[datom]].",
$APP.p(w4)?w4.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return L5},GAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,ABa,"datascript/core.cljc",8,1,91,100,
$APP.Hd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",$APP.p(L5)?L5.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?
$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return 536870912},nBa,$APP.yi([$APP.Zka,$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.xA,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[!0,i$,UBa,"datascript/core.cljc",26,1,!0,18,18,$APP.Hd,null,$APP.p(536870912)?(536870912).S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),
$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return K9},yAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,$APP.UF,"datascript/core.cljc",13,1,235,235,$APP.R(new $APP.M(null,2,5,$APP.O,[y4,$APP.bH],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n   \n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.p(K9)?K9.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return N$},mBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,s$,"datascript/core.cljc",13,
new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,6,$APP.VF,6,$APP.eF,new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[y4,$APP.rG],null),new $APP.M(null,3,5,$APP.O,[y4,$APP.rG,k$],null),new $APP.M(null,4,5,$APP.O,[y4,$APP.rG,k$,l$],null),new $APP.M(null,5,5,$APP.O,[y4,$APP.rG,k$,l$,m$],null),new $APP.M(null,6,5,$APP.O,[y4,$APP.rG,k$,l$,m$,n$],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[y4,$APP.rG],null),new $APP.M(null,3,5,$APP.O,[y4,$APP.rG,k$],null),new $APP.M(null,4,5,$APP.O,[y4,$APP.rG,
k$,l$],null),new $APP.M(null,5,5,$APP.O,[y4,$APP.rG,k$,l$,m$],null),new $APP.M(null,6,5,$APP.O,[y4,$APP.rG,k$,l$,m$,n$],null)),$APP.iG,$APP.R(null,null,null,null,null)],null),1,280,280,$APP.R(new $APP.M(null,2,5,$APP.O,[y4,$APP.rG],null),new $APP.M(null,3,5,$APP.O,[y4,$APP.rG,k$],null),new $APP.M(null,4,5,$APP.O,[y4,$APP.rG,k$,l$],null),new $APP.M(null,5,5,$APP.O,[y4,$APP.rG,k$,l$,m$],null),new $APP.M(null,6,5,$APP.O,[y4,$APP.rG,k$,l$,m$,n$],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n  \n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n       \n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n  \n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n  \n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n  \n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n  \n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n  \n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n  \n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n   \n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.p(N$)?N$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return I$},VAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,R7,"datascript/core.cljc",7,1,105,117,
$APP.Hd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.p(I$)?I$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),function(){var a=new $APP.Cd(function(){return P$},tAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[i$,jBa,"datascript/core.cljc",
18,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,1,$APP.VF,1,$APP.eF,new $APP.M(null,2,5,$APP.O,[$APP.ch,new $APP.M(null,1,5,$APP.O,[d$],null)],null),$APP.Y,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[d$],null)),$APP.iG,$APP.R(null,null)],null),1,456,456,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[d$],null)),"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.",
$APP.p(P$)?P$.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}()]),sCa=new $APP.m(null,7,[aBa,function(){var a=new $APP.Cd(function(){return x4},tBa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[u$,aBa,"datascript/db.cljc",
21,1,885,885,$APP.R(new $APP.M(null,1,5,$APP.O,[new $APP.m(null,1,[$APP.hC,new $APP.M(null,2,5,$APP.O,[d$,s$],null)],null)],null)),null,$APP.p(x4)?x4.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),RAa,function(){var a=new $APP.Cd(function(){return o3},
YAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Bn,$APP.Y,$APP.U,$APP.wG],[u$,RAa,"datascript/db.cljc",31,1,297,297,g$,$APP.R(new $APP.M(null,1,5,$APP.O,[$APP.hF],null)),null,$APP.p(o3)?o3.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):
$APP.cw(a,b,d)}(),xAa,function(){var a=new $APP.Cd(function(){return a3},LAa,$APP.yi([$APP.os,$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[T9,u$,xAa,"datascript/db.cljc",15,1,154,156,$APP.R(new $APP.M(null,1,5,$APP.O,[$APP.gF],null)),null,$APP.p(a3)?a3.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=
$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),uAa,function(){var a=new $APP.Cd(function(){return $2},hBa,$APP.yi([$APP.os,$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.Kn,$APP.Hm,$APP.JH,$APP.Y,$APP.U,$APP.wG],[T9,u$,uAa,"datascript/db.cljc",12,1,154,155,$APP.R(new $APP.M(null,1,5,$APP.O,[$APP.gF],null)),null,$APP.p($2)?$2.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],
null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),o$,function(){var a=new $APP.Cd(function(){return m3},HAa,$APP.yi([$APP.uq,$APP.V,$APP.Gm,$APP.Zz,$APP.dD,$APP.Kn,$APP.Hm,$APP.JH,$APP.Bn,$APP.Y,$APP.U,$APP.wG],[u$,o$,"datascript/db.cljc",19,new $APP.m(null,6,[$APP.IA,!1,$APP.Yt,5,$APP.VF,5,$APP.eF,new $APP.M(null,3,5,$APP.O,[new $APP.M(null,3,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC],null),new $APP.M(null,
4,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC,e$],null),new $APP.M(null,5,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC,e$,X9],null)],null),$APP.Y,$APP.R(new $APP.M(null,3,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC],null),new $APP.M(null,4,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC,e$],null),new $APP.M(null,5,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC,e$,X9],null)),$APP.iG,$APP.R(null,null,null)],null),1,233,233,g$,$APP.R(new $APP.M(null,3,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC],null),new $APP.M(null,4,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC,e$],null),new $APP.M(null,
5,5,$APP.O,[$APP.qC,$APP.nC,$APP.zC,e$,X9],null)),null,$APP.p(m3)?m3.S:null])),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),ZAa,function(){var a=new $APP.Cd(function(){return N3},NBa,new $APP.m(null,8,[$APP.uq,u$,$APP.U,null,$APP.Gm,"datascript/db.cljc",
$APP.Hm,499,$APP.Kn,22,$APP.V,ZAa,$APP.wG,$APP.p(N3)?N3.S:null,$APP.Y,$APP.Hd],null)),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}(),g$,function(){var a=new $APP.Cd(function(){return b3},RBa,new $APP.m(null,8,[$APP.uq,u$,$APP.U,null,$APP.Gm,"datascript/db.cljc",
$APP.Hm,160,$APP.Kn,10,$APP.V,g$,$APP.wG,$APP.p(b3)?b3.S:null,$APP.Y,$APP.Hd],null)),b=$APP.r(a),c=$APP.ve(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.uq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.U,$APP.U.h(c)],null);return $APP.p($APP.sr.h(c))?$APP.dw(a,b,d):$APP.p(function(){var e=$APP.Aq.h(c);return $APP.p(e)?e:$APP.Uq.h(c)}())?$APP.ew(a,b,d):$APP.cw(a,b,d)}()],null);$APP.xw(new $APP.m(null,1,[$APP.fr,new $APP.m(null,2,[i$,rCa,u$,sCa],null)],null));
}).call(this);